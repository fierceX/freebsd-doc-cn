Şß¾Part IV. Network Communication»ç¬¬å››éƒ¨åˆ†ï¼šç½‘ç»œé€šä¿¡µNetwork Communication¬ç½‘ç»œé€šä¿¡Ù„FreeBSD is one of the most widely deployed operating systems for high performance network servers.  The chapters in this part cover:ÙkFreeBSD æ˜¯æœ€å¹¿æ³›éƒ¨ç½²çš„é«˜æ€§èƒ½ç½‘ç»œæœåŠ¡å™¨æ“ä½œç³»ç»Ÿä¹‹ä¸€ã€‚æœ¬éƒ¨åˆ†çš„ç« èŠ‚å†…å®¹åŒ…æ‹¬ï¼š´Serial communication¬ä¸²è¡Œé€šä¿¡½`PPP` and `PPP` over EthernetºPPP å’Œä»¥å¤ªç½‘ä¸Šçš„ PPP¯Electronic Mail¬ç”µå­é‚®ä»¶·Running Network Serversµè¿è¡Œç½‘ç»œæœåŠ¡å™¨©Firewalls©é˜²ç«å¢™Ù Other Advanced Networking Topics¸å…¶ä»–é«˜çº§ç½‘ç»œä¸»é¢˜ÙÓThese chapters are designed to be read when the information is needed.  They do not need to be read in any particular order, nor is it necessary to read all of them before using FreeBSD in a network environment.Ù«è¿™äº›ç« èŠ‚çš„è®¾è®¡æ˜¯åœ¨éœ€è¦ä¿¡æ¯æ—¶é˜…è¯»ã€‚å®ƒä»¬ä¸éœ€è¦æŒ‰ç…§ç‰¹å®šçš„é¡ºåºé˜…è¯»ï¼Œä¹Ÿä¸éœ€è¦åœ¨ä½¿ç”¨ FreeBSD åœ¨ç½‘ç»œç¯å¢ƒä¸­ä¹‹å‰é˜…è¯»æ‰€æœ‰ç« èŠ‚ã€‚·Part I. Getting Started»ç¬¬ä¸€éƒ¨åˆ†ï¼šå…¥é—¨æŒ‡å—¯Getting Started¬å…¥é—¨æŒ‡å—ÙbThis part of the handbook is for users and administrators who are new to FreeBSD.  These chapters:Ùdæœ¬æ‰‹å†Œçš„è¿™éƒ¨åˆ†æ˜¯ä¸ºé‚£äº›å¯¹FreeBSDæ–°æ‰‹ç”¨æˆ·å’Œç®¡ç†å‘˜å‡†å¤‡çš„ã€‚è¿™äº›ç« èŠ‚åŒ…æ‹¬ï¼š²Introduce FreeBSD.±ä»‹ç» FreeBSDã€‚Ù/Guide readers through the installation process.Ù!å¼•å¯¼è¯»è€…å®Œæˆå®‰è£…è¿‡ç¨‹ã€‚Ù&Teach UNIX(R) basics and fundamentals.Ù0æ•™æˆ UNIX(R) çš„åŸºç¡€çŸ¥è¯†å’ŒåŸºæœ¬åŸç†ã€‚ÙQShow how to install the wealth of third party applications available for FreeBSD.ÙEå±•ç¤ºå¦‚ä½•å®‰è£…é€‚ç”¨äº FreeBSD çš„ä¸°å¯Œç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºã€‚Ù~Introduce X, the UNIX(R) windowing system, and detail how to configure a desktop environment that makes users more productive.Ùkä»‹ç» UNIX(R) çª—å£ç³»ç»Ÿ Xï¼Œå¹¶è¯¦ç»†è¯´æ˜å¦‚ä½•é…ç½®ä¸€ä¸ªèƒ½æé«˜ç”¨æˆ·ç”Ÿäº§åŠ›çš„æ¡Œé¢ç¯å¢ƒã€‚Ù4Introduce Wayland, a new display server for UNIX(R).Ù8ä»‹ç» Waylandï¼Œä¸€ç§æ–°çš„ UNIX(R) æ˜¾ç¤ºæœåŠ¡å™¨ã€‚Ù˜The number of forward references in the text have been kept to a minimum so that this section can be read from front to back with minimal page flipping.Ù~æ–‡æœ¬ä¸­çš„æ­£å‘å¼•ç”¨æ•°é‡è¢«å°½é‡å‡å°‘ï¼Œä»¥ä¾¿è¿™ä¸€éƒ¨åˆ†å¯ä»¥ä»å¤´åˆ°å°¾åœ°é˜…è¯»ï¼Œæœ€å¤§ç¨‹åº¦åœ°å‡å°‘ç¿»é¡µã€‚Ù?A constantly evolving, comprehensive resource for FreeBSD usersÙ4ä¸€ä¸ªä¸æ–­å‘å±•çš„ã€å…¨é¢çš„FreeBSDç”¨æˆ·èµ„æº°FreeBSD Handbook­FreeBSDæ‰‹å†Œ²Part V. Appendices´ç¬¬äº”éƒ¨åˆ†. é™„å½•«Appendices ¦é™„å½•µPart II. Common Tasks»ç¬¬äºŒéƒ¨åˆ†ï¼šå¸¸è§ä»»åŠ¡¬Common Tasks¬å¸¸è§ä»»åŠ¡ÙNow that the basics have been covered, this part of the book discusses some frequently used features of FreeBSD.  These chapters:Ù{ç°åœ¨åŸºç¡€çŸ¥è¯†å·²ç»ä»‹ç»å®Œæ¯•ï¼Œæœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†å°†è®¨è®º FreeBSD çš„ä¸€äº›å¸¸ç”¨åŠŸèƒ½ã€‚è¿™äº›ç« èŠ‚åŒ…æ‹¬ï¼šÙlIntroduce popular and useful desktop applications: browsers, productivity tools, document viewers, and more.Ù`ä»‹ç»æµè¡Œä¸”å®ç”¨çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼šæµè§ˆå™¨ã€åŠå…¬å·¥å…·ã€æ–‡æ¡£æŸ¥çœ‹å™¨ç­‰ç­‰ã€‚Ù=Introduce a number of multimedia tools available for FreeBSD.Ù3ä»‹ç»ä¸€äº›é€‚ç”¨äº FreeBSD çš„å¤šåª’ä½“å·¥å…·ã€‚ÙZExplain the process of building a customized FreeBSD kernel to enable extra functionality.ÙEè§£é‡Šæ„å»ºè‡ªå®šä¹‰ FreeBSD å†…æ ¸ä»¥å¯ç”¨é¢å¤–åŠŸèƒ½çš„è¿‡ç¨‹ã€‚Ù[Describe the print system in detail, both for desktop and network-connected printer setups.ÙEè¯¦ç»†æè¿°æ¡Œé¢å’Œç½‘ç»œè¿æ¥æ‰“å°æœºè®¾ç½®ä¸­çš„æ‰“å°ç³»ç»Ÿã€‚Ù9Show how to run Linux applications on the FreeBSD system.Ù=å±•ç¤ºå¦‚ä½•åœ¨ FreeBSD ç³»ç»Ÿä¸Šè¿è¡Œ Linux åº”ç”¨ç¨‹åºã€‚ÙsSome of these chapters recommend prior reading, and this is noted in the synopsis at the beginning of each chapter.ÙTå…¶ä¸­ä¸€äº›ç« èŠ‚å»ºè®®å…ˆé˜…è¯»ï¼Œè¿™åœ¨æ¯ä¸ªç« èŠ‚å¼€å¤´çš„ç®€ä»‹ä¸­æœ‰æ³¨æ˜ã€‚¿Part III. System Administration»ç¬¬ä¸‰éƒ¨åˆ†ï¼šç³»ç»Ÿç®¡ç†µSystem Administration¬ç³»ç»Ÿç®¡ç†ÙùThe remaining chapters cover all aspects of FreeBSD system administration.  Each chapter starts by describing what will be learned as a result of reading the chapter, and also details what the reader is expected to know before tackling the material.ÙÉå‰©ä¸‹çš„ç« èŠ‚æ¶µç›–äº† FreeBSD ç³»ç»Ÿç®¡ç†çš„å„ä¸ªæ–¹é¢ã€‚æ¯ä¸€ç« éƒ½ä»¥æè¿°è¯»å®Œè¯¥ç« èŠ‚åå°†å­¦åˆ°çš„å†…å®¹ä¸ºå¼€å¤´ï¼Œå¹¶è¯¦ç»†è¯´æ˜è¯»è€…åœ¨å­¦ä¹ è¯¥ç« èŠ‚ä¹‹å‰åº”è¯¥å…·å¤‡çš„çŸ¥è¯†ã€‚Ù¸These chapters are designed to be read as the information is needed.  They do not need to be read in any particular order, nor must all of them be read before beginning to use FreeBSD.Ùœè¿™äº›ç« èŠ‚çš„è®¾è®¡æ˜¯æ ¹æ®éœ€è¦é˜…è¯»çš„ã€‚å®ƒä»¬ä¸éœ€è¦æŒ‰ç…§ç‰¹å®šçš„é¡ºåºé˜…è¯»ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¼€å§‹ä½¿ç”¨ FreeBSD ä¹‹å‰å…¨éƒ¨é˜…è¯»å®Œæ¯•ã€‚Ù@Basic commands and functionality of the FreeBSD operating systemÙ,FreeBSD æ“ä½œç³»ç»Ÿçš„åŸºæœ¬å‘½ä»¤å’ŒåŠŸèƒ½¹Chapter 3. FreeBSD Basics¿ç¬¬ä¸‰ç« . FreeBSD åŸºç¡€çŸ¥è¯†®FreeBSD Basics´FreeBSD åŸºç¡€çŸ¥è¯†¨Synopsis¦ç®€ä»‹ÙíThis chapter covers the basic commands and functionality of the FreeBSD operating system.  Much of this material is relevant for any UNIX(R)-like operating system.  New FreeBSD users are encouraged to read through this chapter carefully.Ù´æœ¬ç« ä»‹ç»äº† FreeBSD æ“ä½œç³»ç»Ÿçš„åŸºæœ¬å‘½ä»¤å’ŒåŠŸèƒ½ã€‚å…¶ä¸­å¾ˆå¤šå†…å®¹å¯¹äºä»»ä½•ç±» UNIX æ“ä½œç³»ç»Ÿéƒ½æ˜¯ç›¸å…³çš„ã€‚é¼“åŠ±æ–°çš„ FreeBSD ç”¨æˆ·ä»”ç»†é˜…è¯»æœ¬ç« ã€‚Ù*After reading this chapter, you will know:Ù$é˜…è¯»å®Œæœ¬ç« åï¼Œæ‚¨å°†äº†è§£ï¼šÙ*How to use and configure virtual consoles.Ù'å¦‚ä½•ä½¿ç”¨å’Œé…ç½®è™šæ‹Ÿæ§åˆ¶å°ã€‚Ù5How to create and manage users and groups on FreeBSD.Ù3å¦‚ä½•åœ¨ FreeBSD ä¸Šåˆ›å»ºå’Œç®¡ç†ç”¨æˆ·å’Œç»„ã€‚Ù9How UNIX(R) file permissions and FreeBSD file flags work.Ù>UNIX(R) æ–‡ä»¶æƒé™å’Œ FreeBSD æ–‡ä»¶æ ‡å¿—çš„å·¥ä½œåŸç†ã€‚Ù'The default FreeBSD file system layout.Ù'é»˜è®¤çš„ FreeBSD æ–‡ä»¶ç³»ç»Ÿå¸ƒå±€ã€‚¾The FreeBSD disk organization.·FreeBSD ç£ç›˜ç»„ç»‡ã€‚Ù&How to mount and unmount file systems.Ù$å¦‚ä½•æŒ‚è½½å’Œå¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚Ù)What processes, daemons, and signals are.Ù*è¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹å’Œä¿¡å·æ˜¯ä»€ä¹ˆã€‚ÙAWhat a shell is, and how to change the default login environment.Ù=ä»€ä¹ˆæ˜¯ shell ï¼Œä»¥åŠå¦‚ä½•æ›´æ”¹é»˜è®¤çš„ç™»å½•ç¯å¢ƒã€‚¾How to use basic text editors.Ù$å¦‚ä½•ä½¿ç”¨åŸºæœ¬æ–‡æœ¬ç¼–è¾‘å™¨ã€‚Ù"What devices and device nodes are.Ù!è®¾å¤‡å’Œè®¾å¤‡èŠ‚ç‚¹æ˜¯ä»€ä¹ˆã€‚Ù.How to read manual pages for more information.Ù-å¦‚ä½•é˜…è¯»æ‰‹å†Œé¡µä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚¾Virtual Consoles and Terminals¸è™šæ‹Ÿæ§åˆ¶å°å’Œç»ˆç«¯Ù±Unless FreeBSD has been configured to automatically start a graphical environment during startup, the system will boot into a command line login prompt, as seen in this example:Ù™é™¤é FreeBSD å·²ç»é…ç½®ä¸ºåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨å›¾å½¢ç¯å¢ƒï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯åŠ¨åˆ°ä¸€ä¸ªå‘½ä»¤è¡Œç™»å½•æç¤ºç¬¦ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼šÚThe first line contains some information about the system.  The `amd64` indicates that FreeBSD is running on a 64-bit x86 system.  The hostname is `pc3.example.org`, and `ttyv0` indicates that this is the "system console".  The second line is the login prompt.Ùâç¬¬ä¸€è¡ŒåŒ…å«äº†å…³äºç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ã€‚ `amd64` è¡¨ç¤º FreeBSD è¿è¡Œåœ¨ä¸€ä¸ª 64 ä½çš„ x86 ç³»ç»Ÿä¸Šã€‚ä¸»æœºåæ˜¯ `pc3.example.org` ï¼Œè€Œ `ttyv0` è¡¨ç¤ºè¿™æ˜¯â€œç³»ç»Ÿæ§åˆ¶å°â€ã€‚ç¬¬äºŒè¡Œæ˜¯ç™»å½•æç¤ºç¬¦ã€‚ÚSince FreeBSD is a multiuser system, it needs some way to distinguish between different users.  This is accomplished by requiring every user to log into the system before gaining access to the programs on the system.  Every user has a unique "username" and a personal "password".Ùùç”±äº FreeBSD æ˜¯ä¸€ä¸ªå¤šç”¨æˆ·ç³»ç»Ÿï¼Œå®ƒéœ€è¦ä¸€ç§åŒºåˆ†ä¸åŒç”¨æˆ·çš„æ–¹å¼ã€‚è¿™é€šè¿‡è¦æ±‚æ¯ä¸ªç”¨æˆ·åœ¨è®¿é—®ç³»ç»Ÿä¸Šçš„ç¨‹åºä¹‹å‰å…ˆç™»å½•ç³»ç»Ÿæ¥å®ç°ã€‚æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„â€œç”¨æˆ·åâ€å’Œä¸ªäººçš„â€œå¯†ç â€ã€‚Ú=To log into the system console, type the username that was configured during system installation, as described in crossref:bsdinstall[bsdinstall-addusers,Add Users], and press kbd:[Enter].  Then enter the password associated with the username and press kbd:[Enter].  The password is _not echoed_ for security reasons.Ú%è¦ç™»å½•ç³»ç»Ÿæ§åˆ¶å°ï¼Œè¯·è¾“å…¥åœ¨ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­é…ç½®çš„ç”¨æˆ·åï¼Œå¦‚ crossref:bsdinstall[bsdinstall-addusers , Add Users] ä¸­æ‰€è¿°ï¼Œå¹¶æŒ‰ä¸‹ kbd:[Enter] é”®ã€‚ç„¶åè¾“å…¥ä¸ç”¨æˆ·åå…³è”çš„å¯†ç å¹¶æŒ‰ä¸‹ kbd:[Enter] é”®ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œå¯†ç ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ÚgOnce the correct password is input, the message of the day (MOTD) will be displayed followed by a command prompt.  Depending upon the shell that was selected when the user was created, this prompt will be a `+#+`, `$`, or `%` character.  The prompt indicates that the user is now logged into the FreeBSD system console and ready to try the available commands.Ú)ä¸€æ—¦è¾“å…¥æ­£ç¡®çš„å¯†ç ï¼Œå°†æ˜¾ç¤ºå½“å¤©çš„æ¶ˆæ¯ï¼ˆ MOTD ï¼‰ï¼Œç„¶åæ˜¾ç¤ºå‘½ä»¤æç¤ºç¬¦ã€‚æ ¹æ®åˆ›å»ºç”¨æˆ·æ—¶é€‰æ‹©çš„ shell ä¸åŒï¼Œè¯¥æç¤ºç¬¦å¯èƒ½æ˜¯ `+#+` ã€ `$` æˆ– `%` å­—ç¬¦ã€‚æç¤ºç¬¦è¡¨ç¤ºç”¨æˆ·å·²æˆåŠŸç™»å½•åˆ° FreeBSD ç³»ç»Ÿæ§åˆ¶å°ï¼Œå¹¶å‡†å¤‡å°è¯•å¯ç”¨çš„å‘½ä»¤ã€‚°Virtual Consoles¯è™šæ‹Ÿæ§åˆ¶å°Ú¤While the system console can be used to interact with the system, a user working from the command line at the keyboard of a FreeBSD system will typically instead log into a virtual console.  This is because system messages are configured by default to display on the system console.  These messages will appear over the command or file that the user is working on, making it difficult to concentrate on the work at hand.ÚSè™½ç„¶ç³»ç»Ÿæ§åˆ¶å°å¯ä»¥ç”¨äºä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œä½†åœ¨ FreeBSD ç³»ç»Ÿçš„é”®ç›˜å‘½ä»¤è¡Œä¸Šå·¥ä½œçš„ç”¨æˆ·é€šå¸¸ä¼šç™»å½•åˆ°è™šæ‹Ÿæ§åˆ¶å°ã€‚è¿™æ˜¯å› ä¸ºç³»ç»Ÿæ¶ˆæ¯é»˜è®¤é…ç½®ä¸ºæ˜¾ç¤ºåœ¨ç³»ç»Ÿæ§åˆ¶å°ä¸Šã€‚è¿™äº›æ¶ˆæ¯ä¼šå‡ºç°åœ¨ç”¨æˆ·æ­£åœ¨æ“ä½œçš„å‘½ä»¤æˆ–æ–‡ä»¶ä¸Šï¼Œä½¿å¾—é›†ä¸­æ³¨æ„åŠ›äºæ‰‹å¤´çš„å·¥ä½œå˜å¾—å›°éš¾ã€‚ÚLBy default, FreeBSD is configured to provide several virtual consoles for inputting commands.  Each virtual console has its own login prompt and shell and it is easy to switch between virtual consoles.  This essentially provides the command line equivalent of having several windows open at the same time in a graphical environment.Úé»˜è®¤æƒ…å†µä¸‹ï¼ŒFreeBSD é…ç½®äº†å¤šä¸ªè™šæ‹Ÿæ§åˆ¶å°ç”¨äºè¾“å…¥å‘½ä»¤ã€‚æ¯ä¸ªè™šæ‹Ÿæ§åˆ¶å°éƒ½æœ‰è‡ªå·±çš„ç™»å½•æç¤ºç¬¦å’Œ Shell ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°åœ¨è™šæ‹Ÿæ§åˆ¶å°ä¹‹é—´åˆ‡æ¢ã€‚è¿™åŸºæœ¬ä¸Šæä¾›äº†åœ¨å›¾å½¢ç¯å¢ƒä¸­åŒæ—¶æ‰“å¼€å¤šä¸ªçª—å£çš„å‘½ä»¤è¡Œç­‰æ•ˆåŠŸèƒ½ã€‚Ú»The key combinations kbd:[Alt+F1] through kbd:[Alt+F8] have been reserved by FreeBSD for switching between virtual consoles.  Use kbd:[Alt+F1] to switch to the system console (`ttyv0`), kbd:[Alt+F2] to access the first virtual console (`ttyv1`), kbd:[Alt+F3] to access the second virtual console (`ttyv2`), and so on.  When using Xorg as a graphical console, the combination becomes kbd:[Ctrl+Alt+F1] to return to a text-based virtual console.ÚÀç»„åˆé”® kbd:[Alt + F1] åˆ° kbd:[Alt + F8] å·²è¢« FreeBSD ä¿ç•™ç”¨äºåœ¨è™šæ‹Ÿæ§åˆ¶å°ä¹‹é—´åˆ‡æ¢ã€‚ä½¿ç”¨ kbd:[Alt + F1] åˆ‡æ¢åˆ°ç³»ç»Ÿæ§åˆ¶å°ï¼ˆ `ttyv0` ï¼‰ï¼Œä½¿ç”¨ kbd:[Alt + F2] è®¿é—®ç¬¬ä¸€ä¸ªè™šæ‹Ÿæ§åˆ¶å°ï¼ˆ `ttyv1` ï¼‰ï¼Œä½¿ç”¨ kbd:[Alt + F3] è®¿é—®ç¬¬äºŒä¸ªè™šæ‹Ÿæ§åˆ¶å°ï¼ˆ `ttyv2` ï¼‰ï¼Œä¾æ­¤ç±»æ¨ã€‚å½“ä½¿ç”¨ Xorg ä½œä¸ºå›¾å½¢æ§åˆ¶å°æ—¶ï¼Œç»„åˆé”®å˜ä¸º kbd:[Ctrl + Alt + F1] ä»¥è¿”å›åˆ°åŸºäºæ–‡æœ¬çš„è™šæ‹Ÿæ§åˆ¶å°ã€‚ÚSWhen switching from one console to the next, FreeBSD manages the screen output.  The result is an illusion of having multiple virtual screens and keyboards that can be used to type commands for FreeBSD to run.  The programs that are launched in one virtual console do not stop running when the user switches to a different virtual console.Úå½“ä»ä¸€ä¸ªæ§åˆ¶å°åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ§åˆ¶å°æ—¶ï¼ŒFreeBSD ä¼šç®¡ç†å±å¹•è¾“å‡ºã€‚ç»“æœæ˜¯æœ‰å¤šä¸ªè™šæ‹Ÿå±å¹•å’Œé”®ç›˜å¯ä»¥ç”¨æ¥é”®å…¥å‘½ä»¤ä»¥ä¾› FreeBSD è¿è¡Œã€‚å½“ç”¨æˆ·åˆ‡æ¢åˆ°ä¸åŒçš„è™šæ‹Ÿæ§åˆ¶å°æ—¶ï¼Œåœ¨ä¸€ä¸ªè™šæ‹Ÿæ§åˆ¶å°ä¸­å¯åŠ¨çš„ç¨‹åºä¸ä¼šåœæ­¢è¿è¡ŒÙbIn FreeBSD, the number of available virtual consoles is configured in this section of `/etc/ttys`:Ùjåœ¨ FreeBSD ä¸­ï¼Œå¯ç”¨çš„è™šæ‹Ÿæ§åˆ¶å°æ•°é‡æ˜¯åœ¨ `/etc/ttys` æ–‡ä»¶çš„è¿™ä¸ªéƒ¨åˆ†è¿›è¡Œé…ç½®çš„ï¼šÚ,To disable a virtual console, put a comment symbol (`+#+`) at the beginning of the line representing that virtual console.  For example, to reduce the number of available virtual consoles from eight to four, put a `+#+` in front of the last four lines representing virtual consoles `ttyv5` through `ttyv8`.  _Do not_ comment out the line for the system console `ttyv0`.  Note that the last virtual console (`ttyv8`) is used to access the graphical environment if Xorg has been installed and configured as described in crossref:x11[x11,The X Window System].Úùè¦ç¦ç”¨è™šæ‹Ÿæ§åˆ¶å°ï¼Œè¯·åœ¨è¡¨ç¤ºè¯¥è™šæ‹Ÿæ§åˆ¶å°çš„è¡Œçš„å¼€å¤´æ”¾ç½®ä¸€ä¸ªæ³¨é‡Šç¬¦å·ï¼ˆ `+#+` ï¼‰ã€‚ä¾‹å¦‚ï¼Œè¦å°†å¯ç”¨è™šæ‹Ÿæ§åˆ¶å°çš„æ•°é‡ä»å…«ä¸ªå‡å°‘åˆ°å››ä¸ªï¼Œè¯·åœ¨è¡¨ç¤ºè™šæ‹Ÿæ§åˆ¶å° `ttyv5` åˆ° `ttyv8` çš„æœ€åå››è¡Œå‰é¢æ”¾ç½®ä¸€ä¸ª `+#+` ã€‚ **ä¸è¦** æ³¨é‡Šæ‰ç³»ç»Ÿæ§åˆ¶å° `ttyv0` çš„è¡Œã€‚è¯·æ³¨æ„ï¼Œå¦‚æœå·²ç»å®‰è£…å¹¶é…ç½®äº† Xorg ï¼ˆå¦‚ crossref:x11[x11,X Window ç³»ç»Ÿ] ä¸­æ‰€è¿°ï¼‰ï¼Œåˆ™æœ€åä¸€ä¸ªè™šæ‹Ÿæ§åˆ¶å°ï¼ˆ `ttyv8` ï¼‰ç”¨äºè®¿é—®å›¾å½¢ç¯å¢ƒã€‚ÙFor a detailed description of every column in this file and the available options for the virtual consoles, refer to man:ttys[5].Ùjæœ‰å…³æ­¤æ–‡ä»¶ä¸­æ¯ä¸ªåˆ—çš„è¯¦ç»†æè¿°ä»¥åŠè™šæ‹Ÿæ§åˆ¶å°çš„å¯ç”¨é€‰é¡¹ï¼Œè¯·å‚é˜… man:ttys[5] ã€‚°Single User Mode¯å•ç”¨æˆ·æ¨¡å¼Ú«The FreeBSD boot menu provides an option labelled as "Boot Single User".  If this option is selected, the system will boot into a special mode known as "single user mode".  This mode is typically used to repair a system that will not boot or to reset the `root` password when it is not known.  While in single user mode, networking and other virtual consoles are not available.  However, full `root` access to the system is available, and by default, the `root` password is not needed.  For these reasons, physical access to the keyboard is needed to boot into this mode and determining who has physical access to the keyboard is something to consider when securing a FreeBSD system.ÚcFreeBSD å¼•å¯¼èœå•æä¾›äº†ä¸€ä¸ªæ ‡æœ‰â€œå•ç”¨æˆ·å¯åŠ¨â€çš„é€‰é¡¹ã€‚å¦‚æœé€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œç³»ç»Ÿå°†å¯åŠ¨åˆ°ä¸€ä¸ªç§°ä¸ºâ€œå•ç”¨æˆ·æ¨¡å¼â€çš„ç‰¹æ®Šæ¨¡å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ¨¡å¼ç”¨äºä¿®å¤æ— æ³•å¯åŠ¨çš„ç³»ç»Ÿæˆ–è€…åœ¨ä¸çŸ¥é“ `root` å¯†ç æ—¶é‡ç½®å¯†ç ã€‚åœ¨å•ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œç½‘ç»œå’Œå…¶ä»–è™šæ‹Ÿæ§åˆ¶å°æ˜¯ä¸å¯ç”¨çš„ã€‚ç„¶è€Œï¼Œç³»ç»Ÿå®Œå…¨æ”¯æŒ `root` è®¿é—®ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹ä¸éœ€è¦ `root` å¯†ç ã€‚å› æ­¤ï¼Œéœ€è¦æœ‰å¯¹é”®ç›˜çš„ç‰©ç†è®¿é—®æƒé™æ‰èƒ½è¿›å…¥è¯¥æ¨¡å¼ï¼Œç¡®å®šè°å¯¹é”®ç›˜æœ‰ç‰©ç†è®¿é—®æƒæ˜¯ä¿æŠ¤ FreeBSD ç³»ç»Ÿå®‰å…¨æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜ÙUThe settings which control single user mode are found in this section of `/etc/ttys`:ÙIæ§åˆ¶å•ç”¨æˆ·æ¨¡å¼çš„è®¾ç½®ä½äº `/etc/ttys` æ–‡ä»¶çš„è¿™ä¸ªéƒ¨åˆ†ã€‚ÚÆBy default, the status is set to `secure`.  This assumes that who has physical access to the keyboard is either not important or it is controlled by a physical security policy.  If this setting is changed to `insecure`, the assumption is that the environment itself is insecure because anyone can access the keyboard.  When this line is changed to `insecure`, FreeBSD will prompt for the `root` password when a user selects to boot into single user mode.Úé»˜è®¤æƒ…å†µä¸‹ï¼ŒçŠ¶æ€è¢«è®¾ç½®ä¸º `secure`ã€‚è¿™æ„å‘³ç€å¯¹é”®ç›˜å…·æœ‰ç‰©ç†è®¿é—®æƒé™çš„äººè¦ä¹ˆä¸é‡è¦ï¼Œè¦ä¹ˆå—åˆ°ç‰©ç†å®‰å…¨ç­–ç•¥çš„æ§åˆ¶ã€‚å¦‚æœå°†æ­¤è®¾ç½®æ›´æ”¹ä¸º `insecure`ï¼Œåˆ™å‡è®¾ç¯å¢ƒæœ¬èº«æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥è®¿é—®é”®ç›˜ã€‚å½“å°†æ­¤è¡Œæ›´æ”¹ä¸º `insecure` æ—¶ï¼Œ FreeBSD å°†åœ¨ç”¨æˆ·é€‰æ‹©è¿›å…¥å•ç”¨æˆ·æ¨¡å¼æ—¶æç¤ºè¾“å…¥ `root` å¯†ç ã€‚Ùã_Be careful when changing this setting to `insecure`!_ If the `root` password is forgotten, booting into single user mode is still possible, but may be difficult for someone who is not familiar with the FreeBSD booting process.Ù¿åœ¨æ›´æ”¹æ­¤è®¾ç½®ä¸º `insecure` æ—¶è¦å°å¿ƒï¼å¦‚æœå¿˜è®°äº† `root` å¯†ç ï¼Œä»ç„¶å¯ä»¥å¯åŠ¨åˆ°å•ç”¨æˆ·æ¨¡å¼ï¼Œä½†å¯¹äºä¸ç†Ÿæ‚‰ FreeBSD å¯åŠ¨è¿‡ç¨‹çš„äººæ¥è¯´å¯èƒ½ä¼šæœ‰å›°éš¾ã€‚¼Changing Console Video Modes»æ›´æ”¹æ§åˆ¶å°è§†é¢‘æ¨¡å¼ÙÃThe FreeBSD console default video mode may be adjusted to 1024x768, 1280x1024, or any other size supported by the graphics chip and monitor.  To use a different video mode load the `VESA` module:Ù¾FreeBSD æ§åˆ¶å°çš„é»˜è®¤è§†é¢‘æ¨¡å¼å¯ä»¥è°ƒæ•´ä¸º 1024x768 ã€ 1280x1024 æˆ–å…¶ä»–ç”±å›¾å½¢èŠ¯ç‰‡å’Œæ˜¾ç¤ºå™¨æ”¯æŒçš„å°ºå¯¸ã€‚è¦ä½¿ç”¨ä¸åŒçš„è§†é¢‘æ¨¡å¼ï¼Œè¯·åŠ è½½ `VESA` æ¨¡å—ï¼šÙ‘To determine which video modes are supported by the hardware, use man:vidcontrol[1].  To get a list of supported video modes issue the following:Ùˆè¦ç¡®å®šç¡¬ä»¶æ”¯æŒå“ªäº›è§†é¢‘æ¨¡å¼ï¼Œè¯·ä½¿ç”¨ man:vidcontrol[1] ã€‚è¦è·å–æ”¯æŒçš„è§†é¢‘æ¨¡å¼åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼šÙ®The output of this command lists the video modes that are supported by the hardware.  To select a new video mode, specify the mode using man:vidcontrol[1] as the `root` user:ÙŸè¯¥å‘½ä»¤çš„è¾“å‡ºåˆ—å‡ºäº†ç¡¬ä»¶æ”¯æŒçš„è§†é¢‘æ¨¡å¼ã€‚è¦é€‰æ‹©ä¸€ä¸ªæ–°çš„è§†é¢‘æ¨¡å¼ï¼Œè¯·ä½¿ç”¨ man:vidcontrol[1] ä½œä¸º `root` ç”¨æˆ·æŒ‡å®šè¯¥æ¨¡å¼ï¼šÙfIf the new video mode is acceptable, it can be permanently set on boot by adding it to `/etc/rc.conf`:Ùmå¦‚æœæ–°çš„è§†é¢‘æ¨¡å¼å¯æ¥å—ï¼Œå¯ä»¥é€šè¿‡å°†å…¶æ·»åŠ åˆ° `/etc/rc.conf` æ¥åœ¨å¯åŠ¨æ—¶æ°¸ä¹…è®¾ç½®ã€‚Ù"Users and Basic Account Management»ç”¨æˆ·å’ŒåŸºæœ¬è´¦æˆ·ç®¡ç†Ú!FreeBSD allows multiple users to use the computer at the same time.  While only one user can sit in front of the screen and use the keyboard at any one time, any number of users can log in to the system through the network.  To use the system, each user should have their own user account.ÙïFreeBSD å…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨è®¡ç®—æœºã€‚è™½ç„¶ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ååœ¨å±å¹•å‰ä½¿ç”¨é”®ç›˜ï¼Œä½†ä»»æ„æ•°é‡çš„ç”¨æˆ·å¯ä»¥é€šè¿‡ç½‘ç»œç™»å½•ç³»ç»Ÿã€‚ä¸ºäº†ä½¿ç”¨ç³»ç»Ÿï¼Œæ¯ä¸ªç”¨æˆ·éƒ½åº”è¯¥æœ‰è‡ªå·±çš„ç”¨æˆ·è´¦æˆ·ã€‚·This chapter describes:²æœ¬ç« æè¿°äº†ï¼šÙ9The different types of user accounts on a FreeBSD system.Ù2FreeBSD ç³»ç»Ÿä¸Šçš„ä¸åŒç±»å‹çš„ç”¨æˆ·è´¦æˆ·ã€‚Ù-How to add, remove, and modify user accounts.Ù-å¦‚ä½•æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ç”¨æˆ·è´¦æˆ·ã€‚ÙWHow to set limits to control the resources that users and groups are allowed to access.Ù?å¦‚ä½•è®¾ç½®é™åˆ¶ä»¥æ§åˆ¶ç”¨æˆ·å’Œç»„å¯ä»¥è®¿é—®çš„èµ„æºã€‚Ù9How to create groups and add users as members of a group.Ù3å¦‚ä½•åˆ›å»ºç»„å¹¶å°†ç”¨æˆ·æ·»åŠ ä¸ºç»„çš„æˆå‘˜ã€‚­Account Types¬è´¦æˆ·ç±»å‹ÙSince all access to the FreeBSD system is achieved using accounts and all processes are run by users, user and account management is important.Ùœç”±äºæ‰€æœ‰å¯¹ FreeBSD ç³»ç»Ÿçš„è®¿é—®éƒ½æ˜¯é€šè¿‡è´¦æˆ·å®ç°çš„ï¼Œå¹¶ä¸”æ‰€æœ‰è¿›ç¨‹éƒ½æ˜¯ç”±ç”¨æˆ·è¿è¡Œçš„ï¼Œå› æ­¤ç”¨æˆ·å’Œè´¦æˆ·ç®¡ç†éå¸¸é‡è¦ã€‚ÙbThere are three main types of accounts: system accounts, user accounts, and the superuser account.ÙTæœ‰ä¸‰ç§ä¸»è¦ç±»å‹çš„è´¦æˆ·ï¼šç³»ç»Ÿè´¦æˆ·ã€ç”¨æˆ·è´¦æˆ·å’Œè¶…çº§ç”¨æˆ·è´¦æˆ·ã€‚¯System Accounts¬ç³»ç»Ÿè´¦æˆ·Ù¸System accounts are used to run services such as DNS, mail, and web servers.  The reason for this is security; if all services ran as the superuser, they could act without restriction.ÙÏç³»ç»Ÿè´¦æˆ·ç”¨äºè¿è¡Œè¯¸å¦‚ DNSã€é‚®ä»¶å’Œ Web æœåŠ¡å™¨ç­‰æœåŠ¡ã€‚è¿™æ ·åšçš„åŸå› æ˜¯å‡ºäºå®‰å…¨è€ƒè™‘ï¼›å¦‚æœæ‰€æœ‰æœåŠ¡éƒ½ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œï¼Œå®ƒä»¬å°±å¯ä»¥æ— é™åˆ¶åœ°æ‰§è¡Œæ“ä½œã€‚ÙPExamples of system accounts are `daemon`, `operator`, `bind`, `news`, and `www`.ÙPç³»ç»Ÿè´¦æˆ·çš„ä¾‹å­åŒ…æ‹¬ `daemon`ã€`operator`ã€`bind`ã€`news` å’Œ `www`ã€‚ÙØ`nobody` is the generic unprivileged system account.  However, the more services that use `nobody`, the more files and processes that user will become associated with, and hence the more privileged that user becomes.Ù»`nobody` æ˜¯ä¸€ä¸ªé€šç”¨çš„éç‰¹æƒç³»ç»Ÿè´¦æˆ·ã€‚ç„¶è€Œï¼Œä½¿ç”¨ `nobody` çš„æœåŠ¡è¶Šå¤šï¼Œä¸è¯¥ç”¨æˆ·ç›¸å…³è”çš„æ–‡ä»¶å’Œè¿›ç¨‹ä¹Ÿå°±è¶Šå¤šï¼Œå› æ­¤è¯¥ç”¨æˆ·çš„ç‰¹æƒä¹Ÿå°±è¶Šé«˜ã€‚­User Accounts¬ç”¨æˆ·è´¦æˆ·ÚUser accounts are assigned to real people and are used to log in and use the system.  Every person accessing the system should have a unique user account.  This allows the administrator to find out who is doing what and prevents users from clobbering the settings of other users.Ùäç”¨æˆ·è´¦æˆ·åˆ†é…ç»™çœŸå®çš„äººï¼Œå¹¶ç”¨äºç™»å½•å’Œä½¿ç”¨ç³»ç»Ÿã€‚æ¯ä¸ªè®¿é—®ç³»ç»Ÿçš„äººéƒ½åº”è¯¥æ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·è´¦æˆ·ã€‚è¿™ä½¿ç®¡ç†å‘˜èƒ½å¤ŸæŸ¥æ˜è°åœ¨åšä»€ä¹ˆï¼Œå¹¶é˜²æ­¢ç”¨æˆ·ç ´åå…¶ä»–ç”¨æˆ·çš„è®¾ç½®ã€‚Ù£Each user can set up their own environment to accommodate their use of the system, by configuring their default shell, editor, key bindings, and language settings.Ùšæ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥è®¾ç½®è‡ªå·±çš„ç¯å¢ƒä»¥é€‚åº”ä»–ä»¬å¯¹ç³»ç»Ÿçš„ä½¿ç”¨ï¼Œé€šè¿‡é…ç½®ä»–ä»¬çš„é»˜è®¤ shell ã€ç¼–è¾‘å™¨ã€é”®ç»‘å®šå’Œè¯­è¨€è®¾ç½®ã€‚ÙREvery user account on a FreeBSD system has certain information associated with it:ÙNåœ¨ FreeBSD ç³»ç»Ÿä¸Šï¼Œæ¯ä¸ªç”¨æˆ·è´¦æˆ·éƒ½æœ‰ä¸ä¹‹å…³è”çš„ç‰¹å®šä¿¡æ¯ï¼šÚ"The User ID (UID) is a number used to uniquely identify the user to the FreeBSD system.  Commands that allow a user name to be specified will first convert it to the UID.  It is recommended to use a UID less than 65535, since higher values may cause compatibility issues with some software.Ùöç”¨æˆ· ID (UID) æ˜¯ä¸€ä¸ªç”¨äºåœ¨ FreeBSD ç³»ç»Ÿä¸­å”¯ä¸€æ ‡è¯†ç”¨æˆ·çš„æ•°å­—ã€‚å…è®¸æŒ‡å®šç”¨æˆ·åçš„å‘½ä»¤å°†é¦–å…ˆå°†å…¶è½¬æ¢ä¸º UID ã€‚å»ºè®®ä½¿ç”¨å°äº 65535 çš„ UID ï¼Œå› ä¸ºè¾ƒé«˜çš„å€¼å¯èƒ½ä¼šå¯¼è‡´æŸäº›è½¯ä»¶çš„å…¼å®¹æ€§é—®é¢˜ã€‚Ú¢The Group ID (GID) is a number used to uniquely identify the primary group that the user belongs to.  Groups are a mechanism for controlling access to resources based on a user's GID rather than their UID.  This can significantly reduce the size of some configuration files and allows users to be members of more than one group.  It is recommended to use a GID of 65535 or lower as higher GIDs may break some software.ÚTç»„ ID (GID) æ˜¯ä¸€ä¸ªç”¨äºå”¯ä¸€æ ‡è¯†ç”¨æˆ·æ‰€å±çš„ä¸»è¦ç»„çš„æ•°å­—ã€‚ç»„æ˜¯ä¸€ç§åŸºäºç”¨æˆ·çš„ GID è€Œä¸æ˜¯ UID æ¥æ§åˆ¶å¯¹èµ„æºè®¿é—®çš„æœºåˆ¶ã€‚è¿™å¯ä»¥æ˜¾è‘—å‡å°æŸäº›é…ç½®æ–‡ä»¶çš„å¤§å°ï¼Œå¹¶å…è®¸ç”¨æˆ·æˆä¸ºå¤šä¸ªç»„çš„æˆå‘˜ã€‚å»ºè®®ä½¿ç”¨ 65535 æˆ–æ›´ä½çš„ GID ï¼Œå› ä¸ºè¾ƒé«˜çš„ GID å¯èƒ½ä¼šç ´åæŸäº›è½¯ä»¶ã€‚ÙìLogin classes are an extension to the group mechanism that provide additional flexibility when tailoring the system to different users.  Login classes are discussed further in crossref:security[users-limiting,Configuring Login Classes].ÙÊç™»å½•åˆ†çº§æ˜¯ç»„æœºåˆ¶çš„æ‰©å±•ï¼Œä¸ºå®šåˆ¶ç³»ç»Ÿä»¥é€‚åº”ä¸åŒç”¨æˆ·æä¾›äº†é¢å¤–çš„çµæ´»æ€§ã€‚æœ‰å…³ç™»å½•ç±»çš„è¯¦ç»†è®¨è®ºï¼Œè¯·å‚é˜… crossref:security[users-limiting ,é…ç½®ç™»å½•åˆ†çº§] ã€‚ÙÆBy default, passwords do not expire.  However, password expiration can be enabled on a per-user basis, forcing some or all users to change their passwords after a certain amount of time has elapsed.Ù±é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯†ç ä¸ä¼šè¿‡æœŸã€‚ç„¶è€Œï¼Œå¯ä»¥æ ¹æ®æ¯ä¸ªç”¨æˆ·çš„æƒ…å†µå¯ç”¨å¯†ç è¿‡æœŸåŠŸèƒ½ï¼Œå¼ºåˆ¶ä¸€äº›æˆ–æ‰€æœ‰ç”¨æˆ·åœ¨ä¸€å®šæ—¶é—´åæ›´æ”¹ä»–ä»¬çš„å¯†ç ã€‚ÚLBy default, FreeBSD does not expire accounts.  When creating accounts that need a limited lifespan, such as student accounts in a school, specify the account expiry date using man:pw[8].  After the expiry time has elapsed, the account cannot be used to log in to the system, although the account's directories and files will remain.Ú%é»˜è®¤æƒ…å†µä¸‹ï¼Œ FreeBSD ä¸ä¼šä½¿è´¦æˆ·è¿‡æœŸã€‚å½“åˆ›å»ºéœ€è¦æœ‰é™ç”Ÿå‘½å‘¨æœŸçš„è´¦æˆ·æ—¶ï¼Œæ¯”å¦‚å­¦æ ¡çš„å­¦ç”Ÿè´¦æˆ·ï¼Œå¯ä»¥ä½¿ç”¨ man:pw[8] å‘½ä»¤æŒ‡å®šè´¦æˆ·çš„è¿‡æœŸæ—¥æœŸã€‚åœ¨è¿‡æœŸæ—¶é—´åˆ°è¾¾åï¼Œè¯¥è´¦æˆ·å°†æ— æ³•ç”¨äºç™»å½•ç³»ç»Ÿï¼Œä½†è´¦æˆ·çš„ç›®å½•å’Œæ–‡ä»¶å°†ä¿ç•™ã€‚ÙæThe user name uniquely identifies the account to FreeBSD, but does not necessarily reflect the user's real name.  Similar to a comment, this information can contain spaces, uppercase characters, and be more than 8 characters long.ÙÀç”¨æˆ·ååœ¨ FreeBSD ä¸­å”¯ä¸€æ ‡è¯†è´¦æˆ·ï¼Œä½†ä¸ä¸€å®šåæ˜ ç”¨æˆ·çš„çœŸå®å§“åã€‚ä¸æ³¨é‡Šç±»ä¼¼ï¼Œæ­¤ä¿¡æ¯å¯ä»¥åŒ…å«ç©ºæ ¼ã€å¤§å†™å­—ç¬¦ï¼Œå¹¶ä¸”å¯ä»¥è¶…è¿‡ 8 ä¸ªå­—ç¬¦çš„é•¿åº¦ã€‚ÙåThe shell provides the user's default environment for interacting with the system.  There are many different kinds of shells and experienced users will have their own preferences, which can be reflected in their account settings.ÙÍShell æä¾›äº†ç”¨æˆ·ä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„é»˜è®¤ç¯å¢ƒã€‚æœ‰è®¸å¤šä¸åŒç±»å‹çš„ shell ï¼Œæœ‰ç»éªŒçš„ç”¨æˆ·ä¼šæ ¹æ®è‡ªå·±çš„åå¥½è¿›è¡Œè®¾ç½®ï¼Œè¿™äº›è®¾ç½®å¯ä»¥åæ˜ åœ¨ä»–ä»¬çš„è´¦æˆ·è®¾ç½®ä¸­ã€‚µThe Superuser Account²è¶…çº§ç”¨æˆ·è´¦æˆ·³UNIX(R) Permissions®UNIX(R) æƒé™¥Value£å€¼ªPermission¦æƒé™±Directory Listing¬ç›®å½•åˆ—è¡¨½No read, no write, no executeÙ*ç¦æ­¢è¯»å–ï¼Œç¦æ­¢å†™å…¥ï¼Œç¦æ­¢æ‰§è¡ŒºNo read, no write, executeÙ'ç¦æ­¢è¯»å–ï¼Œç¦æ­¢å†™å…¥ï¼Œå¯æ‰§è¡ŒºNo read, write, no executeÙ'ç¦æ­¢è¯»å–ï¼Œå¯å†™å…¥ï¼Œç¦æ­¢æ‰§è¡Œ·No read, write, executeÙ$ç¦æ­¢è¯»å–ï¼Œå¯å†™å…¥ï¼Œå¯æ‰§è¡ŒºRead, no write, no executeÙ'å¯è¯»å–ï¼Œç¦æ­¢å†™å…¥ï¼Œç¦æ­¢æ‰§è¡Œ·Read, no write, executeÙ$å¯è¯»å–ï¼Œç¦æ­¢å†™å…¥ï¼Œå¯æ‰§è¡Œ·Read, write, no executeÙ$å¯è¯»å–ã€å¯å†™å…¥ï¼Œç¦æ­¢æ‰§è¡Œ´Read, write, executeÙ!å¯è¯»å–ï¼Œå¯å†™å…¥ï¼Œå¯æ‰§è¡ŒÙéUse the `-l` argument with man:ls[1] to view a long directory listing that includes a column of information about a file's permissions for the owner, group, and everyone else.  For example, `ls -l` in an arbitrary directory may show:ÙÇä½¿ç”¨ `-l` å‚æ•°ä¸ `man:ls[1]` ä¸€èµ·ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸ªåŒ…å«æœ‰å…³æ–‡ä»¶æ‰€æœ‰è€…ã€ç»„å’Œå…¶ä»–äººæƒé™çš„åˆ—çš„é•¿ç›®å½•åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ä»»æ„ç›®å½•ä¸­ä½¿ç”¨ `ls -l` å¯èƒ½ä¼šæ˜¾ç¤ºï¼šÙŸA complete description of the file system hierarchy is available in man:hier[7].  The following table provides a brief overview of the most common directories.Ùyæ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„çš„å®Œæ•´æè¿°å¯ä»¥åœ¨ man:hier[7] ä¸­æ‰¾åˆ°ã€‚ä¸‹è¡¨æä¾›äº†æœ€å¸¸è§ç›®å½•çš„ç®€è¦æ¦‚è¿°ã€‚©Directory¦ç›®å½•«Description¦æè¿°Ù"Root directory of the file system.»æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ã€‚ÙKUser utilities fundamental to both single-user and multi-user environments.Ù9å•ç”¨æˆ·å’Œå¤šç”¨æˆ·ç¯å¢ƒçš„åŸºæœ¬ç”¨æˆ·å®ç”¨ç¨‹åºã€‚ÙHPrograms and configuration files used during operating system bootstrap.Ù<æ“ä½œç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ç¨‹åºå’Œé…ç½®æ–‡ä»¶ã€‚ÙJDefault boot configuration files. Refer to man:loader.conf[5] for details.ÙSé»˜è®¤çš„å¯åŠ¨é…ç½®æ–‡ä»¶ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:loader.conf[5] ã€‚Ù,Device special files managed by man:devfs[5]Ù/ç”± man:devfs[5] ç®¡ç†çš„è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶ã€‚Ù'System configuration files and scripts.¾ç³»ç»Ÿé…ç½®æ–‡ä»¶å’Œè„šæœ¬ã€‚ÙCDefault system configuration files. Refer to man:rc[8] for details.ÙGé»˜è®¤ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:rc[8] ã€‚ÙcScripts that run daily, weekly, and monthly, via man:cron[8]. Refer to man:periodic[8] for details.Ùoé€šè¿‡ man:cron[8] æ¯å¤©ã€æ¯å‘¨å’Œæ¯æœˆè¿è¡Œçš„è„šæœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:periodic[8] ã€‚ÙCCritical system libraries needed for binaries in `/bin` and `/sbin`ÙI`/bin` å’Œ `/sbin` ç›®å½•ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‰€éœ€çš„å…³é”®ç³»ç»Ÿåº“ã€‚µCritical system files²å…³é”®ç³»ç»Ÿæ–‡ä»¶ÙpContains subdirectories to be used as mount points for removable media such as CDs, USB drives, and floppy disksÙ[åŒ…å«ç”¨ä½œå¯ç§»åŠ¨ä»‹è´¨ï¼ˆå¦‚ CDã€USB é©±åŠ¨å™¨å’Œè½¯ç›˜ï¼‰çš„æŒ‚è½½ç‚¹çš„å­ç›®å½•ã€‚ÙREmpty directory commonly used by system administrators as a temporary mount point.Ù9ç©ºç›®å½•é€šå¸¸è¢«ç³»ç»Ÿç®¡ç†å‘˜ç”¨ä½œä¸´æ—¶æŒ‚è½½ç‚¹ã€‚Ù.Automounted NFS shares; see man:auto_master[5]Ù=è‡ªåŠ¨æŒ‚è½½çš„ NFS å…±äº«ï¼›è¯·å‚é˜… man:auto_master[5] ã€‚ÙMProcess file system. Refer to man:procfs[5], man:mount_procfs[8] for details.Ù]è¿›ç¨‹æ–‡ä»¶ç³»ç»Ÿã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:procfs[5] å’Œ man:mount_procfs[8] ã€‚ÙPStatically linked programs for emergency recovery as described in man:rescue[8].ÙHç”¨äºç´§æ€¥æ¢å¤çš„é™æ€é“¾æ¥ç¨‹åºï¼Œå¦‚ man:rescue[8] ä¸­æ‰€è¿°ã€‚Ù&Home directory for the `root` account.¼`root` è´¦æˆ·çš„ä¸»ç›®å½•ã€‚ÙiSystem programs and administration utilities fundamental to both single-user and multi-user environments.ÙBå•ç”¨æˆ·å’Œå¤šç”¨æˆ·ç¯å¢ƒçš„åŸºæœ¬ç³»ç»Ÿç¨‹åºå’Œç®¡ç†å·¥å…·ã€‚ÚTemporary files which are usually _not_ preserved across a system reboot. A memory-based file system is often mounted at `/tmp`. This can be automated using the tmpmfs-related variables of man:rc.conf[5] or with an entry in `/etc/fstab`; refer to man:mdmfs[8] for details.Ú é€šå¸¸åœ¨ç³»ç»Ÿé‡æ–°å¯åŠ¨åä¸ä¼šä¿ç•™çš„ä¸´æ—¶æ–‡ä»¶ã€‚åŸºäºå†…å­˜çš„æ–‡ä»¶ç³»ç»Ÿé€šå¸¸ä¼šæŒ‚è½½åœ¨ `/tmp` ç›®å½•ä¸‹ã€‚å¯ä»¥ä½¿ç”¨ man:rc.conf[5] ä¸­ä¸ tmpmfs ç›¸å…³çš„å˜é‡æˆ–åœ¨ `/etc/fstab` ä¸­æ·»åŠ æ¡ç›®æ¥è‡ªåŠ¨åŒ–æ­¤è¿‡ç¨‹ï¼›æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:mdmfs[8] ã€‚Ù0The majority of user utilities and applications.Ù'å¤§å¤šæ•°ç”¨æˆ·å·¥å…·å’Œåº”ç”¨ç¨‹åºã€‚Ù6Common utilities, programming tools, and applications.Ù-å¸¸ç”¨å·¥å…·ã€ç¼–ç¨‹å·¥å…·å’Œåº”ç”¨ç¨‹åºã€‚¹Standard C include files.¸æ ‡å‡†çš„ C å¤´æ–‡ä»¶ã€‚²Archive libraries.©åº“æ–‡ä»¶Ù!Miscellaneous utility data files.»æ‚é¡¹å®ç”¨æ•°æ®æ–‡ä»¶ã€‚Ù?System daemons and system utilities executed by other programs.ÙBç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹å’Œç”±å…¶ä»–ç¨‹åºæ‰§è¡Œçš„ç³»ç»Ÿå®ç”¨å·¥å…·ã€‚ÚfLocal executables and libraries. Also used as the default destination for the FreeBSD ports framework. Within `/usr/local`, the general layout sketched out by man:hier[7] for `/usr` should be used. Exceptions are the man directory, which is directly under `/usr/local` rather than under `/usr/local/share`, and the ports documentation is in `share/doc/port`.Ú%æœ¬åœ°å¯æ‰§è¡Œæ–‡ä»¶å’Œåº“ã€‚ä¹Ÿè¢«ç”¨ä½œ FreeBSD ports æ¡†æ¶çš„é»˜è®¤ç›®çš„åœ°ã€‚åœ¨ `/usr/local` ä¸­ï¼Œåº”ä½¿ç”¨ man:hier[7] ä¸º `/usr` é¢„è®¾çš„ä¸€èˆ¬å¸ƒå±€ã€‚man ç›®å½•ä¾‹å¤–ï¼Œå®ƒç›´æ¥ä½äº `/usr/local` è€Œä¸æ˜¯ `/usr/local/share` ä¸‹ï¼Œè€Œ ports æ–‡æ¡£ä½äº `share/doc/port` ä¸­ã€‚Ù(The FreeBSD Ports Collection (optional).Ù#FreeBSD Ports é›†åˆï¼ˆå¯é€‰ï¼‰ã€‚¿Architecture-independent files.Ù!ä¸ä½“ç³»ç»“æ„æ— å…³çš„æ–‡ä»¶ã€‚¾BSD and/or local source files.¹BSD æˆ–æœ¬åœ°æºæ–‡ä»¶ã€‚Ù9Multi-purpose log, temporary, transient, and spool files.Ù3å¤šç”¨é€”æ—¥å¿—ã€ä¸´æ—¶ã€æš‚å­˜å’Œæº¢å‡ºæ–‡ä»¶ã€‚ÙCTemporary files which are usually preserved across a system reboot.Ù0é€šå¸¸åœ¨ç³»ç»Ÿé‡å¯åä¿ç•™çš„ä¸´æ—¶æ–‡ä»¶ã€‚±Disk Organization¬ç£ç›˜ç»„ç»‡±Disk Device Names²ç£ç›˜è®¾å¤‡åç§°ªDrive Type¬é©±åŠ¨ç±»å‹±Drive Device Name²é©±åŠ¨è®¾å¤‡åç§°¸SATA and IDE hard drives³SATA å’Œ IDE ç¡¬ç›˜Ù(SCSI hard drives and USB storage devices¿SCSI ç¡¬ç›˜å’Œ USB å­˜å‚¨è®¾å¤‡¬NVMe storage«NVMe å­˜å‚¨ºSATA and IDE CD-ROM drives½SATA å’Œ IDE CD-ROM é©±åŠ¨å™¨²SCSI CD-ROM drivesµSCSI CD-ROM é©±åŠ¨å™¨­Floppy drives¯è½¯ç›˜é©±åŠ¨å™¨°SCSI tape drives´SCSI ç£å¸¦é©±åŠ¨å™¨«RAID drives®RAID é©±åŠ¨å™¨Ù¨Examples include `aacd` for Adaptec(R) AdvancedRAID, `mlxd` and `mlyd` for Mylex(R), `amrd` for AMI MegaRAID(R), `idad` for Compaq Smart RAID, `twed` for 3ware(R) RAID.Ù¦ä¾‹å¦‚ï¼ŒAdaptec(R) AdvancedRAID çš„ `aacd`ã€Mylex(R) çš„ `mlxd` å’Œ `mlyd`ã€AMI MegaRAID(R) çš„ `amrd`ã€Compaq Smart RAID çš„ `idad`ã€3ware(R) RAID çš„ `twed`ã€‚Ù'Sample Disk, Slice, and Partition NamesÙ$ç¤ºä¾‹ç£ç›˜ã€Slice å’Œåˆ†åŒºåç§°¤Name¦åç§°§Meaning¦æ„ä¹‰ÙTThe first partition (`a`) on the first slice (`s1`) on the first SATA disk (`ada0`).Ù^ç¬¬ä¸€ä¸ª SATA ç£ç›˜ï¼ˆ`ada0`ï¼‰ä¸Šçš„ç¬¬ä¸€ä¸ª sliceï¼ˆ`s1`ï¼‰ä¸Šç¬¬ä¸€ä¸ªåˆ†åŒºï¼ˆ`a`ï¼‰ã€‚ÙUThe fifth partition (`e`) on the second slice (`s2`) on the second SCSI disk (`da1`).Ù]ç¬¬äºŒä¸ª SCSI ç£ç›˜ï¼ˆ`da1`ï¼‰ä¸Šç¬¬äºŒä¸ª sliceï¼ˆ`s2`ï¼‰ä¸Šçš„ç¬¬äº”ä¸ªåˆ†åŒºï¼ˆ`e`ï¼‰ã€‚ºConceptual Model of a Diskµç£ç›˜çš„æ¦‚å¿µæ¨¡å‹Ú‡This diagram shows FreeBSD's view of the first SATA disk attached to the system.  Assume that the disk is 250 GB in size, and contains an 80 GB slice and a 170 GB slice (MS-DOS(R) partitions).  The first slice contains a Windows(R) NTFS file system, `C:`, and the second slice contains a FreeBSD installation.  This example FreeBSD installation has four data partitions and a swap partition.Ú‡è¿™ä¸ªå›¾ç¤ºå±•ç¤ºäº† FreeBSD å¯¹ç³»ç»Ÿä¸Šè¿æ¥çš„ç¬¬ä¸€ä¸ª SATA ç¡¬ç›˜çš„è§†å›¾ã€‚å‡è®¾è¯¥ç¡¬ç›˜çš„å®¹é‡ä¸º 250GB ï¼ŒåŒ…å«ä¸€ä¸ª 80GB çš„åˆ†åŒºå’Œä¸€ä¸ª 170GB çš„åˆ†åŒºï¼ˆMS-DOS(R) åˆ†åŒºï¼‰ã€‚ç¬¬ä¸€ä¸ªåˆ†åŒºåŒ…å«ä¸€ä¸ª Windows(R) NTFS æ–‡ä»¶ç³»ç»Ÿï¼Œå³ `C:`ï¼Œè€Œç¬¬äºŒä¸ªåˆ†åŒºåŒ…å«ä¸€ä¸ª FreeBSD å®‰è£…ã€‚è¿™ä¸ªç¤ºä¾‹çš„ FreeBSD å®‰è£…æœ‰å››ä¸ªæ•°æ®åˆ†åŒºå’Œä¸€ä¸ªäº¤æ¢åˆ†åŒºã€‚®The fstab File¬fstab æ–‡ä»¶ÙéDuring the boot process (crossref:boot[boot,The FreeBSD Booting Process]), file systems listed in `/etc/fstab` are automatically mounted except for the entries containing `noauto`.  This file contains entries in the following format:ÙÌåœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ï¼ˆcrossref:boot[boot,FreeBSD å¼•å¯¼è¿‡ç¨‹]ï¼‰ï¼Œé™¤äº†åŒ…å« `noauto` æ¡ç›®çš„æ¡ç›®å¤–ï¼Œ`/etc/fstab` ä¸­åˆ—å‡ºçš„æ–‡ä»¶ç³»ç»Ÿä¼šè‡ªåŠ¨æŒ‚è½½ã€‚è¯¥æ–‡ä»¶ä»¥ä»¥ä¸‹æ ¼å¼åŒ…å«æ¡ç›®ï¼šÙ9An existing device name as explained in <<disks-naming>>.Ù<å¦‚ <<disks-naming>> ä¸­æ‰€è§£é‡Šçš„ï¼Œç°æœ‰è®¾å¤‡åç§°ã€‚Ù8An existing directory on which to mount the file system.Ù3ä¸€ä¸ªç°æœ‰çš„ç›®å½•ï¼Œç”¨äºæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚ÙXThe file system type to pass to man:mount[8].  The default FreeBSD file system is `ufs`.ÙYä¼ é€’ç»™ man:mount[8] çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚é»˜è®¤çš„ FreeBSD æ–‡ä»¶ç³»ç»Ÿæ˜¯ `ufs`ã€‚ÚEither `rw` for read-write file systems, or `ro` for read-only file systems, followed by any other options that may be needed.  A common option is `noauto` for file systems not normally mounted during the boot sequence.  Other options are listed in man:mount[8].Úå¯ä»¥é€‰æ‹© `rw` è¡¨ç¤ºè¯»å†™æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ–è€… `ro` è¡¨ç¤ºåªè¯»æ–‡ä»¶ç³»ç»Ÿï¼Œåé¢å¯ä»¥æ·»åŠ å…¶ä»–å¯èƒ½éœ€è¦çš„é€‰é¡¹ã€‚å¸¸è§çš„é€‰é¡¹æ˜¯ `noauto` ï¼Œç”¨äºåœ¨å¯åŠ¨åºåˆ—æœŸé—´é€šå¸¸ä¸æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚å…¶ä»–é€‰é¡¹å¯ä»¥åœ¨ man:mount[8] ä¸­æ‰¾åˆ°ã€‚ÙzUsed by man:dump[8] to determine which file systems require dumping.  If the field is missing, a value of zero is assumed.Ùxman:dump[8] ä½¿ç”¨æ­¤å­—æ®µæ¥ç¡®å®šå“ªäº›æ–‡ä»¶ç³»ç»Ÿéœ€è¦è¿›è¡Œå¤‡ä»½ã€‚å¦‚æœè¯¥å­—æ®µç¼ºå¤±ï¼Œåˆ™é»˜è®¤ä¸ºé›¶å€¼ã€‚ÚÕDetermines the order in which UFS file systems should be checked by man:fsck[8] after a reboot.  File systems that should be skipped should have their `passno` set to zero.  The root file system needs to be checked before everything else and should have its `passno` set to one.  The other file systems should be set to values greater than one.  If more than one file system has the same `passno`, man:fsck[8] will attempt to check file systems in parallel if possible.ÚÁç¡®å®šåœ¨é‡æ–°å¯åŠ¨åï¼Œman:fsck[8] åº”è¯¥æŒ‰ç…§ä»€ä¹ˆé¡ºåºæ£€æŸ¥ UFS æ–‡ä»¶ç³»ç»Ÿã€‚åº”è¯¥è·³è¿‡çš„æ–‡ä»¶ç³»ç»Ÿåº”è¯¥å°†å…¶ `passno` è®¾ç½®ä¸ºé›¶ã€‚æ ¹æ–‡ä»¶ç³»ç»Ÿéœ€è¦åœ¨å…¶ä»–æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿä¹‹å‰è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶ä¸”å…¶ `passno` åº”è¯¥è®¾ç½®ä¸ºä¸€ã€‚å…¶ä»–æ–‡ä»¶ç³»ç»Ÿçš„ `passno` åº”è¯¥è®¾ç½®ä¸ºå¤§äºä¸€çš„å€¼ã€‚å¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿå…·æœ‰ç›¸åŒçš„ `passno`ï¼Œman:fsck[8] å°†å°è¯•åœ¨å¯èƒ½çš„æƒ…å†µä¸‹å¹¶è¡Œæ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿã€‚ÙYRefer to man:fstab[5] for more information on the format of `/etc/fstab` and its options.ÙXè¯·å‚è€ƒ man:fstab[5] ä»¥è·å–æœ‰å…³ `/etc/fstab` æ ¼å¼åŠå…¶é€‰é¡¹çš„æ›´å¤šä¿¡æ¯ã€‚¼Common Environment Variablesµå¸¸è§çš„ç¯å¢ƒå˜é‡¨Variable¦å˜é‡¾Current logged in user's name.¾å½“å‰ç™»å½•ç”¨æˆ·çš„åç§°ã€‚Ù;Colon-separated list of directories to search for binaries.Ù?ä»¥å†’å·åˆ†éš”çš„ç›®å½•åˆ—è¡¨ï¼Œç”¨äºæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ã€‚Ù=Network name of the Xorg display to connect to, if available.Ù<å¦‚æœå¯ç”¨ï¼Œè¿æ¥åˆ°çš„ Xorg æ˜¾ç¤ºå™¨çš„ç½‘ç»œåç§°ã€‚²The current shell.³å½“å‰çš„ Shell ã€‚Ù\The name of the user's type of terminal. Used to determine the capabilities of the terminal.Ù<ç”¨æˆ·ç»ˆç«¯çš„ç±»å‹åç§°ã€‚ç”¨äºç¡®å®šç»ˆç«¯çš„åŠŸèƒ½ã€‚ÙRDatabase entry of the terminal escape codes to perform various terminal functions.ÙEç»ˆç«¯è½¬ä¹‰ç çš„æ•°æ®åº“æ¡ç›®ï¼Œç”¨äºæ‰§è¡Œå„ç§ç»ˆç«¯åŠŸèƒ½ã€‚¾The system's CPU architecture.·ç³»ç»Ÿçš„ CPU æ¶æ„ã€‚Ù!The user's preferred text editor.Ù!ç”¨æˆ·é¦–é€‰çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ÙAThe user's preferred utility for viewing text one page at a time.Ù3ç”¨æˆ·é¦–é€‰çš„é€é¡µæŸ¥çœ‹æ–‡æœ¬çš„å®ç”¨å·¥å…·ã€‚Ù?Colon-separated list of directories to search for manual pages.Ù9ä»¥å†’å·åˆ†éš”çš„ç›®å½•åˆ—è¡¨ï¼Œç”¨äºæœç´¢æ‰‹å†Œé¡µã€‚±Lists Basic Rules²åˆ—è¡¨åŸºæœ¬è§„åˆ™Ù+If text/plain does not accompany text/html:Ù(å¦‚æœ text/plain ä¸é™„å¸¦ text/htmlï¼šÙ¬Refer to man:kbdcontrol[1], man:vidcontrol[1], man:atkbd[4], man:syscons[4], and man:vt[4] for a more technical description of the FreeBSD console and its keyboard drivers.Ù¸è¯·å‚è€ƒ man:kbdcontrol[1] ã€ man:vidcontrol[1] ã€ man:atkbd[4] ã€ man:syscons[4] å’Œ man:vt[4] ï¼Œä»¥è·å–æ›´è¯¦ç»†çš„ FreeBSD æ§åˆ¶å°åŠå…¶é”®ç›˜é©±åŠ¨ç¨‹åºçš„æŠ€æœ¯æè¿°ã€‚ÚXThe user name is typed at the `login:` prompt.  Each user must have a unique user name.  There are a number of rules for creating valid user names which are documented in man:passwd[5].  It is recommended to use user names that consist of eight or fewer, all lower case characters in order to maintain backwards compatibility with applications.Ú-ç”¨æˆ·åç§°æ˜¯åœ¨ `login:` æç¤ºå¤„è¾“å…¥çš„ã€‚æ¯ä¸ªç”¨æˆ·å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åã€‚æœ‰ä¸€äº›åˆ›å»ºæœ‰æ•ˆç”¨æˆ·åçš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™åœ¨ man:passwd[5] ä¸­æœ‰è¯¦ç»†è¯´æ˜ã€‚å»ºè®®ä½¿ç”¨ç”±å…«ä¸ªæˆ–æ›´å°‘ä¸ªå°å†™å­—ç¬¦ç»„æˆçš„ç”¨æˆ·åï¼Œä»¥ä¿æŒä¸åº”ç”¨ç¨‹åºçš„å‘åå…¼å®¹æ€§ã€‚Ù(Each account has an associated password.Ù*æ¯ä¸ªè´¦æˆ·éƒ½æœ‰ä¸€ä¸ªå…³è”çš„å¯†ç ã€‚Ú?The home directory is the full path to a directory on the system.  This is the user's starting directory when the user logs in.  A common convention is to put all user home directories under `/home/username` or `/usr/home/username`.  Each user stores their personal files and subdirectories in their own home directory.Ú	ä¸»ç›®å½•æ˜¯ç³»ç»Ÿä¸Šä¸€ä¸ªç›®å½•çš„å®Œæ•´è·¯å¾„ã€‚è¿™æ˜¯ç”¨æˆ·ç™»å½•æ—¶çš„èµ·å§‹ç›®å½•ã€‚ä¸€ä¸ªå¸¸è§çš„çº¦å®šæ˜¯å°†æ‰€æœ‰ç”¨æˆ·çš„ä¸»ç›®å½•æ”¾åœ¨ `/home/username` æˆ– `/usr/home/username` ä¸‹ã€‚æ¯ä¸ªç”¨æˆ·åœ¨è‡ªå·±çš„ä¸»ç›®å½•ä¸­å­˜å‚¨ä¸ªäººæ–‡ä»¶å’Œå­ç›®å½•ã€‚ÙşThe superuser account, usually called `root`, is used to manage the system with no limitations on privileges.  For this reason, it should not be used for day-to-day tasks like sending and receiving mail, general exploration of the system, or programming.Ù³è¶…çº§ç”¨æˆ·è´¦æˆ·é€šå¸¸è¢«ç§°ä¸º `root` ï¼Œç”¨äºæ— é™åˆ¶åœ°ç®¡ç†ç³»ç»Ÿã€‚å› æ­¤ï¼Œä¸åº”å°†å…¶ç”¨äºæ—¥å¸¸ä»»åŠ¡ï¼Œå¦‚å‘é€å’Œæ¥æ”¶é‚®ä»¶ã€ç³»ç»Ÿçš„ä¸€èˆ¬æ¢ç´¢æˆ–ç¼–ç¨‹ã€‚ÚOThe superuser, unlike other user accounts, can operate without limits, and misuse of the superuser account may result in spectacular disasters.  User accounts are unable to destroy the operating system by mistake, so it is recommended to login as a user account and to only become the superuser when a command requires extra privilege.Úä¸å…¶ä»–ç”¨æˆ·è´¦æˆ·ä¸åŒï¼Œè¶…çº§ç”¨æˆ·å¯ä»¥æ— é™åˆ¶åœ°æ“ä½œï¼Œæ»¥ç”¨è¶…çº§ç”¨æˆ·è´¦æˆ·å¯èƒ½å¯¼è‡´ç¾éš¾æ€§åæœã€‚ç”¨æˆ·è´¦æˆ·æ— æ³•é€šè¿‡é”™è¯¯æ“ä½œé”€æ¯æ“ä½œç³»ç»Ÿï¼Œå› æ­¤å»ºè®®ä»¥ç”¨æˆ·è´¦æˆ·ç™»å½•ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦é¢å¤–æƒé™çš„å‘½ä»¤æ—¶åˆ‡æ¢ä¸ºè¶…çº§ç”¨æˆ·ã€‚ÙAlways double and triple-check any commands issued as the superuser, since an extra space or missing character can mean irreparable data loss.Ù“ä½œä¸ºè¶…çº§ç”¨æˆ·ï¼Œå§‹ç»ˆè¦ä»”ç»†æ£€æŸ¥ä»»ä½•å‘å‡ºçš„å‘½ä»¤ï¼Œå› ä¸ºé¢å¤–çš„ç©ºæ ¼æˆ–ç¼ºå¤±çš„å­—ç¬¦å¯èƒ½å¯¼è‡´æ— æ³•ä¿®å¤çš„æ•°æ®ä¸¢å¤±ã€‚ÙpThere are several ways to gain superuser privilege.  While one can log in as `root`, this is highly discouraged.Ùtæœ‰å‡ ç§æ–¹æ³•å¯ä»¥è·å¾—è¶…çº§ç”¨æˆ·æƒé™ã€‚è™½ç„¶å¯ä»¥ä½¿ç”¨ `root` è´¦æˆ·ç™»å½•ï¼Œä½†è¿™æ˜¯æä¸æ¨èçš„ã€‚Ú5Instead, use man:su[1] to become the superuser.  If `-` is specified when running this command, the user will also inherit the root user's environment.  The user running this command must be in the `wheel` group or else the command will fail.  The user must also know the password for the `root` user account.Úç›¸åï¼Œä½¿ç”¨ man:su[1] å‘½ä»¤æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚å¦‚æœåœ¨è¿è¡Œæ­¤å‘½ä»¤æ—¶æŒ‡å®šäº† `-` ï¼Œç”¨æˆ·è¿˜å°†ç»§æ‰¿ root ç”¨æˆ·çš„ç¯å¢ƒã€‚è¿è¡Œæ­¤å‘½ä»¤çš„ç”¨æˆ·å¿…é¡»å±äº `wheel` ç»„ï¼Œå¦åˆ™å‘½ä»¤å°†å¤±è´¥ã€‚ç”¨æˆ·è¿˜å¿…é¡»çŸ¥é“ `root` ç”¨æˆ·è´¦æˆ·çš„å¯†ç ã€‚ÙÿIn this example, the user only becomes superuser in order to run `make install` as this step requires superuser privilege.  Once the command completes, the user types `exit` to leave the superuser account and return to the privilege of their user account.Ùíåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”¨æˆ·åªæ˜¯ä¸ºäº†è¿è¡Œ `make install` è¿™ä¸ªæ­¥éª¤éœ€è¦è¶…çº§ç”¨æˆ·æƒé™ï¼Œæ‰æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚ä¸€æ—¦å‘½ä»¤å®Œæˆï¼Œç”¨æˆ·è¾“å…¥ `exit` æ¥é€€å‡ºè¶…çº§ç”¨æˆ·è´¦æˆ·ï¼Œè¿”å›åˆ°ä»–ä»¬çš„ç”¨æˆ·è´¦æˆ·çš„æƒé™ã€‚Ù"Install a Program As the SuperuserÙ!ä»¥è¶…çº§ç”¨æˆ·èº«ä»½å®‰è£…ç¨‹åºÚGThe built-in man:su[1] framework works well for single systems or small networks with just one system administrator.  An alternative is to install the package:security/sudo[] package or port.  This software provides activity logging and allows the administrator to configure which users can run which commands as the superuser.Úå†…ç½®çš„ man:su[1] æ¡†æ¶é€‚ç”¨äºå•ä¸ªç³»ç»Ÿæˆ–åªæœ‰ä¸€ä¸ªç³»ç»Ÿç®¡ç†å‘˜çš„å°å‹ç½‘ç»œã€‚å¦ä¸€ç§é€‰æ‹©æ˜¯å®‰è£… package:security/sudo[] è½¯ä»¶åŒ…æˆ– portã€‚è¯¥è½¯ä»¶æä¾›æ´»åŠ¨æ—¥å¿—è®°å½•ï¼Œå¹¶å…è®¸ç®¡ç†å‘˜é…ç½®å“ªäº›ç”¨æˆ·å¯ä»¥ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œå“ªäº›å‘½ä»¤ã€‚±Managing Accounts¬ç®¡ç†è´¦æˆ·Ú	FreeBSD provides a variety of different commands to manage user accounts.  The most common commands are summarized in <<users-modifying-utilities>>, followed by some examples of their usage.  See the manual page for each utility for more details and usage examples.ÙÿFreeBSD æä¾›äº†å¤šç§ä¸åŒçš„å‘½ä»¤æ¥ç®¡ç†ç”¨æˆ·è´¦æˆ·ã€‚æœ€å¸¸è§çš„å‘½ä»¤åœ¨ <<users-modifying-utilities>> ä¸­è¿›è¡Œäº†æ€»ç»“ï¼Œå¹¶é™„æœ‰ä¸€äº›ä½¿ç”¨ç¤ºä¾‹ã€‚æœ‰å…³æ¯ä¸ªå®ç”¨ç¨‹åºçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯å’Œä½¿ç”¨ç¤ºä¾‹ï¼Œè¯·å‚é˜…å…¶æ‰‹å†Œé¡µé¢ã€‚Ù$Utilities for Managing User AccountsÙ!ç®¡ç†ç”¨æˆ·è´¦æˆ·çš„å®ç”¨å·¥å…·§Command¦å‘½ä»¤§Summary¦æ‘˜è¦Ù>The recommended command-line application for adding new users.Ù6ç”¨äºæ·»åŠ æ–°ç”¨æˆ·çš„æ¨èå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºã€‚Ù<The recommended command-line application for removing users.Ù3ç”¨äºåˆ é™¤ç”¨æˆ·çš„æ¨èå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºã€‚Ù7A flexible tool for changing user database information.Ù3ç”¨äºæ›´æ”¹ç”¨æˆ·æ•°æ®åº“ä¿¡æ¯çš„çµæ´»å·¥å…·ã€‚Ù/The command-line tool to change user passwords.Ù-ç”¨äºæ›´æ”¹ç”¨æˆ·å¯†ç çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ÙHA powerful and flexible tool for modifying all aspects of user accounts.ÙKåŠŸèƒ½å¼ºå¤§è€Œçµæ´»çš„å·¥å…·ï¼Œå¯å¯¹ç”¨æˆ·è´¦æˆ·è¿›è¡Œå…¨æ–¹ä½ä¿®æ”¹ã€‚Ù?A system configuration utility with account management support.Ù0å…·æœ‰è´¦æˆ·ç®¡ç†æ”¯æŒçš„ç³»ç»Ÿé…ç½®å·¥å…·ã€‚­Adding a user¬æ·»åŠ ç”¨æˆ·ÚwThe recommended program for adding new users is man:adduser[8].  When a new user is added, this program automatically updates `/etc/passwd` and `/etc/group`.  It also creates a home directory for the new user, copies in the default configuration files from `/usr/share/skel`, and can optionally mail the new user a welcome message.  This utility must be run as the superuser.ÚWæ·»åŠ æ–°ç”¨æˆ·çš„æ¨èç¨‹åºæ˜¯ man:adduser[8] ã€‚å½“æ·»åŠ æ–°ç”¨æˆ·æ—¶ï¼Œè¯¥ç¨‹åºä¼šè‡ªåŠ¨æ›´æ–° `/etc/passwd` å’Œ `/etc/group` æ–‡ä»¶ã€‚å®ƒè¿˜ä¼šä¸ºæ–°ç”¨æˆ·åˆ›å»ºä¸€ä¸ªå®¶ç›®å½•ï¼Œå¹¶ä» `/usr/share/skel` ç›®å½•ä¸­å¤åˆ¶é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œå¹¶å¯é€‰æ‹©å‘æ–°ç”¨æˆ·å‘é€æ¬¢è¿æ¶ˆæ¯ã€‚æ­¤å®ç”¨ç¨‹åºå¿…é¡»ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œã€‚ÚÍThe man:adduser[8] utility is interactive and walks through the steps for creating a new user account.  As seen in <<users-modifying-adduser>>, either input the required information or press kbd:[Return] to accept the default value shown in square brackets.  In this example, the user has been invited into the `wheel` group, allowing them to become the superuser with man:su[1].  When finished, the utility will prompt to either create another user or to exit.Ú¤man:adduser[8] å®ç”¨ç¨‹åºæ˜¯äº¤äº’å¼çš„ï¼Œå¹¶ä¸”ä¼šå¼•å¯¼ç”¨æˆ·å®Œæˆåˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·çš„æ­¥éª¤ã€‚å¦‚åœ¨ <<users-modifying-adduser>> ä¸­æ‰€ç¤ºï¼Œå¯ä»¥è¾“å…¥æ‰€éœ€ä¿¡æ¯ï¼Œæˆ–æŒ‰ kbd:[Return] é”®æ¥å—æ–¹æ‹¬å·ä¸­æ˜¾ç¤ºçš„é»˜è®¤å€¼ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·å·²è¢«é‚€è¯·åŠ å…¥ `wheel` ç»„ï¼Œå…è®¸ä»–ä»¬é€šè¿‡ man:su[1] æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚å®Œæˆåï¼Œå®ç”¨ç¨‹åºå°†æç¤ºæ˜¯å¦åˆ›å»ºå¦ä¸€ä¸ªç”¨æˆ·æˆ–é€€å‡ºã€‚¸Adding a User on FreeBSD»åœ¨ FreeBSD ä¸Šæ·»åŠ ç”¨æˆ·Ù.The output should be similar to the following:Ù$è¾“å‡ºåº”è¯¥ç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼šÙsSince the password is not echoed when typed, be careful to not mistype the password when creating the user account.Ùlç”±äºå¯†ç åœ¨è¾“å…¥æ—¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œè¯·åœ¨åˆ›å»ºç”¨æˆ·è´¦æˆ·æ—¶å°å¿ƒä¸è¦è¾“å…¥é”™è¯¯çš„å¯†ç ã€‚¯Removing a user¬åˆ é™¤ç”¨æˆ·Ù|To completely remove a user from the system, run man:rmuser[8] as the superuser.  This command performs the following steps:Ùrè¦å®Œå…¨ä»ç³»ç»Ÿä¸­åˆ é™¤ç”¨æˆ·ï¼Œè¯·ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œ man:rmuser[8] ã€‚è¯¥å‘½ä»¤æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼šÙ7Removes the user's man:crontab[1] entry, if one exists.Ù=å¦‚æœå­˜åœ¨ç”¨æˆ·çš„ man:crontab[1] æ¡ç›®ï¼Œåˆ™åˆ é™¤å®ƒã€‚Ù1Removes any man:at[1] jobs belonging to the user.Ù/åˆ é™¤ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰ man:at[1] ä½œä¸šã€‚Ù:Sends a SIGKILL signal to all processes owned by the user.Ù6å‘ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰è¿›ç¨‹å‘é€ SIGKILL ä¿¡å·ã€‚Ù7Removes the user from the system's local password file.Ù0ä»ç³»ç»Ÿçš„æœ¬åœ°å¯†ç æ–‡ä»¶ä¸­åˆ é™¤ç”¨æˆ·ã€‚ÙRemoves the user's home directory (if it is owned by the user), including handling of symbolic links in the path to the actual home directory.Ùåˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆå¦‚æœè¯¥ç›®å½•å±äºè¯¥ç”¨æˆ·ï¼‰ï¼ŒåŒ…æ‹¬å¤„ç†è·¯å¾„ä¸­ç¬¦å·é“¾æ¥æŒ‡å‘å®é™…ä¸»ç›®å½•çš„æƒ…å†µã€‚ÙGRemoves the incoming mail files belonging to the user from `/var/mail`.ÙCä» `/var/mail` ç›®å½•ä¸­åˆ é™¤å±äºç”¨æˆ·çš„ä¼ å…¥é‚®ä»¶æ–‡ä»¶ã€‚ÙWRemoves all files owned by the user from `/tmp`, `/var/tmp`, and `/var/tmp/vi.recover`.ÙYä» `/tmp`ã€`/var/tmp` å’Œ `/var/tmp/vi.recover` ä¸­åˆ é™¤ç”¨æˆ·æ‰€æœ‰æ‹¥æœ‰çš„æ–‡ä»¶ã€‚ÙäRemoves the username from all groups to which it belongs in `/etc/group`. (If a group becomes empty and the group name is the same as the username, the group is removed; this complements man:adduser[8]'s per-user unique groups.)ÙÌå°†ç”¨æˆ·åä» `/etc/group` ä¸­æ‰€å±çš„æ‰€æœ‰ç»„ä¸­åˆ é™¤ã€‚ï¼ˆå¦‚æœä¸€ä¸ªç»„å˜ä¸ºç©ºï¼Œå¹¶ä¸”ç»„åä¸ç”¨æˆ·åç›¸åŒï¼Œåˆ™åˆ é™¤è¯¥ç»„ï¼›è¿™ä¸ man:adduser[8] çš„æ¯ä¸ªç”¨æˆ·å”¯ä¸€ç»„ç›¸å¯¹åº”ã€‚ï¼‰ÙTRemoves all message queues, shared memory segments and semaphores owned by the user.ÙHåˆ é™¤ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜æ®µå’Œä¿¡å·é‡ã€‚Ù{man:rmuser[8] cannot be used to remove superuser accounts since that is almost always an indication of massive destruction.Ùnman:rmuser[8] ä¸èƒ½ç”¨äºåˆ é™¤è¶…çº§ç”¨æˆ·è´¦æˆ·ï¼Œå› ä¸ºè¿™å‡ ä¹æ€»æ˜¯æ„å‘³ç€å¤§è§„æ¨¡ç ´åçš„è¿¹è±¡ã€‚ÙKBy default, an interactive mode is used, as shown in the following example.Ù9é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨äº¤äº’æ¨¡å¼ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚Ù$`rmuser` Interactive Account Removal¾`rmuser` äº¤äº’å¼è´¦æˆ·åˆ é™¤·Change user information²æ›´æ”¹ç”¨æˆ·ä¿¡æ¯ÙÔAny user can use man:chpass[1] to change their default shell and personal information associated with their user account.  The superuser can use this utility to change additional account information for any user.ÙÊä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ man:chpass[1] å‘½ä»¤æ¥æ›´æ”¹å…¶é»˜è®¤ shell å’Œä¸å…¶ç”¨æˆ·è´¦æˆ·å…³è”çš„ä¸ªäººä¿¡æ¯ã€‚è¶…çº§ç”¨æˆ·å¯ä»¥ä½¿ç”¨æ­¤å®ç”¨ç¨‹åºæ¥æ›´æ”¹ä»»ä½•ç”¨æˆ·çš„å…¶ä»–è´¦æˆ·ä¿¡æ¯ã€‚ÙÓWhen passed no options, aside from an optional username, man:chpass[1] displays an editor containing user information.  When the user exits from the editor, the user database is updated with the new information.ÙÌå½“æ²¡æœ‰ä¼ é€’ä»»ä½•é€‰é¡¹æ—¶ï¼Œé™¤äº†å¯é€‰çš„ç”¨æˆ·åå¤–ï¼Œ man:chpass[1] ä¼šæ˜¾ç¤ºä¸€ä¸ªåŒ…å«ç”¨æˆ·ä¿¡æ¯çš„ç¼–è¾‘å™¨ã€‚å½“ç”¨æˆ·ä»ç¼–è¾‘å™¨é€€å‡ºæ—¶ï¼Œç”¨æˆ·æ•°æ®åº“å°†ä¼šæ›´æ–°ä¸ºæ–°çš„ä¿¡æ¯ã€‚ÙuThis utility will prompt for the user's password when exiting the editor, unless the utility is run as the superuser.Ùuè¯¥å®ç”¨ç¨‹åºåœ¨é€€å‡ºç¼–è¾‘å™¨æ—¶ä¼šæç¤ºç”¨æˆ·è¾“å…¥å¯†ç ï¼Œé™¤éä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œè¯¥å®ç”¨ç¨‹åºã€‚Ú#In <<users-modifying-chpass-su>>, the superuser has typed `chpass jru` and is now viewing the fields that can be changed for this user.  If `jru` runs this command instead, only the last six fields will be displayed and available for editing.  This is shown in <<users-modifying-chpass-ru>>.Úåœ¨ <<users-modifying-chpass-su>> ä¸­ï¼Œè¶…çº§ç”¨æˆ·è¾“å…¥äº† `chpass jru` ï¼Œç°åœ¨æ­£åœ¨æŸ¥çœ‹å¯ä»¥æ›´æ”¹è¯¥ç”¨æˆ·çš„å­—æ®µã€‚å¦‚æœ `jru` è¿è¡Œæ­¤å‘½ä»¤ï¼Œåªæœ‰æœ€åå…­ä¸ªå­—æ®µå°†è¢«æ˜¾ç¤ºå¹¶å¯ä¾›ç¼–è¾‘ã€‚è¿™åœ¨ <<users-modifying-chpass-ru>> ä¸­æ˜¾ç¤ºã€‚»Using `chpass` as SuperuserÙ+ä»¥è¶…çº§ç”¨æˆ·èº«ä»½ä½¿ç”¨ `chpass` å‘½ä»¤¾Using `chpass` as Regular UserÙ+ä»¥æ™®é€šç”¨æˆ·èº«ä»½ä½¿ç”¨ `chpass` å‘½ä»¤Ú7The commands man:chfn[1] and man:chsh[1] are links to man:chpass[1], as are man:ypchpass[1], man:ypchfn[1], and man:ypchsh[1].  Since NIS support is automatic, specifying the `yp` before the command is not necessary.  How to configure NIS is covered in crossref:network-servers[network-servers,Network Servers].Ú=å‘½ä»¤ man:chfn[1] å’Œ man:chsh[1] æ˜¯æŒ‡å‘ man:chpass[1] çš„é“¾æ¥ï¼ŒåŒæ · man:ypchpass[1] ã€ man:ypchfn[1] å’Œ man:ypchsh[1] ä¹Ÿæ˜¯ã€‚ç”±äº NIS æ”¯æŒæ˜¯è‡ªåŠ¨çš„ï¼Œæ‰€ä»¥åœ¨å‘½ä»¤ä¹‹å‰æŒ‡å®š `yp` æ˜¯ä¸å¿…è¦çš„ã€‚å¦‚ä½•é…ç½® NIS åœ¨ crossref:network-servers[network-servers ,ç½‘ç»œæœåŠ¡å™¨] ä¸­æœ‰ä»‹ç»ã€‚´Change user password²æ›´æ”¹ç”¨æˆ·å¯†ç ÙÊAny user can easily change their password using man:passwd[1].  To prevent accidental or unauthorized changes, this command will prompt for the user's original password before a new password can be set:Ù½ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ man:passwd[1] è½»æ¾æ›´æ”¹ä»–ä»¬çš„å¯†ç ã€‚ä¸ºäº†é˜²æ­¢æ„å¤–æˆ–æœªç»æˆæƒçš„æ›´æ”¹ï¼Œåœ¨è®¾ç½®æ–°å¯†ç ä¹‹å‰ï¼Œè¯¥å‘½ä»¤ä¼šæç¤ºç”¨æˆ·è¾“å…¥åŸå§‹å¯†ç ï¼š¶Changing Your Password¬æ›´æ”¹å¯†ç ÚThe superuser can change any user's password by specifying the username when running man:passwd[1].  When this utility is run as the superuser, it will not prompt for the user's current password.  This allows the password to be changed when a user cannot remember the original password.Ùüè¶…çº§ç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨è¿è¡Œ man:passwd[1] æ—¶æŒ‡å®šç”¨æˆ·åæ¥æ›´æ”¹ä»»ä½•ç”¨æˆ·çš„å¯†ç ã€‚å½“ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è¿è¡Œæ­¤å®ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¸ä¼šæç¤ºç”¨æˆ·è¾“å…¥å½“å‰å¯†ç ã€‚è¿™å…è®¸åœ¨ç”¨æˆ·æ— æ³•è®°ä½åŸå§‹å¯†ç æ—¶æ›´æ”¹å¯†ç ã€‚Ù1Changing Another User's Password as the SuperuserÙ3ä»¥è¶…çº§ç”¨æˆ·èº«ä»½æ›´æ”¹å¦ä¸€ä¸ªç”¨æˆ·çš„å¯†ç ÙdAs with man:chpass[1], man:yppasswd[1] is a link to man:passwd[1], so NIS works with either command.Ùä¸ man:chpass[1] ä¸€æ ·ï¼Œ man:yppasswd[1] æ˜¯æŒ‡å‘ man:passwd[1] çš„é“¾æ¥ï¼Œå› æ­¤ NIS å¯ä»¥ä¸ä»»ä¸€å‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚Ù:Create, remove, modify and display system users and groupsÙ3åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹å’Œæ˜¾ç¤ºç³»ç»Ÿç”¨æˆ·å’Œç»„ÚYThe man:pw[8] utility can create, remove, modify, and display users and groups.  It functions as a front end to the system user and group files.  man:pw[8] has a very powerful set of command line options that make it suitable for use in shell scripts, but new users may find it more complicated than the other commands presented in this section.Ú-man:pw[8] å®ç”¨ç¨‹åºå¯ä»¥åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹å’Œæ˜¾ç¤ºç”¨æˆ·å’Œç»„ã€‚å®ƒä½œä¸ºç³»ç»Ÿç”¨æˆ·å’Œç»„æ–‡ä»¶çš„å‰ç«¯å·¥å…·ã€‚ man:pw[8] å…·æœ‰ä¸€å¥—éå¸¸å¼ºå¤§çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼Œä½¿å…¶é€‚ç”¨äºåœ¨ shell è„šæœ¬ä¸­ä½¿ç”¨ï¼Œä½†æ–°ç”¨æˆ·å¯èƒ½ä¼šå‘ç°å®ƒæ¯”æœ¬èŠ‚ä¸­ä»‹ç»çš„å…¶ä»–å‘½ä»¤æ›´å¤æ‚ã€‚¯Managing Groups¬ç®¡ç†ç¾¤ç»„´Symbolic Permissions¬ç¬¦å·æƒé™ÙÚSymbolic permissions use characters instead of octal values to assign permissions to files or directories.  Symbolic permissions use the syntax of (who) (action) (permissions), where the following values are available:Ù¦ç¬¦å·æƒé™ä½¿ç”¨å­—ç¬¦è€Œä¸æ˜¯å…«è¿›åˆ¶å€¼æ¥ä¸ºæ–‡ä»¶æˆ–ç›®å½•åˆ†é…æƒé™ã€‚ç¬¦å·æƒé™ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š (ç”¨æˆ·) (åŠ¨ä½œ) (æƒé™) ï¼Œå¯ç”¨çš„å€¼å¦‚ä¸‹ï¼š¦Option¦é€‰é¡¹¦Letter¦å‚æ•°ªRepresents¦æ„ä¹‰¥(who)¬ï¼ˆç”¨æˆ·ï¼‰¤User¦ç”¨æˆ·«Group owner¬ç»„æ‰€æœ‰è€…¥Other¦å…¶ä»–­All ("world")´æ‰€æœ‰ï¼ˆ"å…¨éƒ¨"ï¼‰¨(action)¬ï¼ˆåŠ¨ä½œï¼‰²Adding permissions¬æ·»åŠ æƒé™´Removing permissions¬ç§»é™¤æƒé™ºExplicitly set permissions¬æŒ‡å®šæƒé™­(permissions)¬ï¼ˆæƒé™ï¼‰¤Read£è¯»¥Write£å†™§Execute¦æ‰§è¡ŒªSticky bit©ç²˜æ€§ä½®Set UID or GID¹è®¾ç½®ç”¨æˆ· ID æˆ–ç»„ IDÙtThis chapter covers various aspects of the FreeBSD Project, such as its history, goals, development model, and so onÙ`æœ¬ç« ä»‹ç»äº† FreeBSD é¡¹ç›®çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬å…¶å†å²ã€ç›®æ ‡ã€å¼€å‘æ¨¡å‹ç­‰ç­‰ã€‚·Chapter 1. Introduction°ç¬¬ä¸€ç«  å¼•è¨€¬Introduction¦ä»‹ç»Ù¦Thank you for your interest in FreeBSD! The following chapter covers various aspects of the FreeBSD Project, such as its history, goals, development model, and so on.Ù”æ„Ÿè°¢ä½ å¯¹ FreeBSD æœ‰æ‰€å…´è¶£ï¼ ä¸‹é¢è¿™ä¸€ç« æ¶‰åŠåˆ°äº† FreeBSD é¡¹ç›®çš„å„ä¸ªæ–¹é¢ï¼Œä¾‹å¦‚å®ƒçš„å†å²ã€ç›®æ ‡ã€å¼€å‘æ¨¡å¼ç­‰ç­‰ã€‚Ù)After reading this chapter you will know:Ù!é˜…è¯»æœ¬ç« åï¼Œæ‚¨å°†äº†è§£ï¼šÙ8How FreeBSD relates to other computer operating systems.Ù2FreeBSD ä¸å…¶ä»–è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„å…³ç³»ã€‚Ù#The history of the FreeBSD Project.ºFreeBSD é¡¹ç›®çš„å†å²ã€‚Ù!The goals of the FreeBSD Project.ºFreeBSD é¡¹ç›®çš„ç›®æ ‡ã€‚Ù8The basics of the FreeBSD open-source development model.Ù,FreeBSD å¼€æºå¼€å‘æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ã€‚Ù3And of course: where the name "FreeBSD" comes from.Ù?å½“ç„¶ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼š FreeBSD è¿™ä¸ªåå­—çš„ç”±æ¥ã€‚³Welcome to FreeBSD!¸æ¬¢è¿æ¥åˆ° FreeBSD ï¼ÚøFreeBSD is an Open Source, standards-compliant Unix-like operating system for x86 (both 32 and 64 bit), ARM, AArch64, RISC-V, POWER, and PowerPC computers.  It provides all the features that are nowadays taken for granted, such as preemptive multitasking, memory protection, virtual memory, multi-user facilities, SMP support, all the Open Source development tools for different languages and frameworks, and desktop features centered around X Window System, KDE, or GNOME.  Its particular strengths are:ÚºFreeBSD æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ç¬¦åˆæ ‡å‡†çš„ç±» Unix æ“ä½œç³»ç»Ÿï¼Œé€‚ç”¨äº x86ï¼ˆ32 ä½å’Œ 64 ä½ï¼‰ã€ARMã€AArch64ã€RISC-Vã€POWER å’Œ PowerPC è®¡ç®—æœºã€‚å®ƒæä¾›äº†ç°åœ¨è¢«è§†ä¸ºç†æ‰€å½“ç„¶çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¦‚æŠ¢å å¼å¤šä»»åŠ¡å¤„ç†ã€å†…å­˜ä¿æŠ¤ã€è™šæ‹Ÿå†…å­˜ã€å¤šç”¨æˆ·è®¾æ–½ã€ SMP æ”¯æŒã€å„ç§è¯­è¨€å’Œæ¡†æ¶çš„å¼€æºå¼€å‘å·¥å…·ï¼Œä»¥åŠä»¥ X Window Systemã€KDE æˆ– GNOME ä¸ºä¸­å¿ƒçš„æ¡Œé¢åŠŸèƒ½ã€‚å®ƒçš„ç‰¹ç‚¹æœ‰ï¼šÚ"_Liberal Open Source license_, which grants you rights to freely modify and extend its source code and incorporate it in both Open Source projects and closed products without imposing restrictions typical to copyleft licenses, as well as avoiding potential license incompatibility problems.Ú_è‡ªç”±å¼€æºè®¸å¯è¯ï¼ˆ Liberal Open Source license ï¼‰_  èµ‹äºˆæ‚¨è‡ªç”±ä¿®æ”¹å’Œæ‰©å±•å…¶æºä»£ç çš„æƒåˆ©ï¼Œå¹¶å°†å…¶çº³å…¥å¼€æºé¡¹ç›®å’Œé—­æºäº§å“ä¸­ï¼Œè€Œä¸ä¼šæ–½åŠ å…¸å‹çš„å¼ºåˆ¶å…±äº«è®¸å¯è¯æ‰€å…·æœ‰çš„é™åˆ¶ï¼ŒåŒæ—¶é¿å…æ½œåœ¨çš„è®¸å¯è¯ä¸å…¼å®¹é—®é¢˜ã€‚Ú_Strong TCP/IP networking_ - FreeBSD implements industry standard protocols with ever increasing performance and scalability. This makes it a good match in both server, and routing/firewalling roles - and indeed many companies and vendors use it precisely for that purpose.Ú_å¼ºå¤§çš„ TCP/IP ç½‘ç»œ_ - FreeBSD é‡‡ç”¨è¡Œä¸šæ ‡å‡†åè®®ï¼Œå…·æœ‰è¶Šæ¥è¶Šé«˜çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚è¿™ä½¿å¾—å®ƒåœ¨æœåŠ¡å™¨å’Œè·¯ç”± / é˜²ç«å¢™è§’è‰²ä¸­éƒ½èƒ½å¾ˆå¥½åœ°åŒ¹é… - å®é™…ä¸Šï¼Œè®¸å¤šå…¬å¸å’Œä¾›åº”å•†æ­£æ˜¯å‡ºäºè¿™ä¸ªç›®çš„ä½¿ç”¨å®ƒã€‚ÙÏ_Fully integrated OpenZFS support_, including root-on-ZFS, ZFS Boot Environments, fault management, administrative delegation, support for jails, FreeBSD specific documentation, and system installer support.Ù®_å®Œå…¨é›†æˆçš„ OpenZFS æ”¯æŒ_ï¼ŒåŒ…æ‹¬ root-on-ZFS ã€ ZFS å¼•å¯¼ç¯å¢ƒã€æ•…éšœç®¡ç†ã€ç®¡ç†å§”æ´¾ã€æ”¯æŒ jails ã€ FreeBSD ç‰¹å®šæ–‡æ¡£å’Œç³»ç»Ÿå®‰è£…ç¨‹åºæ”¯æŒã€‚Ùy_Extensive security features_, from the Mandatory Access Control framework to Capsicum capability and sandbox mechanisms.ÙZ_å¹¿æ³›çš„å®‰å…¨åŠŸèƒ½_ï¼Œä»å¼ºåˆ¶è®¿é—®æ§åˆ¶æ¡†æ¶åˆ° Capsicum èƒ½åŠ›å’Œæ²™ç›’æœºåˆ¶ã€‚Ù–_Over 30 thousand prebuilt packages_ for all supported architectures, and the Ports Collection which makes it easy to build your own, customized ones.ÙŠ_è¶…è¿‡30 , 000 ä¸ªé¢„æ„å»ºè½¯ä»¶åŒ…_ æ”¯æŒæ‰€æœ‰æ¶æ„ï¼Œä»¥åŠ Ports Collection ï¼Œä½¿å¾—æ„å»ºè‡ªå·±å®šåˆ¶çš„è½¯ä»¶åŒ…å˜å¾—å®¹æ˜“ã€‚ÚQ_Documentation_ - in addition to the Handbook and books from different authors that cover topics ranging from system administration to kernel internals, there are also the man:man[1] pages, not only for userspace daemons, utilities, and configuration files, but also for kernel driver APIs (section 9) and individual drivers (section 4).Ú-_æ–‡æ¡£_ - é™¤äº†æ‰‹å†Œå’Œæ¶µç›–ä»ç³»ç»Ÿç®¡ç†åˆ°å†…æ ¸å†…éƒ¨çš„å„ç§ä¸»é¢˜çš„ä¸åŒä½œè€…çš„ä¹¦ç±ä¹‹å¤–ï¼Œè¿˜æœ‰ man:man[1] é¡µé¢ï¼Œä¸ä»…é€‚ç”¨äºç”¨æˆ·ç©ºé—´çš„å®ˆæŠ¤è¿›ç¨‹ã€å®ç”¨ç¨‹åºå’Œé…ç½®æ–‡ä»¶ï¼Œè¿˜é€‚ç”¨äºå†…æ ¸é©±åŠ¨ç¨‹åº API ï¼ˆç¬¬ 9 èŠ‚ï¼‰å’Œå•ä¸ªé©±åŠ¨ç¨‹åºï¼ˆç¬¬ 4 èŠ‚ï¼‰ã€‚ÚR_Simple and consistent repository structure and build system_ - FreeBSD uses a single repository for all of its components, both kernel and userspace. This, along with a unified and easy to customize build system and a well thought-out development process makes it easy to integrate FreeBSD with build infrastructure for your own product.Ú6_ç®€å•è€Œä¸€è‡´çš„å­˜å‚¨åº“ç»“æ„å’Œæ„å»ºç³»ç»Ÿ_ - FreeBSD ä½¿ç”¨ä¸€ä¸ªå­˜å‚¨åº“æ¥ç®¡ç†æ‰€æœ‰ç»„ä»¶ï¼ŒåŒ…æ‹¬å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚è¿™ä¸ªç‰¹ç‚¹ï¼ŒåŠ ä¸Šç»Ÿä¸€ä¸”æ˜“äºå®šåˆ¶çš„æ„å»ºç³»ç»Ÿä»¥åŠç»è¿‡æ·±æ€ç†Ÿè™‘çš„å¼€å‘æµç¨‹ï¼Œä½¿å¾—å°† FreeBSD ä¸è‡ªå·±äº§å“çš„æ„å»ºåŸºç¡€è®¾æ–½é›†æˆå˜å¾—å®¹æ˜“ã€‚Ù_Staying true to Unix philosophy_, preferring composability instead of monolithic "all in one" daemons with hardcoded behavior.Ùt_ç§‰æ‰¿ Unix å“²å­¦_ï¼Œæ›´å€¾å‘äºå¯ç»„åˆæ€§ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç è¡Œä¸ºçš„å•ä½“åŒ–â€œä¸€ä½“åŒ–â€å®ˆæŠ¤ç¨‹åºã€‚Ùz_Binary compatibility_ with Linux, which makes it possible to run many Linux binaries without the need for virtualisation.Ùv_ä¸ Linux çš„äºŒè¿›åˆ¶å…¼å®¹æ€§_ï¼Œä½¿å¾—åœ¨ä¸éœ€è¦è™šæ‹ŸåŒ–çš„æƒ…å†µä¸‹å¯ä»¥è¿è¡Œè®¸å¤š Linux äºŒè¿›åˆ¶æ–‡ä»¶ã€‚Ú]FreeBSD is based on the 4.4BSD-Lite release from Computer Systems Research Group (CSRG) at the University of California at Berkeley, and carries on the distinguished tradition of BSD systems development.  In addition to the fine work provided by CSRG, the FreeBSD Project has put in many thousands of man-hours into extending the functionality and fine-tuning the system for maximum performance and reliability in real-life load situations.  FreeBSD offers performance and reliability on par with other Open Source and commercial offerings, combined with cutting-edge features not available anywhere else.ÚîFreeBSD åŸºäºåŠ åˆ©ç¦å°¼äºšå¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡è®¡ç®—æœºç³»ç»Ÿç ”ç©¶ç»„ï¼ˆ CSRG ï¼‰çš„ 4.4BSD-Lite å‘å¸ƒç‰ˆï¼Œå¹¶å»¶ç»­äº† BSD ç³»ç»Ÿå¼€å‘çš„å“è¶Šä¼ ç»Ÿã€‚é™¤äº† CSRG æä¾›çš„å‡ºè‰²å·¥ä½œå¤–ï¼Œ FreeBSD é¡¹ç›®è¿˜æŠ•å…¥äº†æ•°åƒå°æ—¶çš„å·¥ä½œï¼Œæ‰©å±•äº†åŠŸèƒ½å¹¶å¯¹ç³»ç»Ÿè¿›è¡Œäº†ç²¾ç»†è°ƒæ•´ï¼Œä»¥åœ¨å®é™…è´Ÿè½½æƒ…å†µä¸‹å®ç°æœ€å¤§æ€§èƒ½å’Œå¯é æ€§ã€‚ FreeBSD æä¾›ä¸å…¶ä»–å¼€æºå’Œå•†ä¸šäº§å“ç›¸å½“çš„æ€§èƒ½å’Œå¯é æ€§ï¼ŒåŒæ—¶ç»“åˆäº†å…¶ä»–åœ°æ–¹æ— æ³•è·å¾—çš„å°–ç«¯åŠŸèƒ½ã€‚´What Can FreeBSD Do?ºFreeBSD å¯ä»¥åšä»€ä¹ˆï¼ŸÚ	The applications to which FreeBSD can be put are truly limited only by your own imagination.  From software development to factory automation, inventory control to azimuth correction of remote satellite antenna; if it can be done with a commercial UNIX(R) product then it is more than likely that you can do it with FreeBSD too! FreeBSD also benefits significantly from literally thousands of high quality applications developed by research centers and universities around the world, often available at little to no cost.ÚˆFreeBSD çš„åº”ç”¨èŒƒå›´å‡ ä¹åªå—ä½ çš„æƒ³è±¡åŠ›é™åˆ¶ã€‚ä»è½¯ä»¶å¼€å‘åˆ°å·¥å‚è‡ªåŠ¨åŒ–ï¼Œä»åº“å­˜æ§åˆ¶åˆ°è¿œç¨‹å«æ˜Ÿå¤©çº¿çš„æ–¹ä½æ ¡æ­£ï¼›å¦‚æœå¯ä»¥ç”¨å•†ä¸š UNIX(R) äº§å“å®Œæˆï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½ä½ ä¹Ÿå¯ä»¥ç”¨ FreeBSD æ¥å®ç°ï¼ FreeBSD è¿˜å—ç›Šäºå…¨çƒç ”ç©¶ä¸­å¿ƒå’Œå¤§å­¦å¼€å‘çš„æˆåƒä¸Šä¸‡ä¸ªé«˜è´¨é‡åº”ç”¨ç¨‹åºï¼Œé€šå¸¸å¯ä»¥ä»¥å¾ˆä½çš„æˆ–è€…é›¶æˆæœ¬è·å¾—ã€‚ÚfBecause the source code for FreeBSD itself is freely available, the system can also be customized to an almost unheard-of degree for special applications or projects, and in ways not generally possible with operating systems from most major commercial vendors.  Here is just a sampling of some of the applications in which people are currently using FreeBSD:Ú/ç”±äº FreeBSD æœ¬èº«çš„æºä»£ç æ˜¯å…è´¹æä¾›çš„ï¼Œå› æ­¤è¯¥ç³»ç»Ÿå¯ä»¥æ ¹æ®ç‰¹å®šåº”ç”¨æˆ–é¡¹ç›®çš„éœ€æ±‚è¿›è¡Œå‡ ä¹æ— ä¸ä¼¦æ¯”çš„å®šåˆ¶ï¼Œè€Œè¿™åœ¨å¤§å¤šæ•°ä¸»è¦å•†ä¸šä¾›åº”å•†çš„æ“ä½œç³»ç»Ÿä¸­é€šå¸¸æ˜¯ä¸å¯èƒ½çš„ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äººä»¬ç›®å‰æ­£åœ¨ä½¿ç”¨ FreeBSD çš„åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ï¼šÙ‹_Internet Services:_ The robust TCP/IP networking built into FreeBSD makes it an ideal platform for a variety of Internet services such as:Ùx_äº’è”ç½‘æœåŠ¡_ï¼šFreeBSD å†…ç½®çš„å¼ºå¤§çš„ TCP/IP ç½‘ç»œä½¿å…¶æˆä¸ºå„ç§äº’è”ç½‘æœåŠ¡çš„ç†æƒ³å¹³å°ï¼Œä¾‹å¦‚ï¼š«Web servers­Web æœåŠ¡å™¨µIPv4 and IPv6 routing´IPv4 å’Œ IPv6 è·¯ç”±Ù.Firewalls and NAT ("IP masquerading") gatewaysÙ(é˜²ç«å¢™å’Œ NAT ï¼ˆ"IP ä¼ªè£…"ï¼‰ç½‘å…³«FTP servers­FTP æœåŠ¡å™¨­Email serversµç”µå­é‚®ä»¶æœåŠ¡å™¨¯Storage servers¯å­˜å‚¨æœåŠ¡å™¨¶Virtualization servers²è™šæ‹ŸåŒ–æœåŠ¡å™¨«And more...°è¿˜æœ‰æ›´å¤š ...Ú«_Education:_ Are you a student of computer science or a related engineering field? There is no better way of learning about operating systems, computer architecture and networking than the hands-on, under-the-hood experience that FreeBSD can provide. A number of freely available CAD, mathematical and graphic design packages also make it highly useful to those whose primary interest in a computer is to get _other_ work done!Ú[_æ•™è‚²ï¼š_ ä½ æ˜¯è®¡ç®—æœºç§‘å­¦æˆ–ç›¸å…³å·¥ç¨‹é¢†åŸŸçš„å­¦ç”Ÿå—ï¼Ÿæ²¡æœ‰æ¯” FreeBSD æä¾›çš„äº²èº«å®è·µã€æ·±å…¥äº†è§£æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºæ¶æ„å’Œç½‘ç»œæ›´å¥½çš„å­¦ä¹ æ–¹å¼äº†ã€‚è¿˜æœ‰ä¸€äº›å…è´¹çš„ CAD ã€æ•°å­¦å’Œå›¾å½¢è®¾è®¡è½¯ä»¶åŒ…ï¼Œå¯¹äºé‚£äº›ä¸»è¦å…³æ³¨è®¡ç®—æœºç”¨äºå®Œæˆå…¶ä»–å·¥ä½œçš„äººæ¥è¯´ï¼Œå®ƒä»¬ä¹Ÿéå¸¸æœ‰ç”¨ï¼Ú›_Research:_ With source code for the entire system available, FreeBSD is an excellent platform for research in operating systems as well as other branches of computer science. FreeBSD's freely available nature also makes it possible for remote groups to collaborate on ideas or shared development without having to worry about special licensing agreements or limitations on what may be discussed in open forums.Ú,_ç ”ç©¶ï¼š_ ç”±äºæ•´ä¸ªç³»ç»Ÿçš„æºä»£ç å¯ç”¨ï¼Œ FreeBSD æ˜¯æ“ä½œç³»ç»Ÿä»¥åŠè®¡ç®—æœºç§‘å­¦å…¶ä»–é¢†åŸŸç ”ç©¶çš„ä¼˜ç§€å¹³å°ã€‚ FreeBSD çš„è‡ªç”±å¯ç”¨æ€§ä¹Ÿä½¿å¾—è¿œç¨‹å›¢é˜Ÿèƒ½å¤Ÿåœ¨æƒ³æ³•æˆ–å…±äº«å¼€å‘ä¸Šè¿›è¡Œåˆä½œï¼Œè€Œæ— éœ€æ‹…å¿ƒç‰¹æ®Šè®¸å¯åè®®æˆ–åœ¨å…¬å¼€è®ºå›ä¸Šè®¨è®ºçš„é™åˆ¶ã€‚Ùô_Networking:_ Need a new router? A name server (DNS)? A firewall to keep people out of your internal network? FreeBSD can easily turn that unused PC sitting in the corner into an advanced router with sophisticated packet-filtering capabilities.Ú_ç½‘ç»œï¼š_ éœ€è¦ä¸€ä¸ªæ–°çš„è·¯ç”±å™¨å—ï¼Ÿä¸€ä¸ªåŸŸåæœåŠ¡å™¨ï¼ˆ DNS ï¼‰ï¼Ÿä¸€ä¸ªé˜²ç«å¢™æ¥é˜»æ­¢äººä»¬è¿›å…¥æ‚¨çš„å†…éƒ¨ç½‘ç»œï¼Ÿ FreeBSD å¯ä»¥è½»æ¾åœ°å°†é—²ç½®åœ¨è§’è½çš„ä¸ªäººç”µè„‘è½¬å˜ä¸ºå…·æœ‰å¤æ‚æ•°æ®åŒ…è¿‡æ»¤åŠŸèƒ½çš„é«˜çº§è·¯ç”±å™¨ã€‚Úo_Embedded:_ FreeBSD makes an excellent platform to build embedded systems upon. With support for the ARM, AArch64 and PowerPC platforms, coupled with a robust network stack, cutting edge features, and the permissive extref:{faq}[BSD license, bsd-license-restrictions], FreeBSD makes an excellent foundation for building embedded routers, firewalls, and other devices.Ú6_åµŒå…¥å¼ï¼š_ FreeBSD æ˜¯æ„å»ºåµŒå…¥å¼ç³»ç»Ÿçš„ä¼˜ç§€å¹³å°ã€‚å®ƒæ”¯æŒ ARM ã€ AArch64 å’Œ PowerPC å¹³å°ï¼Œé…å¤‡å¼ºå¤§çš„ç½‘ç»œå †æ ˆã€å°–ç«¯åŠŸèƒ½å’Œå®½æ¾çš„ extref:{faq}[BSD è®¸å¯è¯, bsd-license-restrictions]ï¼Œä½¿ FreeBSD æˆä¸ºæ„å»ºåµŒå…¥å¼è·¯ç”±å™¨ã€é˜²ç«å¢™å’Œå…¶ä»–è®¾å¤‡çš„ç†æƒ³åŸºç¡€ã€‚Ú_Desktop:_ FreeBSD makes a fine choice for an inexpensive desktop solution using the freely available X11 server and Wayland display server. FreeBSD offers a choice from many open-source desktop environments, including the standard GNOME and KDE graphical user interfaces. FreeBSD can even boot "diskless" from a central server, making individual workstations even cheaper and easier to administer.ÚZ_æ¡Œé¢ï¼š_ FreeBSD æ˜¯ä¸€ä¸ªä½¿ç”¨å…è´¹çš„ X11 æœåŠ¡å™¨å’Œ Wayland æ˜¾ç¤ºæœåŠ¡å™¨çš„å»‰ä»·æ¡Œé¢è§£å†³æ–¹æ¡ˆçš„ä¸é”™é€‰æ‹©ã€‚ FreeBSD æä¾›äº†è®¸å¤šå¼€æºæ¡Œé¢ç¯å¢ƒçš„é€‰æ‹©ï¼ŒåŒ…æ‹¬æ ‡å‡†çš„ GNOME å’Œ KDE å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚ FreeBSD ç”šè‡³å¯ä»¥ä»ä¸­å¤®æœåŠ¡å™¨â€œæ— ç›˜å¯åŠ¨â€ï¼Œä½¿å¾—ä¸ªäººå·¥ä½œç«™æ›´åŠ ä¾¿å®œå’Œæ˜“äºç®¡ç†ã€‚Ùğ_Software Development:_ The basic FreeBSD system comes with a full suite of development tools including a full C/C++ compiler and debugger suite. Support for many other languages are also available through the ports and packages collection.ÙĞ_è½¯ä»¶å¼€å‘ï¼š_ åŸºæœ¬çš„ FreeBSD ç³»ç»Ÿé…å¤‡äº†ä¸€å¥—å®Œæ•´çš„å¼€å‘å·¥å…·ï¼ŒåŒ…æ‹¬å®Œæ•´çš„ C/C ++ç¼–è¯‘å™¨å’Œè°ƒè¯•å™¨å¥—ä»¶ã€‚é€šè¿‡ç«¯å£å’Œè½¯ä»¶åŒ…é›†åˆï¼Œè¿˜å¯ä»¥æ”¯æŒè®¸å¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€ã€‚ÙÃFreeBSD is available to download free of charge, or can be obtained on either CD-ROM or DVD.  Please see crossref:mirrors[mirrors, Obtaining FreeBSD] for more information about obtaining FreeBSD.Ù§FreeBSD å¯ä»¥å…è´¹ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ CD-ROM æˆ– DVD è·å–ã€‚æœ‰å…³è·å– FreeBSD çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:mirrors[mirrors , Obtaining FreeBSD] ã€‚±Who Uses FreeBSD?µè°ä½¿ç”¨ FreeBSD ï¼ŸÚ}FreeBSD has been known for its web serving capabilities.  A list of link:https://freebsdfoundation.org/about-us/testimonials/[testimonials from companies basing their products and services on FreeBSD] can be found at the FreeBSD Foundation website.  Wikipedia also maintains a link:https://en.wikipedia.org/wiki/List_of_products_based_on_FreeBSD[list of products based on FreeBSD].ÚiFreeBSD ä»¥å…¶ Web æœåŠ¡å™¨åŠŸèƒ½è€Œé—»åã€‚å¯ä»¥åœ¨ FreeBSD åŸºé‡‘ä¼šçš„ç½‘ç«™ä¸Šæ‰¾åˆ°ä¸€ä»½ link:https://freebsdfoundation.org/about-us/testimonials/[åŸºäº FreeBSD çš„äº§å“å’ŒæœåŠ¡çš„å…¬å¸çš„ testimonials åˆ—è¡¨] ã€‚ç»´åŸºç™¾ç§‘è¿˜ç»´æŠ¤ç€ä¸€ä¸ª link:https://en.wikipedia.org/wiki/List_of_products_based_on_FreeBSD[åŸºäº FreeBSD çš„äº§å“åˆ—è¡¨] ã€‚¹About the FreeBSD Projectµå…³äº FreeBSD é¡¹ç›®Ù²The following section provides some background information on the project, including a brief history, project goals, and the extref:{dev-model}[development model] of the project.ÙŸä¸‹é¢çš„éƒ¨åˆ†æä¾›äº†å…³äºé¡¹ç›®çš„ä¸€äº›èƒŒæ™¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç®€è¦å†å²ã€é¡¹ç›®ç›®æ ‡ä»¥åŠé¡¹ç›® extref:{dev-model}[å¼€å‘æ¨¡å‹,development model]ã€‚ºA Brief History of FreeBSD·FreeBSD çš„ç®€è¦å†å²ÙÀThe FreeBSD Project had its genesis in the early part of 1993, partially as the brainchild of the Unofficial 386BSDPatchkit's last 3 coordinators: Nate Williams, Rod Grimes and Jordan Hubbard.Ù¬FreeBSD é¡¹ç›®è¯ç”Ÿäº 1993 å¹´åˆï¼Œéƒ¨åˆ†æ˜¯ç”±éå®˜æ–¹çš„ 386BSDPatchkit çš„æœ€åä¸‰ä½åè°ƒå‘˜ Nate Williams ã€ Rod Grimes å’Œ Jordan Hubbard å…±åŒæ„æ€è€Œæˆã€‚Ú
The original goal was to produce an intermediate snapshot of 386BSD in order to fix a number of problems that the patchkit mechanism was just not capable of solving.  The early working title for the project was 386BSD 0.5 or 386BSD Interim in reference to that fact.ÙÀæœ€åˆçš„ç›®æ ‡æ˜¯ç”Ÿæˆ 386BSD çš„ä¸­é—´å¿«ç…§ï¼Œä»¥è§£å†³ä¸€äº›æ— æ³•é€šè¿‡è¡¥ä¸æœºåˆ¶è§£å†³çš„é—®é¢˜ã€‚è¯¥é¡¹ç›®çš„æ—©æœŸå·¥ä½œæ ‡é¢˜æ˜¯ 386BSD 0.5 æˆ– 386BSD Interim ï¼Œä»¥æ­¤ä¸ºå‚è€ƒã€‚ÚÆ386BSD was Bill Jolitz's operating system, which had been up to that point suffering rather severely from almost a year's worth of neglect.  As the patchkit swelled ever more uncomfortably with each passing day, they decided to assist Bill by providing this interim "cleanup" snapshot.  Those plans came to a rude halt when Bill Jolitz suddenly decided to withdraw his sanction from the project without any clear indication of what would be done instead.Ú386BSD æ˜¯ Bill Jolitz çš„æ“ä½œç³»ç»Ÿï¼Œåˆ°é‚£æ—¶ä¸ºæ­¢ï¼Œå®ƒå·²ç»é­å—äº†å°†è¿‘ä¸€å¹´çš„ä¸¥é‡å¿½è§†ã€‚éšç€æ¯ä¸€å¤©è¿‡å»ï¼Œè¡¥ä¸åŒ…å˜å¾—è¶Šæ¥è¶Šä¸èˆ’æœï¼Œä»–ä»¬å†³å®šé€šè¿‡æä¾›è¿™ä¸ªä¸´æ—¶çš„â€œæ¸…ç†â€å¿«ç…§æ¥å¸®åŠ© Bill ã€‚ç„¶è€Œï¼Œå½“ Bill Jolitz çªç„¶å†³å®šæ’¤å›å¯¹è¯¥é¡¹ç›®çš„æ”¯æŒï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è¡¨ç¤ºå°†é‡‡å–ä»€ä¹ˆæ›¿ä»£æªæ–½æ—¶ï¼Œè¿™äº›è®¡åˆ’è¢«ç²—æš´åœ°ä¸­æ­¢äº†ã€‚ÚlThe trio thought that the goal remained worthwhile, even without Bill's support, and so they adopted the name "FreeBSD" coined by David Greenman.  The initial objectives were set after consulting with the system's current users and, once it became clear that the project was on the road to perhaps even becoming a reality, Jordan contacted Walnut Creek CDROM with an eye toward improving FreeBSD's distribution channels for those many unfortunates without easy access to the Internet.  Walnut Creek CDROM not only supported the idea of distributing FreeBSD on CD but also went so far as to provide the project with a machine to work on and a fast Internet connection.  Without Walnut Creek CDROM's almost unprecedented degree of faith in what was, at the time, a completely unknown project, it is quite unlikely that FreeBSD would have gotten as far, as fast, as it has today.Ú¸å³ä½¿æ²¡æœ‰ Bill çš„æ”¯æŒï¼Œä¸‰äººç»„ä»ç„¶è®¤ä¸ºç›®æ ‡ä»ç„¶å€¼å¾—è¿½æ±‚ï¼Œå› æ­¤ä»–ä»¬é‡‡ç”¨äº† David Greenman æå‡ºçš„â€œ FreeBSD â€è¿™ä¸ªåå­—ã€‚åœ¨ä¸ç³»ç»Ÿå½“å‰ç”¨æˆ·å’¨è¯¢åï¼Œç¡®å®šäº†æœ€åˆçš„ç›®æ ‡ã€‚ä¸€æ—¦æ¸…æ¥šè¯¥é¡¹ç›®å¯èƒ½æˆä¸ºç°å®ï¼Œ Jordan ä¾¿è”ç³»äº† Walnut Creek CDROM ï¼Œä»¥æ”¹å–„ FreeBSD çš„å‘è¡Œæ¸ é“ï¼Œä»¥ä¾¿é‚£äº›æ²¡æœ‰ä¾¿æ·è®¿é—®äº’è”ç½‘çš„äººã€‚ Walnut Creek CDROM ä¸ä»…æ”¯æŒåœ¨å…‰ç›˜ä¸Šåˆ†å‘ FreeBSD ï¼Œè¿˜æä¾›äº†ä¸€å°ç”¨äºå¼€å‘å·¥ä½œçš„æœºå™¨å’Œå¿«é€Ÿçš„äº’è”ç½‘è¿æ¥ã€‚å¦‚æœæ²¡æœ‰ Walnut Creek CDROM å¯¹å½“æ—¶ä¸€ä¸ªå®Œå…¨æœªçŸ¥çš„é¡¹ç›®çš„å‡ ä¹å‰æ‰€æœªæœ‰çš„ä¿¡ä»»ï¼Œ FreeBSD å¾ˆå¯èƒ½ä¸ä¼šåƒä»Šå¤©è¿™æ ·è¿…é€Ÿå–å¾—å¦‚æ­¤å¤§çš„è¿›å±•ã€‚Ú†The first CD-ROM (and general net-wide) distribution was FreeBSD 1.0, released in December of 1993.  This was based on the 4.3BSD-Lite ("Net/2") tape from U.C. Berkeley, with many components also provided by 386BSD and the Free Software Foundation.  It was a fairly reasonable success for a first offering, and they followed it with the highly successful FreeBSD 1.1 release in May of 1994.Ú‡ç¬¬ä¸€å¼  CD-ROM ï¼ˆä»¥åŠæ•´ä¸ªç½‘ç»œèŒƒå›´å†…çš„ï¼‰å‘è¡Œç‰ˆæ˜¯ FreeBSD 1.0 ï¼Œäº 1993 å¹´ 12 æœˆå‘å¸ƒã€‚å®ƒåŸºäºæ¥è‡ªåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡çš„ 4.3BSD-Lite ï¼ˆâ€œNet/2â€ï¼‰ç£å¸¦ï¼ŒåŒæ—¶è¿˜å€Ÿé‰´äº† 386BSD å’Œè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šæä¾›çš„è®¸å¤šç»„ä»¶ã€‚ä½œä¸ºé¦–æ¬¡å‘å¸ƒï¼Œå®ƒå–å¾—äº†ç›¸å½“ä¸é”™çš„æˆåŠŸï¼Œå¹¶åœ¨ 1994 å¹´ 5 æœˆå‘å¸ƒäº†å¤‡å—å¥½è¯„çš„ FreeBSD 1.1 ç‰ˆæœ¬ã€‚ÚyAround this time, some rather unexpected storm clouds formed on the horizon as Novell and U.C. Berkeley settled their long-running lawsuit over the legal status of the Berkeley Net/2 tape.  A condition of that settlement was U.C. Berkeley's concession that three files of Net/2 were "encumbered" code and had to be removed as they were the property of Novell, who had in turn acquired it from AT&T some time previously.  What Berkeley got in return was Novell's "blessing" that the 4.4BSD-Lite release, when it was finally released, would be declared unencumbered and all existing Net/2 users would be strongly encouraged to switch.  This included FreeBSD, and the project was given until the end of July 1994 to stop shipping its own Net/2 based product.  Under the terms of that agreement, the project was allowed one last release before the deadline, that release being FreeBSD 1.1.5.1.Úåœ¨è¿™ä¸ªæ—¶å€™ï¼ŒNovell å’ŒåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ï¼ˆ U.C. Berkeley ï¼‰å°±æœ‰å…³ä¼¯å…‹åˆ© Net/2 ç£å¸¦çš„æ³•å¾‹åœ°ä½çš„é•¿æœŸè¯‰è®¼è¾¾æˆäº†æ„å¤–çš„å’Œè§£ã€‚å’Œè§£çš„æ¡ä»¶æ˜¯ U.C. Berkeley æ‰¿è®¤ Net/2 çš„ä¸‰ä¸ªæ–‡ä»¶æ˜¯â€œå—é™åˆ¶â€çš„ä»£ç ï¼Œå¿…é¡»äºˆä»¥åˆ é™¤ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¯ºç»´å°”çš„è´¢äº§ï¼Œè€Œ Novell åˆ™æ˜¯ä¹‹å‰ä» AT&T æ”¶è´­çš„ã€‚ä½œä¸ºå›æŠ¥ï¼Œä¼¯å…‹åˆ©è·å¾—äº† Novell çš„â€œç¥ç¦â€ï¼Œå³å½“ 4.4BSD-Lite ç‰ˆæœ¬æœ€ç»ˆå‘å¸ƒæ—¶ï¼Œå°†è¢«å®£å¸ƒä¸ºæ— é™åˆ¶çš„ï¼Œå¹¶å¼ºçƒˆé¼“åŠ±æ‰€æœ‰ç°æœ‰çš„ Net/2 ç”¨æˆ·åˆ‡æ¢è¿‡æ¥ã€‚è¿™åŒ…æ‹¬ FreeBSD ï¼Œè¯¥é¡¹ç›®è¢«ç»™äºˆæˆªæ­¢åˆ° 1994 å¹´ 7 æœˆåº•åœæ­¢å‘å¸ƒåŸºäº Net/2 çš„äº§å“çš„æ—¶é—´ã€‚æ ¹æ®åè®®çš„æ¡æ¬¾ï¼Œè¯¥é¡¹ç›®åœ¨æœ€åæœŸé™ä¹‹å‰è¢«å…è®¸å‘å¸ƒæœ€åä¸€ä¸ªç‰ˆæœ¬ï¼Œå³ FreeBSD 1.1.5.1 ã€‚ÚÆFreeBSD then set about the arduous task of literally re-inventing itself from a completely new and rather incomplete set of 4.4BSD-Lite bits.  Although only three files having to do with System V shared memory and semaphores were removed, many other changes and bug fixes had been made to the BSD distribution, so it was a huge task to merge all the FreeBSD developments into 4.4BSD-Lite.  It took the project until November of 1994 to make this transition, and in December it released FreeBSD 2.0 to the world.  Despite being still more than a little rough around the edges, the release was a significant success and was followed by the more robust and easier to install FreeBSD 2.0.5 release in June of 1995.Ú’FreeBSD éšåå¼€å§‹äº†ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼Œä»ä¸€ä¸ªå…¨æ–°ä¸”ç›¸å½“ä¸å®Œæ•´çš„ 4.4BSD-Lite ä»£ç åº“ä¸­é‡æ–°å¡‘é€ è‡ªå·±ã€‚è™½ç„¶åªæœ‰ä¸ System V å…±äº«å†…å­˜å’Œä¿¡å·é‡ç›¸å…³çš„ä¸‰ä¸ªæ–‡ä»¶è¢«åˆ é™¤ï¼Œä½†åœ¨ BSD å‘è¡Œç‰ˆä¸­è¿›è¡Œäº†è®¸å¤šå…¶ä»–çš„æ›´æ”¹å’Œé”™è¯¯ä¿®å¤ï¼Œå› æ­¤å°†æ‰€æœ‰ FreeBSD çš„å¼€å‘å·¥ä½œåˆå¹¶åˆ° 4.4BSD-Lite ä¸­æ˜¯ä¸€é¡¹å·¨å¤§çš„ä»»åŠ¡ã€‚è¯¥é¡¹ç›®ç›´åˆ° 1994 å¹´ 11 æœˆæ‰å®Œæˆäº†è¿™ä¸€è¿‡æ¸¡ï¼Œå¹¶åœ¨ 12 æœˆå‘ä¸–ç•Œå‘å¸ƒäº† FreeBSD 2.0 ç‰ˆæœ¬ã€‚å°½ç®¡åœ¨æŸç§ç¨‹åº¦ä¸Šä»ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½†è¿™ä¸ªç‰ˆæœ¬å–å¾—äº†é‡å¤§çš„æˆåŠŸï¼Œå¹¶åœ¨ 1995 å¹´ 6 æœˆå‘å¸ƒäº†æ›´ç¨³å®šã€æ›´æ˜“å®‰è£…çš„ FreeBSD 2.0.5 ç‰ˆæœ¬ã€‚Ù‰Since that time, FreeBSD has made a series of releases each time improving the stability, speed, and feature set of the previous version.Ù€ä»é‚£æ—¶èµ·ï¼ŒFreeBSD å‘å¸ƒäº†ä¸€ç³»åˆ—ç‰ˆæœ¬ï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨å‰ä¸€ç‰ˆæœ¬çš„ç¨³å®šæ€§ã€é€Ÿåº¦å’ŒåŠŸèƒ½é›†ä¸Šè¿›è¡Œæ”¹è¿›ã€‚ÚFor now, long-term development projects continue to take place in the {rel-head}-CURRENT (main) branch, and snapshot releases of {rel-head} are continually made available from link:https://download.freebsd.org/snapshots/[the snapshot server] as work progresses.ÙÙç›®å‰ï¼Œé•¿æœŸå‘å±•é¡¹ç›®ä»åœ¨{rel-head}-CURRENT (main) åˆ†æ”¯ä¸­è¿›è¡Œï¼Œå¹¶ä¸”éšç€å·¥ä½œçš„è¿›è¡Œï¼Œ{rel-head} çš„å¿«ç…§ç‰ˆæœ¬å°†æŒç»­ä» link:https://download.freebsd.org/snapshots/[å¿«ç…§æœåŠ¡å™¨] å‘å¸ƒã€‚µFreeBSD Project Goals·FreeBSD é¡¹ç›®çš„ç›®æ ‡Ú{The goals of the FreeBSD Project are to provide software that may be used for any purpose and without strings attached.  Many of us have a significant investment in the code (and project) and would certainly not mind a little financial compensation now and then, but we are definitely not prepared to insist on it.  We believe that our first and foremost "mission" is to provide code to any and all comers, and for whatever purpose, so that the code gets the widest possible use and provides the widest possible benefit.  This is, we believe, one of the most fundamental goals of Free Software and one that we enthusiastically support.ÚâFreeBSD é¡¹ç›®çš„ç›®æ ‡æ˜¯æä¾›å¯ç”¨äºä»»ä½•ç›®çš„ä¸”æ— é™„åŠ æ¡ä»¶çš„è½¯ä»¶ã€‚æˆ‘ä»¬ä¸­çš„è®¸å¤šäººåœ¨ä»£ç ï¼ˆå’Œé¡¹ç›®ï¼‰ä¸ŠæŠ•å…¥äº†å¤§é‡èµ„æºï¼Œå¶å°”è·å¾—ä¸€äº›è´¢åŠ¡è¡¥å¿å¹¶ä¸ä»‹æ„ï¼Œä½†æˆ‘ä»¬ç»å¯¹ä¸ä¼šåšæŒè¦æ±‚ã€‚æˆ‘ä»¬ç›¸ä¿¡æˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡æ˜¯å‘ä»»ä½•äººæä¾›ä»£ç ï¼Œæ— è®ºå‡ºäºä½•ç§ç›®çš„ï¼Œä»¥ä¾¿ä»£ç å¾—åˆ°æœ€å¹¿æ³›çš„ä½¿ç”¨å¹¶æä¾›æœ€å¹¿æ³›çš„åˆ©ç›Šã€‚æˆ‘ä»¬è®¤ä¸ºè¿™æ˜¯è‡ªç”±è½¯ä»¶çš„æœ€åŸºæœ¬ç›®æ ‡ä¹‹ä¸€ï¼Œæˆ‘ä»¬å¯¹æ­¤è¡¨ç¤ºçƒ­æƒ…æ”¯æŒã€‚ÚÆThat code in our source tree which falls under the GNU General Public License (GPL) or Library General Public License (LGPL) comes with slightly more strings attached, though at least on the side of enforced access rather than the usual opposite.  Due to the additional complexities that can evolve in the commercial use of GPL software we do, however, prefer software submitted under the more relaxed BSD license when it is a reasonable option to do so.Úvæˆ‘ä»¬æºä»£ç æ ‘ä¸­å— GNU é€šç”¨å…¬å…±è®¸å¯è¯ï¼ˆ GPL ï¼‰æˆ–åº“é€šç”¨å…¬å…±è®¸å¯è¯ï¼ˆ LGPL ï¼‰çº¦æŸçš„ä»£ç ï¼Œé™„å¸¦äº†ç¨å¾®æ›´å¤šçš„é™åˆ¶ï¼Œå°½ç®¡è‡³å°‘æ˜¯åœ¨å¼ºåˆ¶è®¿é—®æ–¹é¢ï¼Œè€Œä¸æ˜¯é€šå¸¸çš„ç›¸åæƒ…å†µã€‚ç”±äºå•†ä¸šä½¿ç”¨ GPL è½¯ä»¶å¯èƒ½å‡ºç°çš„é¢å¤–å¤æ‚æ€§ï¼Œæˆ‘ä»¬æ›´å–œæ¬¢åœ¨åˆç†çš„æƒ…å†µä¸‹é€‰æ‹©ä»¥æ›´å®½æ¾çš„ BSD è®¸å¯è¯æäº¤çš„è½¯ä»¶ã€‚½The FreeBSD Development Model´FreeBSD å¼€å‘æ¨¡å‹ÚThe development of FreeBSD is a extref:{dev-model}[very open and flexible process], being literally built from the contributions of thousands of people around the world, as can be seen from our extref:{contributors}[list of contributors].  FreeBSD's development infrastructure allows these thousands of contributors to collaborate over the Internet.  We are constantly on the lookout for new volunteers, and those interested in becoming more closely involved should consult the article on extref:{contributing}[Contributing to FreeBSD].ÚFreeBSD çš„å¼€å‘æ˜¯ä¸€ä¸ªextref:{dev-model}[éå¸¸å¼€æ”¾å’Œçµæ´»çš„è¿‡ç¨‹,very open and flexible process]ï¼Œä»ä¸–ç•Œå„åœ°æˆåƒä¸Šä¸‡çš„äººçš„è´¡çŒ®ä¸­æ„å»ºè€Œæˆï¼Œè¿™ä¸€ç‚¹å¯ä»¥ä»æˆ‘ä»¬çš„ extref:{contributors}[è´¡çŒ®è€…åˆ—è¡¨,list of contributors] ä¸­çœ‹å‡ºæ¥ã€‚ FreeBSD çš„å¼€å‘åŸºç¡€è®¾æ–½å…è®¸è¿™äº›æˆåƒä¸Šä¸‡çš„è´¡çŒ®è€…åœ¨äº’è”ç½‘ä¸Šè¿›è¡Œåˆä½œã€‚æˆ‘ä»¬ä¸€ç›´åœ¨å¯»æ‰¾æ–°çš„å¿—æ„¿è€…ï¼Œæœ‰å…´è¶£æ›´æ·±å…¥å‚ä¸çš„äººåº”è¯¥å‚è€ƒæœ‰å…³ extref:{contributing}[è´¡çŒ® FreeBSD,Contributing to FreeBSD]  çš„æ–‡ç« ã€‚ÙƒUseful things to know about the FreeBSD Project and its development process, whether working independently or in close cooperation:Ùræ— è®ºæ˜¯ç‹¬ç«‹å·¥ä½œè¿˜æ˜¯å¯†åˆ‡åˆä½œï¼Œä»¥ä¸‹æ˜¯å…³äº FreeBSD é¡¹ç›®åŠå…¶å¼€å‘è¿‡ç¨‹çš„ä¸€äº›æœ‰ç”¨ä¿¡æ¯ï¼šÙ2The Git repositories[[development-cvs-repository]]Ù)Git ä»“åº“ [[development-cvs-repository]]Ú±For several years, the central source tree for FreeBSD was maintained by link:https://www.nongnu.org/cvs/[CVS] (Concurrent Versions System), a freely available source code control tool.  In June 2008, the Project switched to using link:https://subversion.apache.org/[SVN] (Subversion).  The switch was deemed necessary, as the technical limitations imposed by CVS were becoming obvious due to the rapid expansion of the source tree and the amount of history already stored.  The Documentation Project and Ports Collection repositories also moved from CVS to SVN in May 2012 and July 2012, respectively.  In December 2020, the Project link:https://www.freebsd.org/status/report-2020-10-2020-12.html#Git-Migration-Working-Group[migrated Source and Documentation repositories] to link:https://git-scm.com/[Git], with link:https://www.freebsd.org/status/report-2021-04-2021-06/#_git_migration_working_group[Ports following suit] in April 2021.  Please refer to the crossref:cutting-edge[synching, Obtaining the Source] section for more information on obtaining the FreeBSD `src/` repository and crossref:ports[ports-using, Using the Ports Collection] for details on obtaining the FreeBSD Ports Collection.Ú¡å¤šå¹´æ¥ï¼Œ FreeBSD çš„ä¸­å¤®æºä»£ç æ ‘ç”±å…è´¹å¯ç”¨çš„æºä»£ç æ§åˆ¶å·¥å…· link:https://www.nongnu.org/cvs/[CVS] ï¼ˆ Concurrent Versions System ï¼‰ç»´æŠ¤ã€‚ 2008 å¹´ 6 æœˆï¼Œè¯¥é¡¹ç›®è½¬è€Œä½¿ç”¨ link:https://subversion.apache.org/[SVN] ï¼ˆ Subversion ï¼‰ã€‚ç”±äºæºä»£ç æ ‘çš„è¿…é€Ÿæ‰©å±•å’Œå·²å­˜å‚¨çš„å†å²è®°å½•é‡ï¼Œ CVS æ‰€æ–½åŠ çš„æŠ€æœ¯é™åˆ¶å˜å¾—æ˜æ˜¾ï¼Œå› æ­¤è¿™æ¬¡è½¬æ¢è¢«è®¤ä¸ºæ˜¯å¿…è¦çš„ã€‚æ–‡æ¡£é¡¹ç›®å’Œ Ports é›†åˆå­˜å‚¨åº“ä¹Ÿåˆ†åˆ«äº 2012 å¹´ 5 æœˆå’Œ 2012 å¹´ 7 æœˆä» CVS è¿ç§»åˆ°äº† SVN ã€‚ 2020 å¹´ 12 æœˆï¼Œè¯¥é¡¹ç›®å°†æºä»£ç å’Œæ–‡æ¡£å­˜å‚¨åº“è¿ç§»åˆ°äº† link:https://git-scm.com/[Git] ï¼Œè€Œ Ports é›†åˆåˆ™åœ¨ 2021 å¹´ 4 æœˆè·Ÿéšã€‚æœ‰å…³è·å– FreeBSD `src/` å­˜å‚¨åº“çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:cutting-edge[synching , Obtaining the Source] éƒ¨åˆ†ï¼Œæœ‰å…³è·å– FreeBSD  Ports é›†åˆçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:ports[ports-using , Using the Ports Collection] ã€‚Ù-The committers list[[development-committers]]Ù*è´¡çŒ®è€…åˆ—è¡¨ [[development-committers]]ÚğThe _committers_ are the people who have _push_ access to the Git repository, and are authorized to make modifications to the FreeBSD source (the term "committer" comes from `commit`, the source control command which is used to bring new changes into the repository).  Anyone can submit a bug to the link:https://bugs.FreeBSD.org/submit/[Bug Database].  Before submitting a bug report, the FreeBSD mailing lists, IRC channels, or forums can be used to help verify that an issue is actually a bug.ÚÕ_committers_ æ˜¯é‚£äº›å…·æœ‰å¯¹ Git ä»“åº“çš„ _push_ è®¿é—®æƒé™çš„äººï¼Œä»–ä»¬è¢«æˆæƒå¯¹ FreeBSD æºä»£ç è¿›è¡Œä¿®æ”¹ï¼ˆæœ¯è¯­â€œcommitterâ€æ¥è‡ªäº `commit` ï¼Œè¿™æ˜¯ç”¨äºå°†æ–°æ›´æ”¹å¼•å…¥ä»“åº“çš„æºä»£ç æ§åˆ¶å‘½ä»¤ï¼‰ã€‚ä»»ä½•äººéƒ½å¯ä»¥æäº¤ä¸€ä¸ª bug åˆ° link:https://bugs.FreeBSD.org/submit/[Bug Database] ã€‚åœ¨æäº¤ bug æŠ¥å‘Šä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨ FreeBSD é‚®ä»¶åˆ—è¡¨ã€ IRC é¢‘é“æˆ–è®ºå›æ¥å¸®åŠ©éªŒè¯ä¸€ä¸ªé—®é¢˜æ˜¯å¦çœŸçš„æ˜¯ä¸€ä¸ª bug ã€‚Ù)The FreeBSD core team[[development-core]]Ù)FreeBSD æ ¸å¿ƒå›¢é˜Ÿ [[development-core]]Ú#The _FreeBSD core team_ would be equivalent to the board of directors if the FreeBSD Project were a company.  The primary task of the core team is to make sure the project, as a whole, is in good shape and is heading in the right directions.  Inviting dedicated and responsible developers to join our group of committers is one of the functions of the core team, as is the recruitment of new core team members as others move on.  The current core team was elected from a pool of committer candidates in May 2022.  Elections are held every 2 years.ÚÚå¦‚æœ FreeBSD é¡¹ç›®æ˜¯ä¸€å®¶å…¬å¸ï¼Œé‚£ä¹ˆ _FreeBSD æ ¸å¿ƒå›¢é˜Ÿ_ å°†ç›¸å½“äºè‘£äº‹ä¼šã€‚æ ¸å¿ƒå›¢é˜Ÿçš„ä¸»è¦ä»»åŠ¡æ˜¯ç¡®ä¿æ•´ä¸ªé¡¹ç›®å¤„äºè‰¯å¥½çŠ¶æ€å¹¶æœç€æ­£ç¡®çš„æ–¹å‘å‘å±•ã€‚é‚€è¯·ä¸“æ³¨å’Œè´Ÿè´£ä»»çš„å¼€å‘äººå‘˜åŠ å…¥æˆ‘ä»¬çš„æäº¤è€…å›¢é˜Ÿæ˜¯æ ¸å¿ƒå›¢é˜Ÿçš„èŒè´£ä¹‹ä¸€ï¼Œæ‹›å‹Ÿæ–°çš„æ ¸å¿ƒå›¢é˜Ÿæˆå‘˜ä¹Ÿæ˜¯æ ¸å¿ƒå›¢é˜Ÿçš„èŒè´£ä¹‹ä¸€ã€‚å½“å‰çš„æ ¸å¿ƒå›¢é˜Ÿæ˜¯åœ¨ 2022 å¹´ 5 æœˆä»æäº¤è€…å€™é€‰äººä¸­é€‰ä¸¾äº§ç”Ÿçš„ã€‚é€‰ä¸¾æ¯ 2 å¹´ä¸¾è¡Œä¸€æ¬¡ã€‚Ú´Like most developers, most members of the core team are also volunteers when it comes to FreeBSD development and do not benefit from the project financially, so "commitment" should also not be misconstrued as meaning "guaranteed support." The "board of directors" analogy above is not very accurate, and it may be more suitable to say that these are the people who gave up their lives in favor of FreeBSD against their better judgement!Ú†å’Œå¤§å¤šæ•°å¼€å‘è€…ä¸€æ ·ï¼Œ FreeBSD æ ¸å¿ƒå›¢é˜Ÿçš„å¤§å¤šæ•°æˆå‘˜åœ¨ FreeBSD å¼€å‘æ–¹é¢ä¹Ÿæ˜¯å¿—æ„¿è€…ï¼Œå¹¶ä¸”æ²¡æœ‰ä»é¡¹ç›®ä¸­è·å¾—ç»æµåˆ©ç›Šï¼Œæ‰€ä»¥â€œæ‰¿è¯ºâ€ä¹Ÿä¸åº”è¢«è¯¯è§£ä¸ºâ€œæœ‰ä¿è¯çš„æ”¯æŒâ€ã€‚ä¸Šé¢æåˆ°çš„â€œè‘£äº‹ä¼šâ€ç±»æ¯”å¹¶ä¸ååˆ†å‡†ç¡®ï¼Œæ›´é€‚åˆè¯´è¿™äº›äººæ˜¯åœ¨è¿èƒŒè‡ªå·±æ›´å¥½åˆ¤æ–­çš„æƒ…å†µä¸‹é€‰æ‹©äº† FreeBSD è€Œæ”¾å¼ƒäº†è‡ªå·±çš„ç”Ÿæ´»ï¼Ù0The FreeBSD Foundation[[development-foundation]]Ù%FreeBSD åŸºé‡‘ä¼š [[å¼€å‘åŸºé‡‘ä¼š]]ÚªThe link:https://freebsdfoundation.org/[FreeBSD Foundation] is a 501(c)(3), US-based, non-profit organization dedicated to supporting and promoting the FreeBSD Project and community worldwide.  The Foundation funds software development via project grants and provides staff to immediately respond to urgent problems and implement new features and functionality.  The Foundation purchases hardware to improve and maintain FreeBSD infrastructure, and funds staffing to improve test coverage, continuous integration and automation.  The Foundation advocates for FreeBSD by promoting FreeBSD at technical conferences and events around the world.  The Foundation also provides workshops, educational material, and presentations to recruit more users and contributors to FreeBSD.  The Foundation also represents the FreeBSD Project in executing contracts, license agreements, and other legal arrangements that require a recognized legal entity.ÚÔ link:https://freebsdfoundation.org/[FreeBSD åŸºé‡‘ä¼š] æ˜¯ä¸€ä¸ªä½äºç¾å›½çš„ 501(c)(3) éè¥åˆ©ç»„ç»‡ï¼Œè‡´åŠ›äºæ”¯æŒå’Œæ¨å¹¿å…¨çƒçš„ FreeBSD é¡¹ç›®å’Œç¤¾åŒºã€‚åŸºé‡‘ä¼šé€šè¿‡é¡¹ç›®æ‹¨æ¬¾èµ„åŠ©è½¯ä»¶å¼€å‘ï¼Œå¹¶æä¾›å‘˜å·¥ç«‹å³å“åº”ç´§æ€¥é—®é¢˜å¹¶å®æ–½æ–°çš„ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚åŸºé‡‘ä¼šè´­ä¹°ç¡¬ä»¶ä»¥æ”¹å–„å’Œç»´æŠ¤ FreeBSD åŸºç¡€è®¾æ–½ï¼Œå¹¶èµ„åŠ©äººå‘˜æé«˜æµ‹è¯•è¦†ç›–ç‡ã€æŒç»­é›†æˆå’Œè‡ªåŠ¨åŒ–ã€‚åŸºé‡‘ä¼šé€šè¿‡åœ¨ä¸–ç•Œå„åœ°çš„æŠ€æœ¯ä¼šè®®å’Œæ´»åŠ¨ä¸Šæ¨å¹¿ FreeBSD æ¥æ”¯æŒ FreeBSD ã€‚åŸºé‡‘ä¼šè¿˜æä¾›ç ”è®¨ä¼šã€æ•™è‚²ææ–™å’Œæ¼”ç¤ºï¼Œä»¥å¸å¼•æ›´å¤šçš„ FreeBSD ç”¨æˆ·å’Œè´¡çŒ®è€…ã€‚åŸºé‡‘ä¼šè¿˜ä»£è¡¨ FreeBSD é¡¹ç›®æ‰§è¡ŒåˆåŒã€è®¸å¯åè®®å’Œå…¶ä»–éœ€è¦è®¤å¯æ³•å¾‹å®ä½“çš„æ³•å¾‹å®‰æ’ã€‚´Outside contributors¯å¤–éƒ¨è´¡çŒ®è€…Ú'Last, but definitely not least, the largest group of developers are the users themselves who provide feedback and bug fixes to us on an almost constant basis.  The primary way of keeping in touch with the development of the FreeBSD base system is to subscribe to the {freebsd-hackers} where such things are discussed.  For porting third party applications, it would be the {freebsd-ports}.  For documentation - {freebsd-doc}.  See crossref:eresources[eresources, Resources on the Internet] for more information about the various FreeBSD mailing lists.Úææœ€åï¼Œä½†ç»å¯¹ä¸æ˜¯æœ€ä¸é‡è¦çš„ï¼Œæœ€å¤§çš„å¼€å‘è€…ç¾¤ä½“æ˜¯ç”¨æˆ·è‡ªå·±ï¼Œä»–ä»¬å‡ ä¹ä¸€ç›´å‘æˆ‘ä»¬æä¾›åé¦ˆå’Œé”™è¯¯ä¿®å¤ã€‚ä¸ FreeBSD åŸºæœ¬ç³»ç»Ÿçš„å¼€å‘ä¿æŒè”ç³»çš„ä¸»è¦æ–¹å¼æ˜¯è®¢é˜… {freebsd-hackers} ï¼Œåœ¨è¿™é‡Œè®¨è®ºè¿™äº›äº‹æƒ…ã€‚å¯¹äºç§»æ¤ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ {freebsd-ports} ã€‚å¯¹äºæ–‡æ¡£ï¼Œå¯ä»¥ä½¿ç”¨ {freebsd-doc} ã€‚æœ‰å…³å„ç§ FreeBSD é‚®ä»¶åˆ—è¡¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ crossref:eresources[eresources,äº’è”ç½‘èµ„æº]ã€‚ÙÎextref:{contributors}[The FreeBSD Contributors List] is a long and growing one, so why not join it by extref:{contributing}[contributing something back to FreeBSD] today? Providing code is not the only way!Úextref:{contributors}[The FreeBSD è´¡çŒ®è€…åˆ—è¡¨,The FreeBSD Contributors List] æ˜¯ä¸€ä¸ªé•¿æœŸè€Œä¸æ–­å¢é•¿çš„åˆ—è¡¨ï¼Œä¸ºä»€ä¹ˆä¸é€šè¿‡ extref:{contributing}[ä¸º FreeBSD åšå‡ºè´¡çŒ®,contributing something back to FreeBSD] åŠ å…¥å…¶ä¸­å‘¢ï¼Ÿæä¾›ä»£ç å¹¶ä¸æ˜¯å”¯ä¸€çš„æ–¹å¼ï¼ÚìIn summary, our development model is organized as a loose set of concentric circles.  The centralized model is designed for the convenience of the _users_ of FreeBSD, who are provided with an easy way of tracking one central code base, not to keep potential contributors out! Our desire is to present a stable operating system with a large set of coherent crossref:ports[ports,application programs] that the users can easily install and use - this model works very well in accomplishing that.Ú§æ€»ä¹‹ï¼Œæˆ‘ä»¬çš„å¼€å‘æ¨¡å‹æ˜¯ä»¥ä¸€ç»„æ¾æ•£çš„åŒå¿ƒåœ†ç»„ç»‡èµ·æ¥çš„ã€‚ä¸­å¿ƒåŒ–æ¨¡å‹æ˜¯ä¸ºäº†æ–¹ä¾¿ FreeBSD çš„ç”¨æˆ·ï¼Œä»–ä»¬å¯ä»¥é€šè¿‡è¿½è¸ªä¸€ä¸ªä¸­å¤®ä»£ç åº“æ¥è·å¾—ä¾¿åˆ©ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ’æ–¥æ½œåœ¨çš„è´¡çŒ®è€…ï¼æˆ‘ä»¬çš„æ„¿æœ›æ˜¯æä¾›ä¸€ä¸ªç¨³å®šçš„æ“ä½œç³»ç»Ÿï¼Œé…å¤‡ä¸€å¥—å¤§é‡çš„ä¸€è‡´çš„åº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥è½»æ¾å®‰è£…å’Œä½¿ç”¨ - è¿™ä¸ªæ¨¡å‹åœ¨å®ç°è¿™ä¸€ç›®æ ‡æ–¹é¢éå¸¸æˆåŠŸã€‚ÙŒAll we ask of those who would join us as FreeBSD developers is some of the same dedication its current people have to its continued success!Ùœæˆ‘ä»¬å¯¹é‚£äº›å¸Œæœ›åŠ å…¥æˆ‘ä»¬æˆä¸º FreeBSD å¼€å‘è€…çš„äººåªæœ‰ä¸€ä¸ªè¦æ±‚ï¼Œé‚£å°±æ˜¯æ‹¥æœ‰ä¸ç°æœ‰æˆå‘˜ä¸€æ ·å¯¹å…¶æŒç»­æˆåŠŸçš„å¥‰çŒ®ç²¾ç¥ï¼´Third Party Programs¯ç¬¬ä¸‰æ–¹ç¨‹åºÚuIn addition to the base distributions, FreeBSD offers a ported software collection with thousands of commonly sought-after programs.  The list of ports ranges from HTTP servers to games, languages, editors, and almost everything in between.  There are about {numports} ports; the entire Ports Collection requires approximately {ports-size}.  To compile a port, you simply change to the directory of the program you wish to install, type `make install`, and let the system do the rest.  The full original distribution for each port you build is retrieved dynamically so you need only enough disk space to build the ports you want.ÚPé™¤äº†åŸºæœ¬å‘è¡Œç‰ˆä¹‹å¤–ï¼Œ FreeBSD è¿˜æä¾›äº†ä¸€ä¸ªå¯ç§»æ¤è½¯ä»¶é›†åˆï¼Œå…¶ä¸­åŒ…å«æ•°åƒä¸ªå¸¸è§çš„ç¨‹åºã€‚ports åˆ—è¡¨æ¶µç›–äº†ä» HTTP æœåŠ¡å™¨åˆ°æ¸¸æˆã€ç¼–ç¨‹è¯­è¨€ã€ç¼–è¾‘å™¨ç­‰å‡ ä¹æ‰€æœ‰é¢†åŸŸçš„ç¨‹åºã€‚å¤§çº¦æœ‰ {numports} ä¸ª portsï¼›æ•´ä¸ª Ports é›†åˆéœ€è¦å¤§çº¦ {ports-size} çš„ç©ºé—´ã€‚è¦ç¼–è¯‘ä¸€ä¸ª portsï¼Œåªéœ€åˆ‡æ¢åˆ°æ‚¨æƒ³è¦å®‰è£…çš„ç¨‹åºçš„ç›®å½•ï¼Œè¾“å…¥ `make install`ï¼Œç„¶åè®©ç³»ç»Ÿå®Œæˆå‰©ä¸‹çš„å·¥ä½œã€‚æ¯ä¸ªæ„å»ºçš„ ports éƒ½ä¼šåŠ¨æ€åœ°æ£€ç´¢å®Œæ•´çš„åŸå§‹å‘è¡Œç‰ˆï¼Œå› æ­¤æ‚¨åªéœ€è¦è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´æ¥æ„å»ºæ‰€éœ€çš„ portsã€‚Ú8Almost every port is also provided as a pre-compiled "package", which can be installed with a simple command (`pkg install`) by those who do not wish to compile their own ports from source.  More information on packages and ports can be found in crossref:ports[ports,Installing Applications: Packages and Ports].Ú)å‡ ä¹æ¯ä¸ª ports ä¹Ÿéƒ½æä¾›äº†é¢„ç¼–è¯‘çš„â€œè½¯ä»¶åŒ…â€ï¼Œä¸å¸Œæœ›ä»æºä»£ç ç¼–è¯‘è‡ªå·±çš„ ports çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ç®€å•çš„å‘½ä»¤ï¼ˆ `pkg install` ï¼‰è¿›è¡Œå®‰è£…ã€‚æœ‰å…³è½¯ä»¶åŒ…å’Œ ports çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:ports[ports,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ ports] ã€‚¸Additional Documentation¬é™„åŠ æ–‡æ¡£ÙñAll supported FreeBSD versions provide an option in the installer to install additional documentation under [.filename]#/usr/local/share/doc/freebsd# during the initial system setup.  Documentation may also be installed later using packages:Ùáæ‰€æœ‰æ”¯æŒçš„ FreeBSD ç‰ˆæœ¬åœ¨å®‰è£…ç¨‹åºä¸­æä¾›äº†ä¸€ä¸ªé€‰é¡¹ï¼Œåœ¨åˆå§‹ç³»ç»Ÿè®¾ç½®æœŸé—´å¯ä»¥å®‰è£…é™„åŠ æ–‡æ¡£åˆ° [.filename]#/usr/local/share/doc/freebsd#ã€‚æ–‡æ¡£ä¹Ÿå¯ä»¥åœ¨ä¹‹åä½¿ç”¨è½¯ä»¶åŒ…è¿›è¡Œå®‰è£…ï¼šÚ,For localized versions replace the "en" with the language prefix of choice.  Be aware that some of the localised versions might be out of date and might contain information that is no longer correct or relevant.  You may view the locally installed manuals with a web browser using the following URLs:Ùùå¯¹äºæœ¬åœ°åŒ–ç‰ˆæœ¬ï¼Œè¯·å°†â€œenâ€æ›¿æ¢ä¸ºæ‰€é€‰è¯­è¨€çš„è¯­è¨€å‰ç¼€ã€‚è¯·æ³¨æ„ï¼Œä¸€äº›æœ¬åœ°åŒ–ç‰ˆæœ¬å¯èƒ½å·²è¿‡æ—¶ï¼Œå¯èƒ½åŒ…å«ä¸å†æ­£ç¡®æˆ–ç›¸å…³çš„ä¿¡æ¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ URL åœ¨ Web æµè§ˆå™¨ä¸­æŸ¥çœ‹æœ¬åœ°å®‰è£…çš„æ‰‹å†Œï¼š´The FreeBSD Handbook®FreeBSD æ‰‹å†Œ¯The FreeBSD FAQºFreeBSD å¸¸è§é—®é¢˜è§£ç­”ÙiYou can always find up to date documentation at link:https://docs.FreeBSD.org/[The Documentation Portal].ÙXæ‚¨å¯ä»¥éšæ—¶åœ¨ link:https://docs.FreeBSD.org/[æ–‡æ¡£é—¨æˆ·] æ‰¾åˆ°æœ€æ–°çš„æ–‡æ¡£ã€‚Ù;All trademarks are the property of their respective owners.Ù0æ‰€æœ‰å•†æ ‡å‡ä¸ºå…¶å„è‡ªæ‰€æœ‰è€…çš„è´¢äº§ã€‚Ú0A group is a list of users. A group is identified by its group name and GID.  In FreeBSD, the kernel uses the UID of a process, and the list of groups it belongs to, to determine what the process is allowed to do.  Most of the time, the GID of a user or process usually means the first group in the list.Ùùç»„æ˜¯ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨ã€‚ç»„ç”±ç»„åç§°å’Œ GID æ ‡è¯†ã€‚åœ¨ FreeBSD ä¸­ï¼Œå†…æ ¸ä½¿ç”¨è¿›ç¨‹çš„ UID å’Œå…¶æ‰€å±çš„ç»„åˆ—è¡¨æ¥ç¡®å®šè¯¥è¿›ç¨‹è¢«å…è®¸åšä»€ä¹ˆã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨æˆ·æˆ–è¿›ç¨‹çš„ GID é€šå¸¸è¡¨ç¤ºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªç»„ã€‚ÚMThe group name to GID mapping is listed in `/etc/group`.  This is a plain text file with four colon-delimited fields.  The first field is the group name, the second is the encrypted password, the third the GID, and the fourth the comma-delimited list of members.  For a more complete description of the syntax, refer to man:group[5].Ú:ç»„ååˆ° GID çš„æ˜ å°„åœ¨ `/etc/group` ä¸­åˆ—å‡ºã€‚è¿™æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«å››ä¸ªç”±å†’å·åˆ†éš”çš„å­—æ®µã€‚ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯ç»„åï¼Œç¬¬äºŒä¸ªå­—æ®µæ˜¯åŠ å¯†å¯†ç ï¼Œç¬¬ä¸‰ä¸ªå­—æ®µæ˜¯ GID ï¼Œç¬¬å››ä¸ªå­—æ®µæ˜¯é€—å·åˆ†éš”çš„æˆå‘˜åˆ—è¡¨ã€‚æœ‰å…³è¯­æ³•çš„æ›´å®Œæ•´æè¿°ï¼Œè¯·å‚é˜… man:group[5] ã€‚Ú1The superuser can modify `/etc/group` using a text editor, although editing the group file using man:vigr[8] is preferred because it can catch some common mistakes.  Alternatively, man:pw[8] can be used to add and edit groups.  For example, to add a group called `teamtwo` and then confirm that it exists:Ú0è¶…çº§ç”¨æˆ·å¯ä»¥ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¿®æ”¹ `/etc/group` æ–‡ä»¶ï¼Œå°½ç®¡ä½¿ç”¨ man:vigr[8] ç¼–è¾‘ç»„æ–‡ä»¶æ›´ä¸ºæ¨èï¼Œå› ä¸ºå®ƒå¯ä»¥æ•æ‰ä¸€äº›å¸¸è§çš„é”™è¯¯ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ man:pw[8] æ¥æ·»åŠ å’Œç¼–è¾‘ç»„ã€‚ä¾‹å¦‚ï¼Œè¦æ·»åŠ ä¸€ä¸ªåä¸º `teamtwo` çš„ç»„ï¼Œå¹¶ç¡®è®¤å®ƒæ˜¯å¦å­˜åœ¨ï¼šÙÏCare must be taken when using the operator group, as unintended superuser-like access privileges may be granted, including but not limited to shutdown, reboot, and access to all items in `/dev` in the group.Ù¹åœ¨ä½¿ç”¨æ“ä½œå‘˜ç»„æ—¶å¿…é¡»å°å¿ƒï¼Œå› ä¸ºå¯èƒ½ä¼šæˆäºˆæ„å¤–çš„ç±»ä¼¼è¶…çº§ç”¨æˆ·çš„è®¿é—®æƒé™ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå…³é—­ã€é‡å¯ä»¥åŠè®¿é—®ç»„ä¸­ `/dev` ä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚¾Adding a Group Using man:pw[8]Ù ä½¿ç”¨ man:pw[8] æ·»åŠ ä¸€ä¸ªç»„ÙIn this example, `1100` is the GID of `teamtwo`.  Right now, `teamtwo` has no members.  This command will add `jru` as a member of `teamtwo`.Ù“åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`1100` æ˜¯ `teamtwo` çš„ GID ã€‚ç›®å‰ï¼Œ`teamtwo` æ²¡æœ‰æˆå‘˜ã€‚è¿™ä¸ªå‘½ä»¤å°†ä¼šæŠŠ `jru` æ·»åŠ ä¸º `teamtwo` çš„æˆå‘˜ã€‚Ù3Adding User Accounts to a New Group Using man:pw[8]Ù2ä½¿ç”¨ man:pw[8] å°†ç”¨æˆ·è´¦æˆ·æ·»åŠ åˆ°æ–°ç»„ä¸­ÚOThe argument to `-M` is a comma-delimited list of users to be added to a new (empty) group or to replace the members of an existing group.  To the user, this group membership is different from (and in addition to) the user's primary group listed in the password file.  This means that the user will not show up as a member when using `groupshow` with man:pw[8], but will show up when the information is queried via man:id[1] or a similar tool.  When man:pw[8] is used to add a user to a group, it only manipulates `/etc/group` and does not attempt to read additional data from `/etc/passwd`.ÚZ`-M` å‚æ•°åé¢æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„ç”¨æˆ·åˆ—è¡¨ï¼Œç”¨äºå°†è¿™äº›ç”¨æˆ·æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„ï¼ˆç©ºçš„ï¼‰ç»„ä¸­ï¼Œæˆ–è€…æ›¿æ¢ç°æœ‰ç»„çš„æˆå‘˜ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè¿™ä¸ªç»„æˆå‘˜èº«ä»½ä¸å¯†ç æ–‡ä»¶ä¸­åˆ—å‡ºçš„ç”¨æˆ·çš„ä¸»ç»„ä¸åŒï¼Œè€Œä¸”æ˜¯é¢å¤–çš„ã€‚è¿™æ„å‘³ç€å½“ä½¿ç”¨ `groupshow` å’Œ man:pw[8] ä¸€èµ·æŸ¥çœ‹ç”¨æˆ·æ—¶ï¼Œç”¨æˆ·ä¸ä¼šæ˜¾ç¤ºä¸ºç»„æˆå‘˜ï¼Œä½†æ˜¯å½“ä½¿ç”¨ man:id[1] æˆ–ç±»ä¼¼çš„å·¥å…·æŸ¥è¯¢ä¿¡æ¯æ—¶ï¼Œç”¨æˆ·ä¼šæ˜¾ç¤ºä¸ºç»„æˆå‘˜ã€‚å½“ä½¿ç”¨ man:pw[8] å°†ç”¨æˆ·æ·»åŠ åˆ°ç»„æ—¶ï¼Œå®ƒåªæ“ä½œ `/etc/group` æ–‡ä»¶ï¼Œå¹¶ä¸å°è¯•ä» `/etc/passwd` ä¸­è¯»å–é¢å¤–çš„æ•°æ®ã€‚Ù.Adding a New Member to a Group Using man:pw[8]Ù/ä½¿ç”¨ man:pw[8] æ·»åŠ æ–°æˆå‘˜åˆ°ä¸€ä¸ªç»„ä¸­ÙŞIn this example, the argument to `-m` is a comma-delimited list of users who are to be added to the group.  Unlike the previous example, these users are appended to the group and do not replace existing users in the group.Ùçåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ `-m` å‚æ•°åé¢æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„ç”¨æˆ·åˆ—è¡¨ï¼Œè¿™äº›ç”¨æˆ·å°†è¢«æ·»åŠ åˆ°è¯¥ç»„ä¸­ã€‚ä¸å‰ä¸€ä¸ªä¾‹å­ä¸åŒçš„æ˜¯ï¼Œè¿™äº›ç”¨æˆ·ä¼šè¢«è¿½åŠ åˆ°è¯¥ç»„ä¸­ï¼Œè€Œä¸ä¼šæ›¿æ¢æ‰ç»„ä¸­å·²æœ‰çš„ç”¨æˆ·ã€‚Ù-Using man:id[1] to Determine Group MembershipÙ)ä½¿ç”¨ man:id[1] æ¥ç¡®å®šç»„æˆå‘˜èº«ä»½ÙEIn this example, `jru` is a member of the groups `jru` and `teamtwo`.ÙBåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`jru` æ˜¯ `jru` å’Œ `teamtwo` ç»„çš„æˆå‘˜ã€‚ÙlFor more information about this command and the format of `/etc/group`, refer to man:pw[8] and man:group[5].Ùiæœ‰å…³æ­¤å‘½ä»¤å’Œ `/etc/group` æ–‡ä»¶çš„æ ¼å¼çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:pw[8] å’Œ man:group[5] ã€‚«Permissions¦æƒé™ÚsIn FreeBSD, every file and directory has an associated set of permissions and several utilities are available for viewing and modifying these permissions.  Understanding how permissions work is necessary to make sure that users are able to access the files that they need and are unable to improperly access the files used by the operating system or owned by other users.Ú5åœ¨ FreeBSD ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰ä¸€ç»„å…³è”çš„æƒé™ï¼Œå¹¶ä¸”æœ‰å‡ ä¸ªå®ç”¨ç¨‹åºå¯ç”¨äºæŸ¥çœ‹å’Œä¿®æ”¹è¿™äº›æƒé™ã€‚è¦ç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿè®¿é—®æ‰€éœ€çš„æ–‡ä»¶ï¼Œå¹¶ä¸”ä¸èƒ½ä¸æ­£å½“åœ°è®¿é—®æ“ä½œç³»ç»Ÿä½¿ç”¨çš„æ–‡ä»¶æˆ–å…¶ä»–ç”¨æˆ·æ‹¥æœ‰çš„æ–‡ä»¶ï¼Œå°±å¿…é¡»äº†è§£æƒé™çš„å·¥ä½œåŸç†ã€‚Ù³This section discusses the traditional UNIX(R) permissions used in FreeBSD.  For finer-grained file system access control, refer to crossref:security[fs-acl,Access Control Lists].Ù©æœ¬èŠ‚è®¨è®ºäº†åœ¨ FreeBSD ä¸­ä½¿ç”¨çš„ä¼ ç»Ÿ UNIX(R) æƒé™ã€‚è¦è¿›è¡Œæ›´ç²¾ç»†çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ§åˆ¶ï¼Œè¯·å‚è€ƒ crossref:security[fs-acl,è®¿é—®æ§åˆ¶åˆ—è¡¨] ã€‚Ú+In UNIX(R), basic permissions are assigned using three types of access: read, write, and execute.  These access types are used to determine file access to the file's owner, group, and others (everyone else).  The read, write, and execute permissions can be represented as the letters `r`, `w`, and `x`.  They can also be represented as binary numbers as each permission is either on or off (`0`).  When represented as a number, the order is always read as `rwx`, where `r` has an on value of `4`, `w` has an on value of `2` and `x` has an on value of `1`.Úåœ¨ UNIX(R) ä¸­ï¼ŒåŸºæœ¬æƒé™ä½¿ç”¨ä¸‰ç§ç±»å‹çš„è®¿é—®è¿›è¡Œåˆ†é…ï¼šè¯»å–ã€å†™å…¥å’Œæ‰§è¡Œã€‚è¿™äº›è®¿é—®ç±»å‹ç”¨äºç¡®å®šæ–‡ä»¶çš„æ‰€æœ‰è€…ã€ç»„å’Œå…¶ä»–äººï¼ˆå…¶ä»–æ‰€æœ‰äººï¼‰å¯¹æ–‡ä»¶çš„è®¿é—®ã€‚è¯»å–ã€å†™å…¥å’Œæ‰§è¡Œæƒé™å¯ä»¥ç”¨å­—æ¯ `r`ã€`w` å’Œ `x` è¡¨ç¤ºã€‚å®ƒä»¬ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ•°å­—ï¼Œå› ä¸ºæ¯ä¸ªæƒé™éƒ½æ˜¯æ‰“å¼€æˆ–å…³é—­çš„ï¼ˆ`0`ï¼‰ã€‚å½“è¡¨ç¤ºä¸ºæ•°å­—æ—¶ï¼Œé¡ºåºæ€»æ˜¯æŒ‰ç…§ `rwx` è¯»å–ï¼Œå…¶ä¸­ `r` çš„æ‰“å¼€å€¼ä¸º `4` ï¼Œ `w` çš„æ‰“å¼€å€¼ä¸º `2` ï¼Œ `x` çš„æ‰“å¼€å€¼ä¸º `1` ã€‚Ù±Table 4.1 summarizes the possible numeric and alphabetic possibilities.  When reading the "Directory Listing" column, a `-` is used to represent a permission that is set to off.Ùvè¡¨ 4.1 æ€»ç»“äº†å¯èƒ½çš„æ•°å­—å’Œå­—æ¯ç»„åˆã€‚åœ¨é˜…è¯»â€œç›®å½•åˆ—è¡¨â€åˆ—æ—¶ï¼Œä½¿ç”¨ `-` è¡¨ç¤ºæƒé™å…³é—­ã€‚ÚƒFocusing on the line for `myfile`, the first `(leftmost)` character indicates whether this file is a regular file, a directory, a special character device, a socket, or any other special pseudo-file device.  In this example, the `-` indicates a regular file.  The next three characters, `rw-` in this example, give the permissions for the owner of the file.  The next three characters, `r--`, give the permissions for the group that the file belongs to.  The final three characters, `r--`, give the permissions for the rest of the world.  A dash means that the permission is turned off.  In this example, the permissions are set so the owner can read and write to the file, the group can read the file, and the rest of the world can only read the file.  According to the table above, the permissions for this file would be `644`, where each digit represents the three parts of the file's permission.Ú³å…³æ³¨ `myfile` è¿™ä¸€è¡Œï¼Œç¬¬ä¸€ä¸ªï¼ˆæœ€å·¦è¾¹çš„ï¼‰å­—ç¬¦è¡¨ç¤ºè¯¥æ–‡ä»¶æ˜¯æ™®é€šæ–‡ä»¶ã€ç›®å½•ã€ç‰¹æ®Šå­—ç¬¦è®¾å¤‡ã€å¥—æ¥å­—è¿˜æ˜¯å…¶ä»–ç‰¹æ®Šä¼ªæ–‡ä»¶è®¾å¤‡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ `-` è¡¨ç¤ºæ™®é€šæ–‡ä»¶ã€‚æ¥ä¸‹æ¥çš„ä¸‰ä¸ªå­—ç¬¦ `rw-` è¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ã€‚å†æ¥ä¸‹æ¥çš„ä¸‰ä¸ªå­—ç¬¦ `r--` è¡¨ç¤ºæ–‡ä»¶æ‰€å±ç»„çš„æƒé™ã€‚æœ€åä¸‰ä¸ªå­—ç¬¦ `r--` è¡¨ç¤ºå…¶ä»–ç”¨æˆ·çš„æƒé™ã€‚ç ´æŠ˜å·è¡¨ç¤ºæƒé™è¢«å…³é—­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæƒé™è¢«è®¾ç½®ä¸ºæ–‡ä»¶æ‰€æœ‰è€…å¯ä»¥è¯»å†™æ–‡ä»¶ï¼Œæ–‡ä»¶æ‰€å±ç»„å¯ä»¥è¯»å–æ–‡ä»¶ï¼Œå…¶ä»–ç”¨æˆ·åªèƒ½è¯»å–æ–‡ä»¶ã€‚æ ¹æ®ä¸Šé¢çš„è¡¨æ ¼ï¼Œè¯¥æ–‡ä»¶çš„æƒé™å°†æ˜¯ `644` ï¼Œå…¶ä¸­æ¯ä¸ªæ•°å­—ä»£è¡¨æ–‡ä»¶æƒé™çš„ä¸‰ä¸ªéƒ¨åˆ†ã€‚ÙÆHow does the system control permissions on devices? FreeBSD treats most hardware devices as a file that programs can open, read, and write data to.  These special device files are stored in `/dev/`.Ù·ç³»ç»Ÿå¦‚ä½•æ§åˆ¶è®¾å¤‡çš„æƒé™ï¼Ÿ FreeBSD å°†å¤§å¤šæ•°ç¡¬ä»¶è®¾å¤‡è§†ä¸ºç¨‹åºå¯ä»¥æ‰“å¼€ã€è¯»å–å’Œå†™å…¥æ•°æ®çš„æ–‡ä»¶ã€‚è¿™äº›ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶å­˜å‚¨åœ¨ `/dev/` ç›®å½•ä¸­ã€‚Ú£Directories are also treated as files.  They have read, write, and execute permissions.  The executable bit for a directory has a slightly different meaning than that of files.  When a directory is marked executable, it means it is possible to change into that directory using man:cd[1].  This also means that it is possible to access the files within that directory, subject to the permissions on the files themselves.Ú=ç›®å½•ä¹Ÿè¢«è§†ä¸ºæ–‡ä»¶ã€‚å®ƒä»¬å…·æœ‰è¯»å–ã€å†™å…¥å’Œæ‰§è¡Œæƒé™ã€‚ç›®å½•çš„å¯æ‰§è¡Œä½ä¸æ–‡ä»¶çš„å¯æ‰§è¡Œä½ç•¥æœ‰ä¸åŒã€‚å½“ä¸€ä¸ªç›®å½•è¢«æ ‡è®°ä¸ºå¯æ‰§è¡Œæ—¶ï¼Œæ„å‘³ç€å¯ä»¥ä½¿ç”¨ man:cd[1] å‘½ä»¤è¿›å…¥è¯¥ç›®å½•ã€‚è¿™ä¹Ÿæ„å‘³ç€å¯ä»¥è®¿é—®è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä½†å—æ–‡ä»¶æœ¬èº«æƒé™çš„é™åˆ¶ã€‚ÙïIn order to perform a directory listing, the read permission must be set on the directory.  In order to delete a file that one knows the name of, it is necessary to have write _and_ execute permissions to the directory containing the file.Ù®ä¸ºäº†æ‰§è¡Œç›®å½•åˆ—è¡¨ï¼Œå¿…é¡»åœ¨ç›®å½•ä¸Šè®¾ç½®è¯»å–æƒé™ã€‚ä¸ºäº†åˆ é™¤ä¸€ä¸ªå·²çŸ¥æ–‡ä»¶åçš„æ–‡ä»¶ï¼Œå¿…é¡»å¯¹åŒ…å«è¯¥æ–‡ä»¶çš„ç›®å½•å…·æœ‰å†™å…¥å’Œæ‰§è¡Œæƒé™ã€‚ÙÚThere are more permission bits, but they are primarily used in special circumstances such as setuid binaries and sticky directories.  For more information on file permissions and how to set them, refer to man:chmod[1].ÙÁè¿˜æœ‰æ›´å¤šçš„æƒé™ä½ï¼Œä½†å®ƒä»¬ä¸»è¦ç”¨äºç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ setuid äºŒè¿›åˆ¶æ–‡ä»¶å’Œç²˜æ»ç›®å½•ã€‚æœ‰å…³æ–‡ä»¶æƒé™åŠå¦‚ä½•è®¾ç½®å®ƒä»¬çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ man:chmod[1] ã€‚ÙÙThese values are used with man:chmod[1], but with letters instead of numbers.  For example, the following command would block both members of the group associated with _FILE_ and all other users from accessing _FILE_:Ù¶è¿™äº›å€¼ä¸ man:chmod[1] ä¸€èµ·ä½¿ç”¨ï¼Œä½†ä½¿ç”¨å­—æ¯è€Œä¸æ˜¯æ•°å­—ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤å°†é˜»æ­¢ä¸ _FILE_ å…³è”çš„ç»„çš„æ‰€æœ‰æˆå‘˜ä»¥åŠæ‰€æœ‰å…¶ä»–ç”¨æˆ·è®¿é—® _FILE_ã€‚ÙíA comma separated list can be provided when more than one set of changes to a file must be made.  For example, the following command removes the group and "world" write permission on _FILE_, and adds the execute permissions for everyone:Ù¿å½“éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œå¤šç»„æ›´æ”¹æ—¶ï¼Œå¯ä»¥æä¾›é€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤ä¼šç§»é™¤æ–‡ä»¶ _FILE_ çš„ç»„å’Œ "world" çš„å†™æƒé™ï¼Œå¹¶ä¸ºæ‰€æœ‰äººæ·»åŠ æ‰§è¡Œæƒé™ï¼š²FreeBSD File Flags´FreeBSD æ–‡ä»¶æ ‡å¿—ÙøIn addition to file permissions, FreeBSD supports the use of "file flags".  These flags add an additional level of security and control over files, but not directories.  With file flags, even `root` can be prevented from removing or altering files.Ùëé™¤äº†æ–‡ä»¶æƒé™ä¹‹å¤–ï¼ŒFreeBSD è¿˜æ”¯æŒä½¿ç”¨â€œæ–‡ä»¶æ ‡å¿—â€ã€‚è¿™äº›æ ‡å¿—ä¸ºæ–‡ä»¶æä¾›äº†é¢å¤–çš„å®‰å…¨æ€§å’Œæ§åˆ¶ï¼Œä½†ä¸é€‚ç”¨äºç›®å½•ã€‚é€šè¿‡æ–‡ä»¶æ ‡å¿—ï¼Œå³ä½¿æ˜¯ `root` ä¹Ÿå¯ä»¥è¢«é˜»æ­¢åˆ é™¤æˆ–æ›´æ”¹æ–‡ä»¶ã€‚Ù“File flags are modified using man:chflags[1].  For example, to enable the system undeletable flag on the file `file1`, issue the following command:Ùä½¿ç”¨ man:chflags[1] å‘½ä»¤å¯ä»¥ä¿®æ”¹æ–‡ä»¶æ ‡å¿—ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨æ–‡ä»¶ `file1` ä¸Šå¯ç”¨ç³»ç»Ÿä¸å¯åˆ é™¤æ ‡å¿—ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙMTo disable the system undeletable flag, put a "no" in front of the `sunlink`:ÙJè¦ç¦ç”¨ç³»ç»Ÿä¸å¯åˆ é™¤æ ‡å¿—ï¼Œè¯·åœ¨ `sunlink` å‰é¢åŠ ä¸Š "no" ï¼šÙ6To view the flags of a file, use `-lo` with man:ls[1]:ÙKè¦æŸ¥çœ‹æ–‡ä»¶çš„æ ‡å¿—ï¼Œå¯ä»¥ä½¿ç”¨ `-lo` ä¸ man:ls[1] ä¸€èµ·ä½¿ç”¨ï¼šÙ½Several file flags may only be added or removed by the `root` user.  In other cases, the file owner may set its file flags.  Refer to man:chflags[1] and man:chflags[2] for more information.ÙÃåªæœ‰ `root` ç”¨æˆ·æ‰èƒ½æ·»åŠ æˆ–åˆ é™¤ä¸€äº›æ–‡ä»¶æ ‡å¿—ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œæ–‡ä»¶æ‰€æœ‰è€…å¯ä»¥è®¾ç½®å…¶æ–‡ä»¶æ ‡å¿—ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:chflags[1] å’Œ man:chflags[2]ã€‚Ù*The setuid, setgid, and sticky PermissionsÙ"setuid ã€setgid å’Œ sticky æƒé™Ù¼Other than the permissions already discussed, there are three other specific settings that all administrators should know about.  They are the `setuid`, `setgid`, and `sticky` permissions.Ù é™¤äº†å·²ç»è®¨è®ºè¿‡çš„æƒé™ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸‰ä¸ªå…¶ä»–ç‰¹å®šçš„è®¾ç½®ï¼Œæ‰€æœ‰ç®¡ç†å‘˜éƒ½åº”è¯¥äº†è§£ã€‚å®ƒä»¬æ˜¯ `setuid`ã€`setgid` å’Œ `sticky` æƒé™ã€‚ÙŞThese settings are important for some UNIX(R) operations as they provide functionality not normally granted to normal users.  To understand them, the difference between the real user ID and effective user ID must be noted.ÙÅè¿™äº›è®¾ç½®å¯¹äºæŸäº› UNIX(R) æ“ä½œéå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†é€šå¸¸ä¸æˆäºˆæ™®é€šç”¨æˆ·çš„åŠŸèƒ½ã€‚è¦ç†è§£å®ƒä»¬ï¼Œå¿…é¡»æ³¨æ„å®é™…ç”¨æˆ· ID å’Œæœ‰æ•ˆç”¨æˆ· ID ä¹‹é—´çš„åŒºåˆ«ã€‚Ú•The real user ID is the UID who owns or starts the process.  The effective UID is the user ID the process runs as.  As an example, man:passwd[1] runs with the real user ID when a user changes their password.  However, in order to update the password database, the command runs as the effective ID of the `root` user.  This allows users to change their passwords without seeing a `Permission Denied` error.ÚXçœŸå®ç”¨æˆ· ID æ˜¯æ‹¥æœ‰æˆ–å¯åŠ¨è¿›ç¨‹çš„ UID ã€‚æœ‰æ•ˆ UID æ˜¯è¿›ç¨‹è¿è¡Œçš„ç”¨æˆ· ID ã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ›´æ”¹å¯†ç æ—¶ï¼Œ man:passwd[1] ä»¥çœŸå®ç”¨æˆ· ID è¿è¡Œã€‚ç„¶è€Œï¼Œä¸ºäº†æ›´æ–°å¯†ç æ•°æ®åº“ï¼Œè¯¥å‘½ä»¤ä»¥ `root` ç”¨æˆ·çš„æœ‰æ•ˆ ID è¿è¡Œã€‚è¿™ä½¿å¾—ç”¨æˆ·å¯ä»¥åœ¨ä¸çœ‹åˆ° `æƒé™è¢«æ‹’ç»` é”™è¯¯çš„æƒ…å†µä¸‹æ›´æ”¹å¯†ç ã€‚ÙvThe setuid permission may be added symbolically by adding the `s` permission for the user as in the following example:Ù^å¯ä»¥é€šè¿‡ä¸ºç”¨æˆ·æ·»åŠ  `s` æƒé™æ¥ä»¥ç¬¦å·æ–¹å¼æ·»åŠ  setuid æƒé™ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼šÙThe setuid permission may also be set by prefixing a permission set with the number four (4) as shown in the following example:Ùfåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨æƒé™é›†å‰åŠ ä¸Šæ•°å­—å››ï¼ˆ4ï¼‰æ¥è®¾ç½® setuid æƒé™ï¼šÙ@The permissions on `suidexample.sh` now look like the following:Ù/`suidexample.sh` çš„æƒé™ç°åœ¨å¦‚ä¸‹æ‰€ç¤ºï¼šÙ½Note that a `s` is now part of the permission set designated for the file owner, replacing the executable bit.  This allows utilities which need elevated permissions, such as man:passwd[1].Ù©è¯·æ³¨æ„ï¼Œç°åœ¨æ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™é›†ä¸­åŒ…å«äº†ä¸€ä¸ª `s`ï¼Œå–ä»£äº†å¯æ‰§è¡Œä½ã€‚è¿™å…è®¸ä½¿ç”¨éœ€è¦æå‡æƒé™çš„å®ç”¨ç¨‹åºï¼Œä¾‹å¦‚ man:passwd[1] ã€‚ÙÁThe `nosuid` man:mount[8] option will cause such binaries to silently fail without alerting the user.  That option is not completely reliable as a `nosuid` wrapper may be able to circumvent it.Ùå`nosuid` é€‰é¡¹æ˜¯ `mount[8]` å‘½ä»¤ä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼Œå®ƒä¼šå¯¼è‡´è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶åœ¨ä¸é€šçŸ¥ç”¨æˆ·çš„æƒ…å†µä¸‹é™é»˜å¤±è´¥ã€‚ç„¶è€Œï¼Œè¿™ä¸ªé€‰é¡¹å¹¶ä¸å®Œå…¨å¯é ï¼Œå› ä¸ºä¸€ä¸ª `nosuid` åŒ…è£…å™¨å¯èƒ½ä¼šç»•è¿‡å®ƒã€‚ÙÇTo view this in real time, open two terminals.  On one, type `passwd` as a normal user.  While it waits for a new password, check the process table and look at the user information for man:passwd[1]:ÙÇè¦å®æ—¶æŸ¥çœ‹æ­¤å†…å®¹ï¼Œè¯·æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªç»ˆç«¯ä¸Šï¼Œä»¥æ™®é€šç”¨æˆ·èº«ä»½è¾“å…¥ `passwd` ã€‚åœ¨ç­‰å¾…æ–°å¯†ç æ—¶ï¼Œæ£€æŸ¥è¿›ç¨‹è¡¨å¹¶æŸ¥çœ‹ man:passwd[1] çš„ç”¨æˆ·ä¿¡æ¯ã€‚®In terminal A:²åœ¨ç»ˆç«¯ A ä¸­ï¼š®In terminal B:²åœ¨ç»ˆç«¯ B ä¸­ï¼šÙXAlthough man:passwd[1] is run as a normal user, it is using the effective UID of `root`.Ù^å°½ç®¡ man:passwd[1] ä»¥æ™®é€šç”¨æˆ·èº«ä»½è¿è¡Œï¼Œä½†å®ƒä½¿ç”¨çš„æ˜¯ `root` çš„æœ‰æ•ˆ UID ã€‚Ú$The `setgid` permission performs the same function as the `setuid` permission; except that it alters the group settings.  When an application or utility executes with this setting, it will be granted the permissions based on the group that owns the file, not the user who started the process.Ùè`setgid` æƒé™ä¸ `setuid` æƒé™æ‰§è¡Œç›¸åŒçš„åŠŸèƒ½ï¼Œåªæ˜¯å®ƒæ”¹å˜çš„æ˜¯ç»„çš„è®¾ç½®ã€‚å½“ä¸€ä¸ªåº”ç”¨ç¨‹åºæˆ–å®ç”¨å·¥å…·ä»¥æ­¤è®¾ç½®è¿è¡Œæ—¶ï¼Œå®ƒå°†æ ¹æ®æ‹¥æœ‰æ–‡ä»¶çš„ç»„è€Œä¸æ˜¯å¯åŠ¨è¿›ç¨‹çš„ç”¨æˆ·è¢«æˆäºˆæƒé™ã€‚ÙnTo set the `setgid` permission on a file symbolically, add the `s` permission for the group with man:chmod[1]:Ùnè¦åœ¨æ–‡ä»¶ä¸Šä»¥ç¬¦å·æ–¹å¼è®¾ç½® `setgid` æƒé™ï¼Œè¯·ä½¿ç”¨ man:chmod[1] å‘½ä»¤ä¸ºç»„æ·»åŠ  `s` æƒé™ã€‚Ù;Alternatively, provide man:chmod[1] with a leading two (2):ÙAæˆ–è€…ï¼Œç»™ man:chmod[1] å‘½ä»¤æä¾›ä¸€ä¸ªå‰ç¼€çš„æ•°å­— 2 ï¼šÙoIn the following listing, notice that the `s` is now in the field designated for the group permission settings:ÙVåœ¨ä¸‹é¢çš„æ¸…å•ä¸­ï¼Œè¯·æ³¨æ„ `s` ç°åœ¨ä½äºç”¨äºç»„æƒé™è®¾ç½®çš„å­—æ®µä¸­ï¼šÙÜIn these examples, even though the shell script in question is an executable file, it will not run with a different EUID or effective user ID.  This is because shell scripts may not access the man:setuid[2] system calls.ÙÒåœ¨è¿™äº›ç¤ºä¾‹ä¸­ï¼Œå°½ç®¡æ‰€è®¨è®ºçš„ shell è„šæœ¬æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†å®ƒä¸ä¼šä»¥ä¸åŒçš„ EUID æˆ–æœ‰æ•ˆç”¨æˆ· ID è¿è¡Œã€‚è¿™æ˜¯å› ä¸º shell è„šæœ¬å¯èƒ½æ— æ³•è®¿é—® man:setuid[2] ç³»ç»Ÿè°ƒç”¨ã€‚ÙÄThe `setuid` and `setgid` permission bits may lower system security, by allowing for elevated permissions.  The third special permission, the `sticky bit`, can strengthen the security of a system.Ù´`setuid` å’Œ `setgid` æƒé™ä½å¯èƒ½ä¼šé™ä½ç³»ç»Ÿå®‰å…¨æ€§ï¼Œå› ä¸ºå®ƒä»¬å…è®¸æå‡æƒé™ã€‚è€Œç¬¬ä¸‰ä¸ªç‰¹æ®Šæƒé™ä½ï¼Œå³ `sticky bit` ï¼Œå¯ä»¥å¢å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚Ú	When the `sticky bit` is set on a directory, it allows file deletion only by the file owner.  This is useful to prevent file deletion in public directories, such as `/tmp`, by users who do not own the file.  To utilize this permission, add the `t` mode to the file:Ùøå½“ç›®å½•ä¸Šè®¾ç½®äº† `ç²˜ç€ä½ï¼ˆsticky bitï¼‰` æ—¶ï¼Œåªå…è®¸æ–‡ä»¶æ‰€æœ‰è€…åˆ é™¤æ–‡ä»¶ã€‚è¿™å¯¹äºé˜²æ­¢éæ–‡ä»¶æ‰€æœ‰è€…åœ¨å…¬å…±ç›®å½•ï¼ˆå¦‚ `/tmp`ï¼‰ä¸­åˆ é™¤æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚è¦ä½¿ç”¨æ­¤æƒé™ï¼Œè¯·å°† `t` æ¨¡å¼æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼šÙ8Alternatively, prefix the permission set with a one (1):Ù0æˆ–è€…ï¼Œå°†æƒé™é›†ä»¥æ•°å­— 1 ä½œä¸ºå‰ç¼€ï¼šÙXThe `sticky bit` permission will display as a `t` at the very end of the permission set:ÙE`sticky bit` æƒé™å°†æ˜¾ç¤ºä¸ºæƒé™é›†çš„æœ€åä¸€ä¸ªå­—ç¬¦ `t` ã€‚³Directory Structure¬ç›®å½•ç»“æ„Ú²The FreeBSD directory hierarchy is fundamental to obtaining an overall understanding of the system.  The most important directory is root or, "/".  This directory is the first one mounted at boot time and it contains the base system necessary to prepare the operating system for multi-user operation.  The root directory also contains mount points for other file systems that are mounted during the transition to multi-user operation.ÚVFreeBSD ç›®å½•å±‚æ¬¡ç»“æ„å¯¹äºå…¨é¢äº†è§£ç³»ç»Ÿè‡³å…³é‡è¦ã€‚æœ€é‡è¦çš„ç›®å½•æ˜¯æ ¹ç›®å½•æˆ–è€…â€œ/â€ã€‚è¿™ä¸ªç›®å½•æ˜¯åœ¨å¯åŠ¨æ—¶é¦–å…ˆæŒ‚è½½çš„ï¼Œå®ƒåŒ…å«äº†å‡†å¤‡æ“ä½œç³»ç»Ÿè¿›è¡Œå¤šç”¨æˆ·æ“ä½œæ‰€éœ€çš„åŸºæœ¬ç³»ç»Ÿã€‚æ ¹ç›®å½•è¿˜åŒ…å«å…¶ä»–æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ï¼Œåœ¨åˆ‡æ¢åˆ°å¤šç”¨æˆ·æ“ä½œæ—¶ä¼šæŒ‚è½½è¿™äº›æ–‡ä»¶ç³»ç»Ÿã€‚ÚeA mount point is a directory where additional file systems can be grafted onto a parent file system (usually the root file system).  This is further described in <<disk-organization>>.  Standard mount points include `/usr/`, `/var/`, `/tmp/`, `/mnt/`, and `/cdrom/`.  These directories are usually referenced to entries in `/etc/fstab`.  This file is a table of various file systems and mount points and is read by the system.  Most of the file systems in `/etc/fstab` are mounted automatically at boot time from the script man:rc[8] unless their entry includes `noauto`.  Details can be found in <<disks-fstab>>.Ú=æŒ‚è½½ç‚¹æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå¯ä»¥å°†é¢å¤–çš„æ–‡ä»¶ç³»ç»ŸåµŒå…¥åˆ°çˆ¶æ–‡ä»¶ç³»ç»Ÿï¼ˆé€šå¸¸æ˜¯æ ¹æ–‡ä»¶ç³»ç»Ÿï¼‰ä¸Šã€‚è¿™åœ¨ <<disk-organization>> ä¸­æœ‰è¿›ä¸€æ­¥æè¿°ã€‚æ ‡å‡†çš„æŒ‚è½½ç‚¹åŒ…æ‹¬ `/usr/`ã€`/var/`ã€`/tmp/`ã€`/mnt/` å’Œ `/cdrom/` ã€‚è¿™äº›ç›®å½•é€šå¸¸åœ¨ `/etc/fstab` ä¸­å¼•ç”¨ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªåŒ…å«å„ç§æ–‡ä»¶ç³»ç»Ÿå’ŒæŒ‚è½½ç‚¹çš„è¡¨æ ¼ï¼Œå¹¶ç”±ç³»ç»Ÿè¯»å–ã€‚é™¤éå®ƒä»¬çš„æ¡ç›®åŒ…å« `noauto`ï¼Œå¦åˆ™ `/etc/fstab` ä¸­çš„å¤§å¤šæ•°æ–‡ä»¶ç³»ç»Ÿä¼šåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨ä»è„šæœ¬ man:rc[8] æŒ‚è½½ã€‚è¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨ <<disks-fstab>> ä¸­æ‰¾åˆ°ã€‚Ù6System daemons and system utilities executed by users.Ù<ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹å’Œç”±ç”¨æˆ·æ‰§è¡Œçš„ç³»ç»Ÿå®ç”¨ç¨‹åºã€‚¿Miscellaneous system log files.»æ‚é¡¹ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ã€‚Ú8The smallest unit of organization that FreeBSD uses to find files is the filename.  Filenames are case-sensitive, which means that `readme.txt` and `README.TXT` are two separate files.  FreeBSD does not use the extension of a file to determine whether the file is a program, document, or some other form of data.ÙöFreeBSD ä½¿ç”¨çš„æœ€å°ç»„ç»‡å•ä½æ˜¯æ–‡ä»¶åã€‚æ–‡ä»¶ååŒºåˆ†å¤§å°å†™ï¼Œè¿™æ„å‘³ç€ `readme.txt` å’Œ `README.TXT` æ˜¯ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ã€‚ FreeBSD ä¸ä½¿ç”¨æ–‡ä»¶çš„æ‰©å±•åæ¥ç¡®å®šæ–‡ä»¶æ˜¯ç¨‹åºã€æ–‡æ¡£è¿˜æ˜¯å…¶ä»–å½¢å¼çš„æ•°æ®ã€‚ÙğFiles are stored in directories.  A directory may contain no files, or it may contain many hundreds of files.  A directory can also contain other directories, allowing a hierarchy of directories within one another in order to organize data.ÙÕæ–‡ä»¶å­˜å‚¨åœ¨ç›®å½•ä¸­ã€‚ä¸€ä¸ªç›®å½•å¯ä»¥ä¸åŒ…å«ä»»ä½•æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åŒ…å«æ•°ç™¾ä¸ªæ–‡ä»¶ã€‚ä¸€ä¸ªç›®å½•è¿˜å¯ä»¥åŒ…å«å…¶ä»–ç›®å½•ï¼Œä»è€Œå…è®¸åœ¨å½¼æ­¤ä¹‹é—´å»ºç«‹ç›®å½•å±‚æ¬¡ç»“æ„ä»¥ç»„ç»‡æ•°æ®ã€‚Ú9Files and directories are referenced by giving the file or directory name, followed by a forward slash, `/`, followed by any other directory names that are necessary.  For example, if the directory `foo` contains a directory `bar` which contains the file `readme.txt`, the full name, or _path_, to the file is `foo/bar/readme.txt`.  Note that this is different from Windows(R) which uses `\` to separate file and directory names.  FreeBSD does not use drive letters, or other drive names in the path.  For example, one would not type `c:\foo\bar\readme.txt` on FreeBSD.Ú"æ–‡ä»¶å’Œç›®å½•çš„å¼•ç”¨æ˜¯é€šè¿‡ç»™å‡ºæ–‡ä»¶æˆ–ç›®å½•åç§°ï¼Œåè·Ÿä¸€ä¸ªæ–œæ  `/` ï¼Œå†è·Ÿä¸Šå…¶ä»–å¿…è¦çš„ç›®å½•åç§°æ¥å®Œæˆçš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç›®å½• `foo` åŒ…å«ä¸€ä¸ªç›®å½• `bar`ï¼Œè¯¥ç›®å½•åˆåŒ…å«æ–‡ä»¶ `readme.txt` ï¼Œé‚£ä¹ˆæ–‡ä»¶çš„å®Œæ•´åç§°ï¼Œæˆ–è€…è·¯å¾„ï¼Œå°±æ˜¯ `foo/bar/readme.txt`ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ Windows(R) ä¸åŒï¼ŒWindows ä½¿ç”¨åæ–œæ  `\` æ¥åˆ†éš”æ–‡ä»¶å’Œç›®å½•åç§°ã€‚ FreeBSD åœ¨è·¯å¾„ä¸­ä¸ä½¿ç”¨é©±åŠ¨å™¨å·æˆ–å…¶ä»–é©±åŠ¨å™¨åç§°ã€‚ä¾‹å¦‚ï¼Œåœ¨ FreeBSD ä¸Šï¼Œä¸ä¼šè¾“å…¥ `c:\foo\bar\readme.txt`ã€‚¬File systems¬æ–‡ä»¶ç³»ç»ŸÚÊDirectories and files are stored in a file system.  Each file system contains exactly one directory at the very top level, called the _root directory_ for that file system.  This root directory can contain other directories.  One file system is designated the _root file system_ or `/`.  Every other file system is _mounted_ under the root file system.  No matter how many disks are on the FreeBSD system, every directory appears to be part of the same disk.Úˆç›®å½•å’Œæ–‡ä»¶å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿåœ¨æœ€é¡¶å±‚éƒ½åŒ…å«ä¸€ä¸ªç›®å½•ï¼Œç§°ä¸ºè¯¥æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ã€‚è¿™ä¸ªæ ¹ç›®å½•å¯ä»¥åŒ…å«å…¶ä»–ç›®å½•ã€‚ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè¢«æŒ‡å®šä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿæˆ– `/` ã€‚å…¶ä»–æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½è¢«æŒ‚è½½åœ¨æ ¹æ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚æ— è®º FreeBSD ç³»ç»Ÿä¸Šæœ‰å¤šå°‘ä¸ªç£ç›˜ï¼Œæ¯ä¸ªç›®å½•éƒ½çœ‹èµ·æ¥æ˜¯åŒä¸€ä¸ªç£ç›˜çš„ä¸€éƒ¨åˆ†ã€‚ÙÂConsider three file systems, called `A`, `B`, and `C`.  Each file system has one root directory, which contains two other directories, called `A1`, `A2` (and likewise `B1`, `B2` and `C1`, `C2`).ÙÑè€ƒè™‘ä¸‰ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œåˆ†åˆ«ç§°ä¸º `A`ã€`B` å’Œ `C`ã€‚æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªæ ¹ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªå…¶ä»–ç›®å½•ï¼Œåˆ†åˆ«ç§°ä¸º `A1`ã€`A2` ï¼ˆåŒæ ·ä¹Ÿæœ‰ `B1`ã€`B2` å’Œ `C1`ã€`C2`ï¼‰ã€‚Ù±Call `A` the root file system.  If man:ls[1] is used to view the contents of this directory, it will show two subdirectories, `A1` and `A2`.  The directory tree looks like this:Ù›å°† `A` ç§°ä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœä½¿ç”¨ man:ls[1] å‘½ä»¤æŸ¥çœ‹è¯¥ç›®å½•çš„å†…å®¹ï¼Œå°†æ˜¾ç¤ºä¸¤ä¸ªå­ç›®å½•ï¼Œ`A1` å’Œ `A2`ã€‚ç›®å½•æ ‘å¦‚ä¸‹æ‰€ç¤ºï¼šÙ=Directory tree with the root directory and two subdirectoriesÙ-å¸¦æœ‰æ ¹ç›®å½•å’Œä¸¤ä¸ªå­ç›®å½•çš„ç›®å½•æ ‘ÙØA file system must be mounted on to a directory in another file system.  When mounting file system `B` on to the directory `A1`, the root directory of `B` replaces `A1`, and the directories in `B` appear accordingly:ÙĞä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå¿…é¡»è¢«æŒ‚è½½åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ä¸Šã€‚å½“å°†æ–‡ä»¶ç³»ç»Ÿ `B` æŒ‚è½½åˆ°ç›®å½• `A1` ä¸Šæ—¶ï¼Œ`B` çš„æ ¹ç›®å½•å°†æ›¿æ¢ `A1`ï¼Œå¹¶ä¸” `B` ä¸­çš„ç›®å½•ä¼šç›¸åº”åœ°æ˜¾ç¤ºå‡ºæ¥ï¼šÙâAny files that are in the `B1` or `B2` directories can be reached with the path `/A1/B1` or `/A1/B2` as necessary.  Any files that were in `/A1` have been temporarily hidden.  They will reappear if `B` is _unmounted_ from `A`.ÙÉä»»ä½•ä½äº `B1` æˆ– `B2` ç›®å½•ä¸­çš„æ–‡ä»¶å¯ä»¥é€šè¿‡è·¯å¾„ `/A1/B1` æˆ– `/A1/B2` è®¿é—®ã€‚ä»»ä½•ä½äº `/A1` ä¸­çš„æ–‡ä»¶éƒ½è¢«ä¸´æ—¶éšè—äº†ã€‚å¦‚æœä» `A` å¸è½½ `B`ï¼Œå®ƒä»¬å°†é‡æ–°å‡ºç°ã€‚ÙFIf `B` had been mounted on `A2` then the diagram would look like this:ÙAå¦‚æœ `B` è¢«å®‰è£…åœ¨ `A2` ä¸Šï¼Œé‚£ä¹ˆå›¾è¡¨å°†å¦‚ä¸‹æ‰€ç¤ºï¼šÙ:and the paths would be `/A2/B1` and `/A2/B2` respectively.Ù(è·¯å¾„åˆ†åˆ«ä¸º `/A2/B1` å’Œ `/A2/B2`ã€‚ÙÇFile systems can be mounted on top of one another.  Continuing the last example, the `C` file system could be mounted on top of the `B1` directory in the `B` file system, leading to this arrangement:Ù¥æ–‡ä»¶ç³»ç»Ÿå¯ä»¥ç›¸äº’å åŠ æŒ‚è½½ã€‚ç»§ç»­ä¸Šä¸€ä¸ªä¾‹å­ï¼Œ`C` æ–‡ä»¶ç³»ç»Ÿå¯ä»¥è¢«æŒ‚è½½åœ¨ `B` æ–‡ä»¶ç³»ç»Ÿä¸­çš„ `B1` ç›®å½•ä¸Šæ–¹ï¼Œå½¢æˆä»¥ä¸‹çš„å®‰æ’ï¼šÙJA complex directory tree. With different subdirectories hanging from root.Ù?ä¸€ä¸ªå¤æ‚çš„ç›®å½•æ ‘ã€‚æ ¹ç›®å½•ä¸‹æœ‰ä¸åŒçš„å­ç›®å½•ã€‚ÙUOr `C` could be mounted directly on to the `A` file system, under the `A1` directory:ÙIæˆ–è€… `C` å¯ä»¥ç›´æ¥æŒ‚è½½åˆ° `A` æ–‡ä»¶ç³»ç»Ÿä¸‹çš„ `A1` ç›®å½•ä¸­ï¼šÙIt is entirely possible to have one large root file system, and not need to create any others.  There are some drawbacks to this approach, and one advantage.Ù„å®Œå…¨å¯ä»¥åªæœ‰ä¸€ä¸ªå¤§çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œä¸éœ€è¦åˆ›å»ºå…¶ä»–æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ç§æ–¹æ³•æœ‰ä¸€äº›ç¼ºç‚¹å’Œä¸€ä¸ªä¼˜ç‚¹ã€‚Ù!Benefits of Multiple File Systems»å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿçš„å¥½å¤„ÚÀDifferent file systems can have different _mount options_. For example, the root file system can be mounted read-only, making it impossible for users to inadvertently delete or edit a critical file. Separating user-writable file systems, such as `/home`, from other file systems allows them to be mounted _nosuid_. This option prevents the _suid_/_guid_ bits on executables stored on the file system from taking effect, possibly improving security.Ú•ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥æœ‰ä¸åŒçš„æŒ‚è½½é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œæ ¹æ–‡ä»¶ç³»ç»Ÿå¯ä»¥ä»¥åªè¯»æ–¹å¼æŒ‚è½½ï¼Œè¿™æ ·ç”¨æˆ·å°±æ— æ³•æ„å¤–åˆ é™¤æˆ–ç¼–è¾‘å…³é”®æ–‡ä»¶ã€‚å°†å¯ç”±ç”¨æˆ·å†™å…¥çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ `/home`ï¼‰ä¸å…¶ä»–æ–‡ä»¶ç³»ç»Ÿåˆ†ç¦»ï¼Œå¯ä»¥å°†å®ƒä»¬æŒ‚è½½ä¸º _nosuid_ ã€‚æ­¤é€‰é¡¹å¯ä»¥é˜²æ­¢æ–‡ä»¶ç³»ç»Ÿä¸Šå­˜å‚¨çš„å¯æ‰§è¡Œæ–‡ä»¶çš„_ suid_/_guid_ ä½ç”Ÿæ•ˆï¼Œä»è€Œå¯èƒ½æé«˜å®‰å…¨æ€§ã€‚ÚKFreeBSD automatically optimizes the layout of files on a file system, depending on how the file system is being used. So a file system that contains many small files that are written frequently will have a different optimization to one that contains fewer, larger files. By having one big file system this optimization breaks down.ÚFreeBSD ä¼šæ ¹æ®æ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨æƒ…å†µè‡ªåŠ¨ä¼˜åŒ–æ–‡ä»¶çš„å¸ƒå±€ã€‚å› æ­¤ï¼ŒåŒ…å«è®¸å¤šé¢‘ç¹å†™å…¥çš„å°æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿå°†ä¸åŒ…å«è¾ƒå°‘ä¸”è¾ƒå¤§çš„æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿæœ‰æ‰€ä¸åŒçš„ä¼˜åŒ–æ–¹å¼ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªå¤§æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™ç§ä¼˜åŒ–å°†å¤±æ•ˆã€‚Ú+FreeBSD's file systems are robust if power is lost. However, a power loss at a critical point could still damage the structure of the file system. By splitting data over multiple file systems it is more likely that the system will still come up, making it easier to restore from backup as necessary.Ùşå¦‚æœæ–­ç”µï¼ŒFreeBSD çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯å¥å£®çš„ã€‚ç„¶è€Œï¼Œåœ¨å…³é”®æ—¶åˆ»æ–­ç”µä»ç„¶å¯èƒ½æŸåæ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„ã€‚é€šè¿‡å°†æ•°æ®åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œç³»ç»Ÿæ›´æœ‰å¯èƒ½é‡æ–°å¯åŠ¨ï¼Œä»è€Œæ›´å®¹æ˜“æ ¹æ®éœ€è¦è¿›è¡Œå¤‡ä»½æ¢å¤ã€‚¿Benefit of a Single File System»å•ä¸€æ–‡ä»¶ç³»ç»Ÿçš„å¥½å¤„Ú<File systems are a fixed size. If you create a file system when you install FreeBSD and give it a specific size, you may later discover that you need to make the partition bigger. This is not easily accomplished without backing up, recreating the file system with the new size, and then restoring the backed up data.Ú)æ–‡ä»¶ç³»ç»Ÿæ˜¯å›ºå®šå¤§å°çš„ã€‚å¦‚æœåœ¨å®‰è£… FreeBSD æ—¶åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå¹¶æŒ‡å®šäº†ç‰¹å®šçš„å¤§å°ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ä»¥åéœ€è¦æ‰©å¤§åˆ†åŒºçš„å¤§å°ã€‚è¿™ä¸å®¹æ˜“å®ç°ï¼Œéœ€è¦å…ˆå¤‡ä»½æ•°æ®ï¼Œç„¶åä½¿ç”¨æ–°çš„å¤§å°é‡æ–°åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œæœ€åæ¢å¤å¤‡ä»½çš„æ•°æ®ã€‚Ú³FreeBSD features the man:growfs[8] command, which makes it possible to increase the size of file system on the fly, removing this limitation.  A file system can only be expanded into free space in the partition in which it resides.  If there is space after the partition, the partition can be expanded with man:gpart[8].  If the partition is the last one on a virtual disk, and the disk is expanded, the partition can then be expanded.ÚiFreeBSD å…·æœ‰ man:growfs[8] å‘½ä»¤ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶å¢åŠ æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°ï¼Œä»è€Œæ¶ˆé™¤äº†è¿™ä¸€é™åˆ¶ã€‚æ–‡ä»¶ç³»ç»Ÿåªèƒ½æ‰©å±•åˆ°æ‰€åœ¨åˆ†åŒºçš„å¯ç”¨ç©ºé—´ä¸­ã€‚å¦‚æœåˆ†åŒºåé¢æœ‰ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨ man:gpart[8] æ¥æ‰©å±•åˆ†åŒºã€‚å¦‚æœåˆ†åŒºæ˜¯è™šæ‹Ÿç£ç›˜ä¸Šçš„æœ€åä¸€ä¸ªåˆ†åŒºï¼Œå¹¶ä¸”ç£ç›˜è¢«æ‰©å±•äº†ï¼Œé‚£ä¹ˆå¯ä»¥æ‰©å±•è¯¥åˆ†åŒºã€‚¯Disk partitions¬ç£ç›˜åˆ†åŒºÚFile systems are contained in _partitions_.  Disks are divided into partitions using one of several partitioning schemes; see <<bsdinstall-part-manual>>.  The newer scheme is GPT; older BIOS-based computers use MBR.  GPT supports division of a disk into partitions with a size, offset, and type.  It supports a large number of partitions and partition types, and is recommended whenever its use is possible.  GPT partitions use the disk name with a suffix, where the suffix is `p1` for the first partition, `p2` for the second, and so on.  MBR, however, supports only a small number of partitions.  The MBR partitions are known in FreeBSD as `slices`.  Slices may be used for different operating systems.  FreeBSD slices are subdivided into partitions using BSD labels (see man:bsdlabel[8]).Ú­æ–‡ä»¶ç³»ç»ŸåŒ…å«åœ¨ _åˆ†åŒº_ ä¸­ã€‚ä½¿ç”¨å¤šç§åˆ†åŒºæ–¹æ¡ˆå°†ç£ç›˜åˆ’åˆ†ä¸ºåˆ†åŒºï¼›å‚è§ <<bsdinstall-part-manual>>ã€‚è¾ƒæ–°çš„æ–¹æ¡ˆæ˜¯ GPT ï¼›æ—§çš„åŸºäº BIOS çš„è®¡ç®—æœºä½¿ç”¨ MBRã€‚GPT æ”¯æŒå°†ç£ç›˜åˆ’åˆ†ä¸ºå…·æœ‰å¤§å°ã€åç§»å’Œç±»å‹çš„åˆ†åŒºã€‚å®ƒæ”¯æŒå¤§é‡çš„åˆ†åŒºå’Œåˆ†åŒºç±»å‹ï¼Œå¹¶ä¸”åœ¨å¯èƒ½çš„æƒ…å†µä¸‹æ¨èä½¿ç”¨ã€‚GPT åˆ†åŒºä½¿ç”¨ç£ç›˜åç§°åŠ åç¼€ï¼Œåç¼€ä¸º `p1` è¡¨ç¤ºç¬¬ä¸€ä¸ªåˆ†åŒºï¼Œ`p2` è¡¨ç¤ºç¬¬äºŒä¸ªåˆ†åŒºï¼Œä¾æ­¤ç±»æ¨ã€‚ç„¶è€Œï¼ŒMBR ä»…æ”¯æŒå°‘é‡çš„åˆ†åŒºã€‚åœ¨ FreeBSD ä¸­ï¼ŒMBR åˆ†åŒºè¢«ç§°ä¸º `slices`ã€‚ Slices å¯ä»¥ç”¨äºä¸åŒçš„æ“ä½œç³»ç»Ÿã€‚ FreeBSD slices ä½¿ç”¨ BSD æ ‡ç­¾è¿›è¡Œåˆ†åŒºç»†åˆ†ï¼ˆå‚è§ man:bsdlabel[8]ï¼‰ã€‚ÚÇSlice numbers follow the device name, prefixed with an `s`, starting at 1.  So "da0__s1__" is the first slice on the first SCSI drive.  There can only be four physical slices on a disk, but there can be logical slices inside physical slices of the appropriate type.  These extended slices are numbered starting at 5, so "ada0__s5__" is the first extended slice on the first SATA disk.  These devices are used by file systems that expect to occupy a slice.Ú¯Slice å·ç éµå¾ªè®¾å¤‡åç§°ï¼Œä»¥ `s` ä¸ºå‰ç¼€ï¼Œä» 1 å¼€å§‹ã€‚å› æ­¤ï¼Œâ€œda0__s1__â€æ˜¯ç¬¬ä¸€ä¸ª SCSI é©±åŠ¨å™¨ä¸Šçš„ç¬¬ä¸€ä¸ª sliceã€‚ä¸€ä¸ªç£ç›˜ä¸Šåªèƒ½æœ‰å››ä¸ªç‰©ç† sliceï¼Œä½†æ˜¯åœ¨é€‚å½“ç±»å‹çš„ç‰©ç†åˆ‡ç‰‡å†…å¯ä»¥æœ‰é€»è¾‘ sliceã€‚è¿™äº›æ‰©å±• slice ä» 5 å¼€å§‹ç¼–å·ï¼Œå› æ­¤â€œada0__s5__â€æ˜¯ç¬¬ä¸€ä¸ª SATA ç£ç›˜ä¸Šçš„ç¬¬ä¸€ä¸ªæ‰©å±• sliceã€‚è¿™äº›è®¾å¤‡ç”±å¸Œæœ›å ç”¨ä¸€ä¸ª slice çš„æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ã€‚ÙãEach GPT or BSD partition can contain only one file system, which means that file systems are often described by either their typical mount point in the file system hierarchy, or the name of the partition they are contained in.ÙÁæ¯ä¸ª GPT æˆ– BSD åˆ†åŒºåªèƒ½åŒ…å«ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€æ–‡ä»¶ç³»ç»Ÿé€šå¸¸é€šè¿‡å…¶åœ¨æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­çš„å…¸å‹æŒ‚è½½ç‚¹æˆ–å®ƒä»¬æ‰€åŒ…å«çš„åˆ†åŒºçš„åç§°æ¥æè¿°ã€‚ÚuFreeBSD also uses disk space for _swap space_ to provide _virtual memory_.  This allows your computer to behave as though it has much more memory than it actually does.  When FreeBSD runs out of memory, it moves some of the data that is not currently being used to the swap space, and moves it back in (moving something else out) when it needs it.  This is called _paging_.ÚJFreeBSD è¿˜ä½¿ç”¨ç£ç›˜ç©ºé—´ä½œä¸º _äº¤æ¢ç©ºé—´_ æ¥æä¾› _è™šæ‹Ÿå†…å­˜_ã€‚è¿™ä½¿å¾—æ‚¨çš„è®¡ç®—æœºå¯ä»¥è¡¨ç°å¾—å¥½åƒå®ƒæ‹¥æœ‰æ¯”å®é™…æ›´å¤šçš„å†…å­˜ã€‚å½“ FreeBSD å†…å­˜ä¸è¶³æ—¶ï¼Œå®ƒå°†ä¸€äº›å½“å‰æœªä½¿ç”¨çš„æ•°æ®ç§»åŠ¨åˆ°äº¤æ¢ç©ºé—´ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†å…¶ç§»å›ï¼ˆå°†å…¶ä»–æ•°æ®ç§»å‡ºï¼‰ã€‚è¿™è¢«ç§°ä¸º _åˆ†é¡µ_ã€‚ÙBSome BSD partitions have certain conventions associated with them.Ù/ä¸€äº› BSD åˆ†åŒºä¸ç‰¹å®šçš„çº¦å®šç›¸å…³è”ã€‚©Partition¦åˆ†åŒºªConvention¦æƒ¯ä¾‹Ù'Normally contains the root file system.¾é€šå¸¸åŒ…å«æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚½Normally contains swap space.»é€šå¸¸åŒ…å«äº¤æ¢ç©ºé—´ã€‚ÙåNormally the same size as the enclosing slice. This allows utilities that need to work on the entire slice, such as a bad block scanner, to work on the `c` partition. A file system would not normally be created on this partition.ÙĞé€šå¸¸ä¸åŒ…å«çš„ slice å¤§å°ç›¸åŒã€‚è¿™æ ·å¯ä»¥ä½¿éœ€è¦åœ¨æ•´ä¸ª slice ä¸Šå·¥ä½œçš„å®ç”¨ç¨‹åºï¼ˆä¾‹å¦‚åå—æ‰«æå™¨ï¼‰èƒ½å¤Ÿåœ¨ `c` åˆ†åŒºä¸Šå·¥ä½œã€‚é€šå¸¸ä¸ä¼šåœ¨æ­¤åˆ†åŒºä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿã€‚Ù„Partition `d` used to have a special meaning associated with it, although that is now gone and `d` may work as any normal partition.Ùuåˆ†åŒº `d` æ›¾ç»æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å«ä¹‰ï¼Œä½†ç°åœ¨å·²ç»æ¶ˆå¤±äº†ï¼Œ`d` å¯ä»¥åƒä»»ä½•æ™®é€šåˆ†åŒºä¸€æ ·å·¥ä½œã€‚Ú_Slices and "dangerously dedicated" physical drives contain BSD partitions, which are represented as letters from `a` to `h`.  This letter is appended to the device name, so "da0__a__" is the `a` partition on the first `da` drive, which is "dangerously dedicated".  "ada1s3__e__" is the fifth partition in the third slice of the second SATA disk drive.Ú\Slices å’Œâ€œå±é™©ä¸“ç”¨â€ç‰©ç†é©±åŠ¨å™¨åŒ…å« BSD åˆ†åŒºï¼Œè¿™äº›åˆ†åŒºç”¨å­—æ¯ `a` åˆ° `h` è¡¨ç¤ºã€‚è¿™ä¸ªå­—æ¯è¢«é™„åŠ åˆ°è®¾å¤‡åç§°ä¸Šï¼Œæ‰€ä»¥â€œ da0__a__â€æ˜¯ç¬¬ä¸€ä¸ª `da` é©±åŠ¨å™¨ä¸Šçš„ `a` åˆ†åŒºï¼Œè¯¥é©±åŠ¨å™¨æ˜¯â€œå±é™©ä¸“ç”¨â€çš„ã€‚â€œada1s3__e__â€æ˜¯ç¬¬äºŒä¸ª SATA ç£ç›˜é©±åŠ¨å™¨çš„ç¬¬ä¸‰ä¸ª slice ä¸­çš„ç¬¬äº”ä¸ªåˆ†åŒºã€‚Ú	Finally, each disk on the system is identified.  A disk name starts with a code that indicates the type of disk, and then a number, indicating which disk it is.  Unlike partitions and slices, disk numbering starts at 0.  Common codes are listed in <<disks-naming>>.Úæœ€åï¼Œç³»ç»Ÿä¸Šçš„æ¯ä¸ªç£ç›˜éƒ½æœ‰ä¸€ä¸ªæ ‡è¯†ã€‚ç£ç›˜åç§°ä»¥è¡¨ç¤ºç£ç›˜ç±»å‹çš„ä»£ç å¼€å¤´ï¼Œç„¶åæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºå®ƒæ˜¯ç¬¬å‡ ä¸ªç£ç›˜ã€‚ä¸åˆ†åŒºå’Œåˆ‡ç‰‡ä¸åŒï¼Œç£ç›˜ç¼–å·ä» 0 å¼€å§‹ã€‚å¸¸è§çš„ä»£ç åˆ—åœ¨ <<disks-naming>> ä¸­ã€‚ÙôWhen referring to a partition in a slice, include the disk name, `s`, the slice number, and then the partition letter.  Examples are shown in <<basics-disk-slice-part>>.  GPT partitions include the disk name, `p`, and then the partition number.ÙÎåœ¨å¼•ç”¨ slice ä¸­çš„åˆ†åŒºæ—¶ï¼Œè¯·åŒ…æ‹¬ç£ç›˜åç§°ã€`s` ã€åˆ‡ç‰‡ç¼–å·ï¼Œç„¶åæ˜¯åˆ†åŒºå­—æ¯ã€‚ç¤ºä¾‹è§ <<basics-disk-slice-part>> ã€‚ GPT åˆ†åŒºåŒ…æ‹¬ç£ç›˜åç§°ã€`p`ï¼Œç„¶åæ˜¯åˆ†åŒºç¼–å·ã€‚ÙY<<basics-concept-disk-model>> shows a conceptual model of a disk layout using MBR slices.ÙY<<basics-concept-disk-model>> å±•ç¤ºäº†ä½¿ç”¨ MBR åˆ†åŒºçš„ç£ç›˜å¸ƒå±€çš„æ¦‚å¿µæ¨¡å‹ã€‚ÚqWhen installing FreeBSD, configure the disk slices if using MBR, and create partitions within the slice to be used for FreeBSD.  If using GPT, configure partitions for each file system.  In either case, create a file system or swap space in each partition, and decide where each file system will be mounted.  See man:gpart[8] for information on manipulating partitions.Úkåœ¨å®‰è£… FreeBSD æ—¶ï¼Œå¦‚æœä½¿ç”¨ MBRï¼Œè¯·é…ç½®ç£ç›˜ sliceï¼Œå¹¶åœ¨ slice å†…åˆ›å»ºç”¨äº FreeBSD çš„åˆ†åŒºã€‚å¦‚æœä½¿ç”¨ GPT ï¼Œè¯·ä¸ºæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿé…ç½®åˆ†åŒºã€‚æ— è®ºå“ªç§æƒ…å†µï¼Œéƒ½è¦åœ¨æ¯ä¸ªåˆ†åŒºä¸­åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿæˆ–äº¤æ¢ç©ºé—´ï¼Œå¹¶å†³å®šæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿå°†è¢«æŒ‚è½½åˆ°å“ªé‡Œã€‚æœ‰å…³æ“ä½œåˆ†åŒºçš„ä¿¡æ¯ï¼Œè¯·å‚é˜… man:gpart[8] ã€‚ÙòThe four partitions each hold a file system.  Partition `a` is used for the root file system, `d` for `/var/`, `e` for `/tmp/`, and `f` for `/usr/`.  Partition letter `c` refers to the entire slice, and so is not used for ordinary partitions.ÙÖå››ä¸ªåˆ†åŒºåˆ†åˆ«æŒæœ‰ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚åˆ†åŒº `a` ç”¨äºæ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œ`d` ç”¨äº `/var/`ï¼Œ`e` ç”¨äº `/tmp/`ï¼Œ`f` ç”¨äº `/usr/`ã€‚åˆ†åŒºå­—æ¯ `c` æŒ‡çš„æ˜¯æ•´ä¸ª sliceï¼Œå› æ­¤ä¸ç”¨äºæ™®é€šåˆ†åŒºã€‚Ù4Layout of a shared drive between Windows and FreeBSDÙ2Windows å’Œ FreeBSD ä¹‹é—´å…±äº«é©±åŠ¨å™¨çš„å¸ƒå±€Ù$Mounting and Unmounting File Systems»æŒ‚è½½å’Œå¸è½½æ–‡ä»¶ç³»ç»ŸÙÛThe file system is best visualized as a tree, rooted, as it were, at `/`. `/dev`, `/usr`, and the other directories in the root directory are branches, which may have their own branches, such as `/usr/local`, and so on.Ùºæ–‡ä»¶ç³»ç»Ÿæœ€å¥½è¢«è§†ä¸ºä¸€æ£µæ ‘ï¼Œä»¥ `/` ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚æ ¹ç›®å½•ä¸­çš„ `/dev`ã€`/usr` å’Œå…¶ä»–ç›®å½•æ˜¯åˆ†æ”¯ï¼Œå®ƒä»¬å¯èƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ¯”å¦‚ `/usr/local` ç­‰ç­‰ã€‚Ú5There are various reasons to house some of these directories on separate file systems.  `/var` contains the directories `log/`, `spool/`, and various types of temporary files, and as such, may get filled up.  Filling up the root file system is not a good idea, so splitting `/var` from `/` is often favorable.Ùüå°†ä¸€äº›ç›®å½•æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ç³»ç»Ÿä¸Šæœ‰å„ç§åŸå› ã€‚`/var` åŒ…å«äº† `log/`ã€`spool/` ä»¥åŠå„ç§ç±»å‹çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå› æ­¤å¯èƒ½ä¼šè¢«å¡«æ»¡ã€‚å¡«æ»¡æ ¹æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸æ˜æ™ºçš„ï¼Œæ‰€ä»¥å°† `/var` ä¸ `/` åˆ†ç¦»é€šå¸¸æ˜¯å¯å–çš„ã€‚Ú.Another common reason to contain certain directory trees on other file systems is if they are to be housed on separate physical disks, or are separate virtual disks, such as Network File System mounts, described in crossref:network-servers[network-nfs,â€œNetwork File System (NFS)â€], or CDROM drives.Ú1å°†æŸäº›ç›®å½•æ ‘åŒ…å«åœ¨å…¶ä»–æ–‡ä»¶ç³»ç»Ÿä¸­çš„å¦ä¸€ä¸ªå¸¸è§åŸå› æ˜¯å®ƒä»¬å°†è¢«æ”¾ç½®åœ¨å•ç‹¬çš„ç‰©ç†ç£ç›˜ä¸Šï¼Œæˆ–è€…æ˜¯å•ç‹¬çš„è™šæ‹Ÿç£ç›˜ï¼Œä¾‹å¦‚ç½‘ç»œæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ï¼Œå¦‚  crossref:network-servers[network-nfs,â€œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆ NFS ï¼‰â€] æè¿°çš„ï¼Œæˆ–è€… CDROM é©±åŠ¨å™¨ã€‚²Using man:mount[8]³ä½¿ç”¨ man:mount[8]ÙRFile systems are mounted using man:mount[8].  The most basic syntax is as follows:ÙJæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ man:mount[8] è¿›è¡ŒæŒ‚è½½ã€‚æœ€åŸºæœ¬çš„è¯­æ³•å¦‚ä¸‹ï¼šÙZA file system listed in `/etc/fstab` can also be mounted by providing just the mountpoint.ÙSåœ¨ `/etc/fstab` ä¸­åˆ—å‡ºçš„æ–‡ä»¶ç³»ç»Ÿä¹Ÿå¯ä»¥é€šè¿‡æä¾›æŒ‚è½½ç‚¹æ¥æŒ‚è½½ã€‚ÙpThis command provides many options which are described in man:mount[8].  The most commonly used options include:Ùhè¯¥å‘½ä»¤æä¾›äº†è®¸å¤šé€‰é¡¹ï¼Œè¿™äº›é€‰é¡¹åœ¨ man:mount[8] ä¸­æœ‰æè¿°ã€‚æœ€å¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬ï¼š­Mount Options¬æŒ‚è½½é€‰é¡¹Ù‘Mount all the file systems listed in `/etc/fstab`, except those marked as "noauto", excluded by the `-t` flag, or those that are already mounted.Ù¤æŒ‚è½½ `/etc/fstab` ä¸­åˆ—å‡ºçš„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†é‚£äº›æ ‡è®°ä¸ºâ€œnoautoâ€ã€è¢« `-t` æ ‡å¿—æ’é™¤çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä»¥åŠå·²ç»æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚¤`-d`¡`Ù¨Do everything except for the actual mount system call.  This option is useful in conjunction with the `-v` flag to determine what man:mount[8] is actually trying to do.Ùªæ‰§è¡Œé™¤å®é™…æŒ‚è½½ç³»ç»Ÿè°ƒç”¨ä¹‹å¤–çš„æ‰€æœ‰æ“ä½œã€‚è¿™ä¸ªé€‰é¡¹ä¸ `-v` æ ‡å¿—ä¸€èµ·ä½¿ç”¨éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç¡®å®š man:mount[8] å®é™…ä¸Šæ­£åœ¨å°è¯•åšä»€ä¹ˆã€‚Ù¤Force the mount of an unclean file system (dangerous), or the revocation of write access when downgrading a file system's mount status from read-write to read-only.Ù™å¼ºåˆ¶æŒ‚è½½ä¸€ä¸ªä¸å¹²å‡€çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆå±é™©æ“ä½œï¼‰ï¼Œæˆ–è€…åœ¨å°†æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½çŠ¶æ€ä»è¯»å†™æ”¹ä¸ºåªè¯»æ—¶ï¼Œæ’¤é”€å†™è®¿é—®æƒé™ã€‚ÙMount the specified file system type or mount only file systems of the given type, if `-a` is included.  "ufs" is the default file system type.Ù“å¦‚æœåŒ…å« `-a` é€‰é¡¹ï¼Œåˆ™æŒ‚è½½æŒ‡å®šçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹æˆ–ä»…æŒ‚è½½ç»™å®šç±»å‹çš„æ–‡ä»¶ç³»ç»Ÿã€‚â€œufsâ€æ˜¯é»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚Ù(Update mount options on the file system.Ù$æ›´æ–°æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½é€‰é¡¹ã€‚«Be verbose.µæä¾›è¯¦ç»†ä¿¡æ¯ã€‚Ù!Mount the file system read-write.Ù'å°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¸ºè¯»å†™æ¨¡å¼ã€‚ÙFThe following options can be passed to `-o` as a comma-separated list:ÙAå¯ä»¥å°†ä»¥ä¸‹é€‰é¡¹ä½œä¸ºé€—å·åˆ†éš”çš„åˆ—è¡¨ä¼ é€’ç»™ `-o`ï¼šÙcDo not interpret setuid or setgid flags on the file system.  This is also a useful security option.Ùeä¸è¦è¯»å–æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ `setuid` æˆ– `setgid` æ ‡å¿—ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å®‰å…¨é€‰é¡¹ã€‚³Using man:umount[8]´ä½¿ç”¨ man:umount[8]ÙƒTo unmount a file system use man:umount[8].  This command takes one parameter which can be a mountpoint, device name, `-a` or `-A`.Ù‹è¦å¸è½½æ–‡ä»¶ç³»ç»Ÿï¼Œè¯·ä½¿ç”¨ man:umount[8] å‘½ä»¤ã€‚è¯¥å‘½ä»¤æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯æŒ‚è½½ç‚¹ã€è®¾å¤‡åç§°ã€`-a` æˆ– `-A`ã€‚Ù´All forms take `-f` to force unmounting, and `-v` for verbosity.  Be warned that `-f` is not generally a good idea as it might crash the computer or damage data on the file system.Ùàæ‰€æœ‰çš„è¡¨å•éƒ½å¯ä»¥ä½¿ç”¨ `-f` æ¥å¼ºåˆ¶å¸è½½ï¼Œå¹¶ä¸”ä½¿ç”¨ `-v` æ¥æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚è¯·æ³¨æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å»ºè®®ä½¿ç”¨ `-f`ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šå¯¼è‡´è®¡ç®—æœºå´©æºƒæˆ–è€…æŸåæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ•°æ®ã€‚Ù©To unmount all mounted file systems, or just the file system types listed after `-t`, use `-a` or `-A`.  Note that `-A` does not attempt to unmount the root file system.ÙÂè¦å¸è½½æ‰€æœ‰å·²æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ–è€…åªå¸è½½åœ¨ `-t` åé¢åˆ—å‡ºçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œè¯·ä½¿ç”¨ `-a` æˆ– `-A` é€‰é¡¹ã€‚è¯·æ³¨æ„ï¼Œ`-A` é€‰é¡¹ä¸ä¼šå°è¯•å¸è½½æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚µProcesses and Daemonsµè¿›ç¨‹å’Œå®ˆæŠ¤è¿›ç¨‹ÙŒGuide about how to install FreeBSD, the minimum hardware requirements and supported architectures, how to create the installation media, etcÙxå…³äºå¦‚ä½•å®‰è£… FreeBSD çš„æŒ‡å—ï¼ŒåŒ…æ‹¬æœ€ä½ç¡¬ä»¶è¦æ±‚å’Œæ”¯æŒçš„æ¶æ„ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºå®‰è£…ä»‹è´¨ç­‰ã€‚½Chapter 2. Installing FreeBSD¸ç¬¬äºŒç«  å®‰è£… FreeBSD²Installing FreeBSD®å®‰è£… FreeBSDÙõFreeBSD supports different architectures including amd64, ARM(R), RISC-V(R), and PowerPC(R).  Depending on the architecture and platform, different images can be link:https://www.freebsd.org/where/[downloaded] to install or directly run FreeBSD.ÙÜFreeBSD æ”¯æŒå¤šç§æ¶æ„ï¼ŒåŒ…æ‹¬ amd64 ã€ ARM(R) ã€ RISC-V(R) å’Œ PowerPC(R) ã€‚æ ¹æ®ä¸åŒçš„æ¶æ„å’Œå¹³å°ï¼Œå¯ä»¥ link:https://www.freebsd.org/where/[ä¸‹è½½] ä¸åŒçš„é•œåƒæ¥å®‰è£…æˆ–ç›´æ¥è¿è¡Œ FreeBSD ã€‚´The image types are:²é•œåƒç±»å‹æœ‰ï¼šÚVirtual Machine disk images, such as `qcow2`, `vmdk`, `vhd`, and raw device images. These are not installation images, but images that have FreeBSD preinstalled and ready for post-installation tasks. Virtual machine images are also commonly used in cloud environments.Ùéè™šæ‹Ÿæœºç£ç›˜é•œåƒï¼Œä¾‹å¦‚ `qcow2`ã€`vmdk`ã€`vhd` å’ŒåŸå§‹è®¾å¤‡é•œåƒã€‚è¿™äº›ä¸æ˜¯å®‰è£…é•œåƒï¼Œè€Œæ˜¯å·²ç»é¢„è£…äº† FreeBSD å¹¶å‡†å¤‡å¥½è¿›è¡Œåå®‰è£…ä»»åŠ¡çš„é•œåƒã€‚è™šæ‹Ÿæœºé•œåƒåœ¨äº‘ç¯å¢ƒä¸­ä¹Ÿè¢«å¹¿æ³›ä½¿ç”¨ã€‚Ù¥SD card images, for embedded systems such as Raspberry Pi. These files must be uncompressed and written as a raw image to an SD card, from which the board will boot.Ù•SD å¡é•œåƒï¼Œç”¨äºæ ‘è“æ´¾ç­‰åµŒå…¥å¼ç³»ç»Ÿã€‚è¿™äº›æ–‡ä»¶å¿…é¡»è§£å‹ç¼©å¹¶ä»¥åŸå§‹é•œåƒçš„å½¢å¼å†™å…¥ SD å¡ï¼Œä¸»æ¿å°†ä» SD å¡å¯åŠ¨ã€‚Ù„Installation images to boot from an ISO or USB device to install FreeBSD on a drive for the usual desktop, laptop, or server system.Ùå®‰è£…é•œåƒç”¨äºä» ISO æˆ– USB è®¾å¤‡å¼•å¯¼ï¼Œä»¥åœ¨å¸¸è§çš„å°å¼æœºã€ç¬”è®°æœ¬ç”µè„‘æˆ–æœåŠ¡å™¨ç³»ç»Ÿä¸Šå®‰è£… FreeBSD åˆ°é©±åŠ¨å™¨ã€‚Ú3The rest of this chapter describes the third case, explaining how to install FreeBSD using the text-based installation program named bsdinstall.  There may be minor differences between the installer and what is shown here, so use this chapter as a general guide rather than as a set of literal instructions.Úæœ¬ç« çš„å…¶ä½™éƒ¨åˆ†æè¿°äº†ç¬¬ä¸‰ç§æƒ…å†µï¼Œè§£é‡Šäº†å¦‚ä½•ä½¿ç”¨åä¸º bsdinstall çš„åŸºäºæ–‡æœ¬çš„å®‰è£…ç¨‹åºå®‰è£… FreeBSD ã€‚å®‰è£…ç¨‹åºä¸æ­¤å¤„æ˜¾ç¤ºçš„å†…å®¹å¯èƒ½å­˜åœ¨ç»†å¾®å·®å¼‚ï¼Œå› æ­¤è¯·å°†æœ¬ç« ä½œä¸ºä¸€ä»½é€šç”¨æŒ‡å—ï¼Œè€Œä¸æ˜¯ä¸€ç»„å­—é¢æŒ‡ä»¤ã€‚ÙCHow to obtain FreeBSD images and create FreeBSD installation media.Ù<å¦‚ä½•è·å– FreeBSD é•œåƒå¹¶åˆ›å»º FreeBSD å®‰è£…ä»‹è´¨ã€‚¸How to start bsdinstall.»å¦‚ä½•å¯åŠ¨ bsdinstall ã€‚ÙJThe questions bsdinstall will ask, what they mean, and how to answer them.ÙGbsdinstall å°†ä¼šè¯¢é—®çš„é—®é¢˜ï¼Œå®ƒä»¬çš„å«ä¹‰ä»¥åŠå¦‚ä½•å›ç­”ã€‚Ù*How to troubleshoot a failed installation.Ù$å¦‚ä½•æ’é™¤å®‰è£…å¤±è´¥çš„é—®é¢˜ã€‚ÙMHow to access a live version of FreeBSD before committing to an installation.Ù?åœ¨è¿›è¡Œå®‰è£…ä¹‹å‰ï¼Œå¦‚ä½•è®¿é—® FreeBSD çš„æ´»åŠ¨ç‰ˆæœ¬ã€‚½Minimum Hardware Requirements²æœ€ä½ç¡¬ä»¶è¦æ±‚Ú‚The hardware requirements to install FreeBSD vary by architecture and version.  Hardware architectures and devices supported by a FreeBSD release are listed on the link:https://www.FreeBSD.org/releases/[FreeBSD Release Information] page.  The link:https://www.FreeBSD.org/where/[FreeBSD download page] also has recommendations for choosing the correct image for different architectures.Ú2å®‰è£… FreeBSD çš„ç¡¬ä»¶è¦æ±‚å› æ¶æ„å’Œç‰ˆæœ¬è€Œå¼‚ã€‚æ”¯æŒ FreeBSD å‘å¸ƒçš„ç¡¬ä»¶æ¶æ„å’Œè®¾å¤‡å¯ä»¥åœ¨ link:https://www.FreeBSD.org/releases/[FreeBSD å‘å¸ƒä¿¡æ¯] é¡µé¢ä¸Šæ‰¾åˆ°ã€‚link:https://www.FreeBSD.org/where/[FreeBSD ä¸‹è½½é¡µé¢] è¿˜æä¾›äº†é€‰æ‹©ä¸åŒæ¶æ„çš„æ­£ç¡®é•œåƒçš„å»ºè®®ã€‚¶Pre-Installation Tasks²å®‰è£…å‰çš„ä»»åŠ¡Ú,Once it has been determined that the system meets the minimum hardware requirements for installing FreeBSD, the installation file should be downloaded and the installation media prepared.  Before doing this, check that the system is ready for an installation by verifying the items in this checklist:ÙÒä¸€æ—¦ç¡®å®šç³»ç»Ÿæ»¡è¶³å®‰è£… FreeBSD çš„æœ€ä½ç¡¬ä»¶è¦æ±‚ï¼Œå°±åº”è¯¥ä¸‹è½½å®‰è£…æ–‡ä»¶å¹¶å‡†å¤‡å®‰è£…ä»‹è´¨ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè¯·é€šè¿‡éªŒè¯ä»¥ä¸‹æ¸…å•ä¸­çš„é¡¹ç›®ï¼Œç¡®ä¿ç³»ç»Ÿå·²å‡†å¤‡å¥½è¿›è¡Œå®‰è£…ï¼š¹*Back Up Important Data*
¶*å¤‡ä»½é‡è¦æ•°æ®* 
ÚÄBefore installing any operating system, *always* backup all important data first.  Do not store the backup on the system being installed.  Instead, save the data to a removable disk such as a USB drive, another system on the network, or an online backup service.  Test the backup before starting the installation to make sure it contains all of the needed files.  Once the installer formats the system's disk, all data stored on that disk will be lost.Úªåœ¨å®‰è£…ä»»ä½•æ“ä½œç³»ç»Ÿä¹‹å‰ï¼Œ *ä¸€å®šè¦* é¦–å…ˆå¤‡ä»½æ‰€æœ‰é‡è¦æ•°æ®ã€‚ä¸è¦å°†å¤‡ä»½å­˜å‚¨åœ¨æ­£åœ¨å®‰è£…çš„ç³»ç»Ÿä¸Šã€‚è€Œæ˜¯å°†æ•°æ®ä¿å­˜åˆ°å¯ç§»åŠ¨çš„ç£ç›˜ï¼Œå¦‚ USB é©±åŠ¨å™¨ã€ç½‘ç»œä¸Šçš„å¦ä¸€ä¸ªç³»ç»Ÿæˆ–åœ¨çº¿å¤‡ä»½æœåŠ¡ä¸­ã€‚åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œæµ‹è¯•å¤‡ä»½ä»¥ç¡®ä¿å®ƒåŒ…å«æ‰€æœ‰æ‰€éœ€çš„æ–‡ä»¶ã€‚ä¸€æ—¦å®‰è£…ç¨‹åºæ ¼å¼åŒ–äº†ç³»ç»Ÿçš„ç£ç›˜ï¼Œè¯¥ç£ç›˜ä¸Šå­˜å‚¨çš„æ‰€æœ‰æ•°æ®éƒ½å°†ä¸¢å¤±ã€‚Ù"*Decide Where to Install FreeBSD*
Ù!*å†³å®šåœ¨å“ªé‡Œå®‰è£… FreeBSD* 
ÙÍIf FreeBSD will be the only operating system installed, this step can be skipped.  But if FreeBSD will share the disk with another operating system, decide which disk or partition will be used for FreeBSD.ÙÀå¦‚æœåªå®‰è£… FreeBSD ä½œä¸ºå”¯ä¸€çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚ä½†å¦‚æœ FreeBSD å°†ä¸å…¶ä»–æ“ä½œç³»ç»Ÿå…±äº«ç£ç›˜ï¼Œåˆ™éœ€è¦å†³å®šå“ªä¸ªç£ç›˜æˆ–åˆ†åŒºå°†ç”¨äº FreeBSD ã€‚ÚhIn the i386 and amd64 architectures, disks can be divided into multiple partitions using one of two partitioning schemes.  A traditional _Master Boot Record_ (MBR) holds a partition table defining up to four _primary partitions_.  For historical reasons, FreeBSD calls these primary partition _slices_.  One of these primary partitions can be made into an _extended partition_ containing multiple _logical partitions_.  The _GUID Partition Table_ (GPT) is a newer and simpler method of partitioning a disk.  Common GPT implementations allow up to 128 partitions per disk, eliminating the need for logical partitions.Úÿåœ¨ i386 å’Œ amd64 æ¶æ„ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ç§åˆ†åŒºæ–¹æ¡ˆå°†ç£ç›˜åˆ†æˆå¤šä¸ªåˆ†åŒºã€‚ä¼ ç»Ÿçš„ _ä¸»å¼•å¯¼è®°å½•ï¼ˆMBRï¼‰_ ä¿å­˜äº†ä¸€ä¸ªåŒ…å«æœ€å¤šå››ä¸ª _ä¸»åˆ†åŒº_ çš„åˆ†åŒºè¡¨ã€‚å‡ºäºå†å²åŸå› ï¼ŒFreeBSD å°†è¿™äº›ä¸»åˆ†åŒºç§°ä¸º _slices_ã€‚å…¶ä¸­ä¸€ä¸ªä¸»åˆ†åŒºå¯ä»¥æˆä¸ºåŒ…å«å¤šä¸ª _é€»è¾‘åˆ†åŒº_ çš„ _æ‰©å±•åˆ†åŒº_ã€‚ _GUID åˆ†åŒºè¡¨ï¼ˆGPTï¼‰_ æ˜¯ä¸€ç§è¾ƒæ–°ä¸”æ›´ç®€å•çš„ç£ç›˜åˆ†åŒºæ–¹æ³•ã€‚å¸¸è§çš„ GPT å®ç°å…è®¸æ¯ä¸ªç£ç›˜æœ€å¤šæœ‰ 128 ä¸ªåˆ†åŒºï¼Œæ¶ˆé™¤äº†é€»è¾‘åˆ†åŒºçš„éœ€è¦ã€‚ÚFThe FreeBSD boot loader requires either a primary or GPT partition.  If all of the primary or GPT partitions are already in use, one must be freed for FreeBSD.  To create a partition without deleting existing data, use a partition resizing tool to shrink an existing partition and create a new partition using the freed space.ÚYFreeBSD å¼•å¯¼åŠ è½½ç¨‹åºéœ€è¦ä¸€ä¸ªä¸»åˆ†åŒºæˆ– GPT åˆ†åŒºã€‚å¦‚æœæ‰€æœ‰çš„ä¸»åˆ†åŒºæˆ– GPT åˆ†åŒºå·²ç»è¢«ä½¿ç”¨ï¼Œå°±å¿…é¡»é‡Šæ”¾ä¸€ä¸ªåˆ†åŒºç»™ FreeBSD ä½¿ç”¨ã€‚ä¸ºäº†åœ¨ä¸åˆ é™¤ç°æœ‰æ•°æ®çš„æƒ…å†µä¸‹åˆ›å»ºä¸€ä¸ªåˆ†åŒºï¼Œå¯ä»¥ä½¿ç”¨åˆ†åŒºè°ƒæ•´å·¥å…·æ¥ç¼©å°ä¸€ä¸ªç°æœ‰åˆ†åŒºï¼Œå¹¶ä½¿ç”¨é‡Šæ”¾å‡ºçš„ç©ºé—´åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†åŒºã€‚Ù±The boot options menu is divided into two sections.  The first section can be used to either return to the main boot menu or to reset any toggled options back to their defaults.Ùå¯åŠ¨é€‰é¡¹èœå•åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†å¯ä»¥ç”¨äºè¿”å›ä¸»å¯åŠ¨èœå•æˆ–å°†ä»»ä½•åˆ‡æ¢é€‰é¡¹é‡ç½®ä¸ºé»˜è®¤å€¼ã€‚ÚThe next section is used to toggle the available options to `On` or `Off` by pressing the option's highlighted number or character.  The system will always boot using the settings for these options until they are modified.  Several options can be toggled using this menu:Ùùä¸‹ä¸€èŠ‚ç”¨äºé€šè¿‡æŒ‰ä¸‹é€‰é¡¹çš„çªå‡ºæ˜¾ç¤ºçš„æ•°å­—æˆ–å­—ç¬¦æ¥åˆ‡æ¢å¯ç”¨é€‰é¡¹çš„çŠ¶æ€ä¸º `On` æˆ– `Off`ã€‚ç³»ç»Ÿå°†å§‹ç»ˆä½¿ç”¨è¿™äº›é€‰é¡¹çš„è®¾ç½®è¿›è¡Œå¼•å¯¼ï¼Œç›´åˆ°å®ƒä»¬è¢«ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨æ­¤èœå•åˆ‡æ¢å¤šä¸ªé€‰é¡¹çš„çŠ¶æ€ã€‚ÙS`ACPI Support`: If the system hangs during boot, try toggling this option to `Off`.Ù~`ACPI æ”¯æŒï¼ˆACPI Supportï¼‰`: å¦‚æœç³»ç»Ÿåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å‡ºç°å¡æ­»çš„æƒ…å†µï¼Œè¯·å°è¯•å°†æ­¤é€‰é¡¹åˆ‡æ¢ä¸º `Off`ã€‚Ùz`Safe Mode`: If the system still hangs during boot even with `ACPI Support` set to `Off`, try setting this option to `On`.Ù¥`å®‰å…¨æ¨¡å¼ï¼ˆSafe Modeï¼‰`ï¼šå¦‚æœç³»ç»Ÿåœ¨å¯åŠ¨æ—¶å³ä½¿å°† `ACPI Support` è®¾ç½®ä¸º `Off` ä»ç„¶å‡ºç°å¡é¡¿çš„æƒ…å†µï¼Œè¯·å°è¯•å°†æ­¤é€‰é¡¹è®¾ç½®ä¸º `On`ã€‚ÙÉ`Single User`: Toggle this option to `On` to fix an existing FreeBSD installation as described in crossref:boot[boot-singleuser,â€œSingle-User Modeâ€]. Once the problem is fixed, set it back to `Off`.ÙÙ`å•ç”¨æˆ·æ¨¡å¼ï¼ˆSingle Userï¼‰`ï¼šå°†æ­¤é€‰é¡¹åˆ‡æ¢ä¸º `On`ï¼Œä»¥ä¿®å¤ç°æœ‰çš„ FreeBSD å®‰è£…ï¼Œå¦‚ crossref:boot[boot-singleuser ,â€œå•ç”¨æˆ·æ¨¡å¼â€] ä¸­æ‰€è¿°ã€‚ä¸€æ—¦é—®é¢˜è§£å†³ï¼Œå°†å…¶è®¾ç½®ä¸º `Off`ã€‚Ù™`Verbose`: Toggle this option to `On` to see more detailed messages during the boot process. This can be useful when troubleshooting a piece of hardware.ÙŠ`Verbose`ï¼šå°†æ­¤é€‰é¡¹åˆ‡æ¢ä¸º `On` ä»¥åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æ˜¾ç¤ºæ›´è¯¦ç»†çš„æ¶ˆæ¯ã€‚åœ¨æ’é™¤ç¡¬ä»¶é—®é¢˜æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚ÚAfter making the needed selections, press kbd:[1] or kbd:[Backspace] to return to the main boot menu, then press kbd:[Enter] to continue booting into FreeBSD.  A series of boot messages will appear as FreeBSD carries out its hardware device probes and loads the installation program.  Once the boot is complete, the welcome menu shown in <<bsdinstall-choose-mode>> will be displayed.ÚIåœ¨è¿›è¡Œæ‰€éœ€çš„é€‰æ‹©åï¼ŒæŒ‰ä¸‹ kbd:[1] æˆ– kbd:[Backspace] è¿”å›åˆ°ä¸»å¼•å¯¼èœå•ï¼Œç„¶åæŒ‰ä¸‹ kbd:[Enter] ç»§ç»­å¼•å¯¼è¿›å…¥ FreeBSDã€‚FreeBSD å°†æ‰§è¡Œå…¶ç¡¬ä»¶è®¾å¤‡æ¢æµ‹å’ŒåŠ è½½å®‰è£…ç¨‹åºæ—¶ï¼Œä¸€ç³»åˆ—å¼•å¯¼æ¶ˆæ¯å°†å‡ºç°ã€‚å¼•å¯¼å®Œæˆåï¼Œå°†æ˜¾ç¤ºåœ¨ <<bsdinstall-choose-mode>> ä¸­æ˜¾ç¤ºçš„æ¬¢è¿èœå•ã€‚¬Welcome Menu¬æ¬¢è¿èœå•Ù!FreeBSD installation welcome menuºFreeBSD å®‰è£…æ¬¢è¿èœå•ÚıPress kbd:[Enter] to select the default of btn:[Install] to enter the installer.  The rest of this chapter describes how to use this installer.  Otherwise, use the right or left arrows or the colorized letter to select the desired menu item.  The btn:[Shell] can be used to access a FreeBSD shell in order to use command line utilities to prepare the disks before installation.  The btn:[Live CD] option can be used to try out FreeBSD before installing it.  The live version is described in <<using-live-cd>>.ÚÊæŒ‰ä¸‹ kbd:[Enter] é”®é€‰æ‹©é»˜è®¤çš„ btn:[Install] æŒ‰é’®è¿›å…¥å®‰è£…ç¨‹åºã€‚æœ¬ç« çš„å…¶ä½™éƒ¨åˆ†å°†æè¿°å¦‚ä½•ä½¿ç”¨æ­¤å®‰è£…ç¨‹åºã€‚å¦åˆ™ï¼Œä½¿ç”¨å³ç®­å¤´ã€å·¦ç®­å¤´æˆ–å¸¦é¢œè‰²çš„å­—æ¯é€‰æ‹©æ‰€éœ€çš„èœå•é¡¹ã€‚btn:[Shell] å¯ç”¨äºè®¿é—® FreeBSD shellï¼Œä»¥ä¾¿åœ¨å®‰è£…ä¹‹å‰ä½¿ç”¨å‘½ä»¤è¡Œå®ç”¨ç¨‹åºå‡†å¤‡ç£ç›˜ã€‚btn:[Live CD] é€‰é¡¹å¯ç”¨äºåœ¨å®‰è£…ä¹‹å‰å°è¯• FreeBSDã€‚æœ‰å…³ live ç‰ˆæœ¬çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <<using-live-cd>> ã€‚Ú7To review the boot messages, including the hardware device probe, press the upper- or lower-case kbd:[S] and then kbd:[Enter] to access a shell.  At the shell prompt, type `more /var/run/dmesg.boot` and use the space bar to scroll through the messages.  When finished, type `exit` to return to the welcome menu.Úè¦æŸ¥çœ‹å¯åŠ¨æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ç¡¬ä»¶è®¾å¤‡æ¢æµ‹ï¼Œè¯·æŒ‰ä¸‹å¤§å†™æˆ–å°å†™çš„ kbd:[S]ï¼Œç„¶åæŒ‰ä¸‹ kbd:[Enter] ä»¥è®¿é—® shellã€‚åœ¨ shell æç¤ºç¬¦ä¸‹ï¼Œé”®å…¥ `more /var/run/dmesg.boot`ï¼Œä½¿ç”¨ç©ºæ ¼é”®æ»šåŠ¨æµè§ˆæ¶ˆæ¯ã€‚å®Œæˆåï¼Œé”®å…¥ `exit` è¿”å›æ¬¢è¿èœå•ã€‚°Using bsdinstall±ä½¿ç”¨ bsdinstallÚAThis section shows the order of the bsdinstall menus and the type of information that will be asked before the system is installed.  Use the arrow keys to highlight a menu option, then kbd:[Space] to select or deselect that menu item.  When finished, press kbd:[Enter] to save the selection and move onto the next screen.Úæœ¬èŠ‚å±•ç¤ºäº† bsdinstall èœå•çš„é¡ºåºä»¥åŠåœ¨ç³»ç»Ÿå®‰è£…ä¹‹å‰å°†è¦è¯¢é—®çš„ä¿¡æ¯ç±»å‹ã€‚ä½¿ç”¨ç®­å¤´é”®æ¥çªå‡ºæ˜¾ç¤ºèœå•é€‰é¡¹ï¼Œç„¶åä½¿ç”¨ kbd:[Space] æ¥é€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©è¯¥èœå•é¡¹ã€‚å®Œæˆåï¼ŒæŒ‰ä¸‹ kbd:[Enter] ä¿å­˜é€‰æ‹©å¹¶è¿›å…¥ä¸‹ä¸€ä¸ªå±å¹•ã€‚¹Selecting the Keymap Menuµé€‰æ‹©é”®æ˜ å°„èœå•ÙmBefore starting the process, bsdinstall will load the keymap files as shown in <<bsdinstall-keymap-loading>>.Ùmåœ¨å¼€å§‹è¿‡ç¨‹ä¹‹å‰ï¼Œ bsdinstall å°†åŠ è½½é”®ç›˜æ˜ å°„æ–‡ä»¶ï¼Œå¦‚ <<bsdinstall-keymap-loading>> æ‰€ç¤ºã€‚®Keymap LoadingµæŒ‰é”®æ˜ å°„åŠ è½½ä¸­®Keymap loadingµé”®ä½æ˜ å°„åŠ è½½ä¸­ÙEMount the file system read-only.  This is identical to using `-o ro`.ÙQå°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¸ºåªè¯»æ¨¡å¼ã€‚è¿™ä¸ä½¿ç”¨ `-o ro` å‚æ•°å®Œå…¨ç›¸åŒã€‚ÙäFreeBSD is a multi-tasking operating system.  Each program running at any one time is called a _process_.  Every running command starts at least one new process and there are a number of system processes that are run by FreeBSD.ÙÑFreeBSD æ˜¯ä¸€ä¸ªå¤šä»»åŠ¡æ“ä½œç³»ç»Ÿã€‚æ¯ä¸ªåŒæ—¶è¿è¡Œçš„ç¨‹åºè¢«ç§°ä¸ºä¸€ä¸ª _è¿›ç¨‹_ã€‚æ¯ä¸ªæ­£åœ¨è¿è¡Œçš„å‘½ä»¤éƒ½ä¼šå¯åŠ¨è‡³å°‘ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶ä¸” FreeBSD è¿˜ä¼šè¿è¡Œä¸€äº›ç³»ç»Ÿè¿›ç¨‹ã€‚Ú@Each process is uniquely identified by a number called a _process ID_ (PID).  Similar to files, each process has one owner and group, and the owner and group permissions are used to determine which files and devices the process can open.  Most processes also have a parent process that started them.  For example, the shell is a process, and any command started in the shell is a process which has the shell as its parent process.  The exception is a special process called man:init[8] which is always the first process to start at boot time and which always has a PID of `1`.Úæ¯ä¸ªè¿›ç¨‹éƒ½ç”±ä¸€ä¸ªç§°ä¸º _è¿›ç¨‹ ID_ï¼ˆPIDï¼‰çš„æ•°å­—å”¯ä¸€æ ‡è¯†ã€‚ä¸æ–‡ä»¶ç±»ä¼¼ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…å’Œç»„ï¼Œå¹¶ä¸”æ‰€æœ‰è€…å’Œç»„æƒé™ç”¨äºç¡®å®šè¿›ç¨‹å¯ä»¥æ‰“å¼€å“ªäº›æ–‡ä»¶å’Œè®¾å¤‡ã€‚å¤§å¤šæ•°è¿›ç¨‹è¿˜æœ‰ä¸€ä¸ªå¯åŠ¨å®ƒä»¬çš„çˆ¶è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œshell æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œshell ä¸­å¯åŠ¨çš„ä»»ä½•å‘½ä»¤éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå…¶çˆ¶è¿›ç¨‹æ˜¯ shell ã€‚ä¾‹å¤–æƒ…å†µæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è¿›ç¨‹ï¼Œç§°ä¸º man:init[8]ï¼Œå®ƒå§‹ç»ˆæ˜¯åœ¨å¯åŠ¨æ—¶ç¬¬ä¸€ä¸ªå¯åŠ¨çš„è¿›ç¨‹ï¼Œå…¶ PID å§‹ç»ˆä¸º `1`ã€‚Ú$Some programs are not designed to be run with continuous user input and disconnect from the terminal at the first opportunity.  For example, a web server responds to web requests, rather than user input.  Mail servers are another example of this type of application.  These types of programs are known as _daemons_.  The term daemon comes from Greek mythology and represents an entity that is neither good nor evil, and which invisibly performs useful tasks.  This is why the BSD mascot is the cheerful-looking daemon with sneakers and a pitchfork.Úæœ‰äº›ç¨‹åºå¹¶ä¸æ˜¯è®¾è®¡æˆéœ€è¦è¿ç»­çš„ç”¨æˆ·è¾“å…¥ï¼Œä¹Ÿä¸èƒ½åœ¨ç¬¬ä¸€æ—¶é—´ä¸ç»ˆç«¯æ–­å¼€è¿æ¥ã€‚ä¾‹å¦‚ï¼ŒWeb æœåŠ¡å™¨å“åº” Web è¯·æ±‚ï¼Œè€Œä¸æ˜¯ç”¨æˆ·è¾“å…¥ã€‚é‚®ä»¶æœåŠ¡å™¨æ˜¯å¦ä¸€ç§è¿™ç§ç±»å‹çš„åº”ç”¨ç¨‹åºã€‚è¿™äº›ç±»å‹çš„ç¨‹åºè¢«ç§°ä¸º _å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰_ã€‚æœ¯è¯­ daemon æ¥è‡ªå¸Œè…Šç¥è¯ï¼Œä»£è¡¨ç€ä¸€ä¸ªæ—¢ä¸å–„è‰¯ä¹Ÿä¸é‚ªæ¶çš„å®ä½“ï¼Œå®ƒåœ¨ä¸å¯è§çš„æƒ…å†µä¸‹æ‰§è¡Œæœ‰ç”¨çš„ä»»åŠ¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ BSD å‰ç¥¥ç‰©æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¼€å¿ƒçš„å¸¦ç€è¿åŠ¨é‹å’Œå‰å­çš„ daemonã€‚ÚThere is a convention to name programs that normally run as daemons with a trailing "d".  For example, BIND is the Berkeley Internet Name Domain, but the actual program that executes is `named`.  The Apache web server program is `httpd` and the line printer spooling daemon is `lpd`.  This is only a naming convention.  For example, the main mail daemon for the Sendmail application is `sendmail`, and not `maild`.Ú”æœ‰ä¸€ä¸ªçº¦å®šï¼Œå³é€šå¸¸ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œçš„ç¨‹åºçš„å‘½åæ–¹å¼æ˜¯ä»¥å­—æ¯"d"ç»“å°¾çš„ã€‚ä¾‹å¦‚ï¼ŒBIND æ˜¯ Berkeley Internet Name Domain çš„ç¼©å†™ï¼Œä½†å®é™…æ‰§è¡Œçš„ç¨‹åºæ˜¯ `named`ã€‚Apache Web æœåŠ¡å™¨ç¨‹åºæ˜¯ `httpd` ï¼Œçº¿æ‰“å°æœºæ’é˜Ÿå®ˆæŠ¤è¿›ç¨‹æ˜¯ `lpd`ã€‚è¿™åªæ˜¯ä¸€ç§å‘½åçº¦å®šã€‚ä¾‹å¦‚ï¼ŒSendmail åº”ç”¨ç¨‹åºçš„ä¸»é‚®ä»¶å®ˆæŠ¤è¿›ç¨‹æ˜¯ `sendmail`ï¼Œè€Œä¸æ˜¯ `maild`ã€‚±Viewing Processes¬æŸ¥çœ‹è¿›ç¨‹Ú‚To see the processes running on the system, use man:ps[1] or man:top[1].  To display a static list of the currently running processes, their PIDs, how much memory they are using, and the command they were started with, use man:ps[1].  To display all the running processes and update the display every few seconds in order to interactively see what the computer is doing, use man:top[1].Úwè¦æŸ¥çœ‹ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹ï¼Œè¯·ä½¿ç”¨ man:ps[1] æˆ– man:top[1]ã€‚è¦æ˜¾ç¤ºå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„é™æ€åˆ—è¡¨ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è¿›ç¨‹ ID ã€ä½¿ç”¨çš„å†…å­˜é‡ä»¥åŠå¯åŠ¨å®ƒä»¬çš„å‘½ä»¤ï¼Œè¯·ä½¿ç”¨ man:ps[1] ã€‚è¦æ˜¾ç¤ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œå¹¶æ¯éš”å‡ ç§’æ›´æ–°ä¸€æ¬¡æ˜¾ç¤ºï¼Œä»¥ä¾¿äº¤äº’å¼åœ°æŸ¥çœ‹è®¡ç®—æœºæ­£åœ¨åšä»€ä¹ˆï¼Œè¯·ä½¿ç”¨ man:top[1]ã€‚ÙcBy default, man:ps[1] only shows the commands that are running and owned by the user.  For example:ÙXé»˜è®¤æƒ…å†µä¸‹ï¼Œman:ps[1] åªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œä¸”ç”±ç”¨æˆ·æ‹¥æœ‰çš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼šÚŸThe output from man:ps[1] is organized into a number of columns.  The `PID` column displays the process ID.  PIDs are assigned starting at 1, go up to 99999, then wrap around back to the beginning.  However, a PID is not reassigned if it is already in use.  The `TT` column shows the tty the program is running on and `STAT` shows the program's state.  `TIME` is the amount of time the program has been running on the CPU.  This is usually not the elapsed time since the program was started, as most programs spend a lot of time waiting for things to happen before they need to spend time on the CPU.  Finally, `COMMAND` is the command that was used to start the program.Úman:ps[1] çš„è¾“å‡ºè¢«ç»„ç»‡æˆå¤šåˆ—ã€‚`PID` åˆ—æ˜¾ç¤ºè¿›ç¨‹ IDã€‚PID ä» 1 å¼€å§‹åˆ†é…ï¼Œæœ€å¤§ä¸º 99999 ï¼Œç„¶åé‡æ–°ä»å¤´å¼€å§‹åˆ†é…ã€‚ç„¶è€Œï¼Œå¦‚æœ PID å·²ç»è¢«ä½¿ç”¨ï¼Œå®ƒä¸ä¼šè¢«é‡æ–°åˆ†é…ã€‚`TT` åˆ—æ˜¾ç¤ºç¨‹åºæ‰€åœ¨çš„ ttyï¼Œ`STAT` åˆ—æ˜¾ç¤ºç¨‹åºçš„çŠ¶æ€ã€‚ `TIME` æ˜¯ç¨‹åºåœ¨ CPU ä¸Šè¿è¡Œçš„æ—¶é—´ã€‚è¿™é€šå¸¸ä¸æ˜¯ç¨‹åºå¯åŠ¨åç»è¿‡çš„æ—¶é—´ï¼Œå› ä¸ºå¤§å¤šæ•°ç¨‹åºåœ¨éœ€è¦åœ¨ CPU ä¸ŠèŠ±è´¹æ—¶é—´ä¹‹å‰ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ç­‰å¾…äº‹ä»¶å‘ç”Ÿã€‚æœ€åï¼Œ`COMMAND` æ˜¯ç”¨äºå¯åŠ¨ç¨‹åºçš„å‘½ä»¤ã€‚ÚÔA number of different options are available to change the information that is displayed.  One of the most useful sets is `auxww`, where `a` displays information about all the running processes of all users, `u` displays the username and memory usage of the process' owner, `x` displays information about daemon processes, and `ww` causes man:ps[1] to display the full command line for each process, rather than truncating it once it gets too long to fit on the screen.Úræœ‰å¤šç§ä¸åŒçš„é€‰é¡¹å¯ç”¨äºæ›´æ”¹æ˜¾ç¤ºçš„ä¿¡æ¯ã€‚å…¶ä¸­æœ€æœ‰ç”¨çš„ä¸€ç»„æ˜¯ `auxww`ï¼Œå…¶ä¸­ `a` æ˜¾ç¤ºæœ‰å…³æ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯ï¼Œ`u` æ˜¾ç¤ºè¿›ç¨‹æ‰€æœ‰è€…çš„ç”¨æˆ·åå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œ`x` æ˜¾ç¤ºæœ‰å…³å®ˆæŠ¤è¿›ç¨‹çš„ä¿¡æ¯ï¼Œ`ww` ä½¿ man:ps[1] æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹çš„å®Œæ•´å‘½ä»¤è¡Œï¼Œè€Œä¸æ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¿‡é•¿æ—¶æˆªæ–­å®ƒã€‚Ù&The output from man:top[1] is similar:½man:top[1] çš„è¾“å‡ºç±»ä¼¼ï¼šÚOThe output is split into two sections.  The header (the first five or six lines) shows the PID of the last process to run, the system load averages (which are a measure of how busy the system is), the system uptime (time since the last reboot) and the current time.  The other figures in the header relate to how many processes are running, how much memory and swap space has been used, and how much time the system is spending in different CPU states.  If the ZFS file system module has been loaded, an `ARC` line indicates how much data was read from the memory cache instead of from disk.Úè¾“å‡ºåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚æ ‡é¢˜éƒ¨åˆ†ï¼ˆå‰äº”æˆ–å…­è¡Œï¼‰æ˜¾ç¤ºäº†æœ€åä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹çš„ PID ï¼Œç³»ç»Ÿè´Ÿè½½å¹³å‡å€¼ï¼ˆè¡¡é‡ç³»ç»Ÿç¹å¿™ç¨‹åº¦çš„æŒ‡æ ‡ï¼‰ï¼Œç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼ˆè‡ªä¸Šæ¬¡é‡å¯ä»¥æ¥çš„æ—¶é—´ï¼‰å’Œå½“å‰æ—¶é—´ã€‚æ ‡é¢˜ä¸­çš„å…¶ä»–æ•°å­—ä¸æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°é‡ã€å·²ä½¿ç”¨çš„å†…å­˜å’Œäº¤æ¢ç©ºé—´ä»¥åŠç³»ç»Ÿåœ¨ä¸åŒ CPU çŠ¶æ€ä¸‹èŠ±è´¹çš„æ—¶é—´æœ‰å…³ã€‚å¦‚æœåŠ è½½äº† ZFS æ–‡ä»¶ç³»ç»Ÿæ¨¡å—ï¼Œ`ARC` è¡Œå°†æ˜¾ç¤ºæœ‰å¤šå°‘æ•°æ®æ˜¯ä»å†…å­˜ç¼“å­˜ä¸­è¯»å–è€Œä¸æ˜¯ä»ç£ç›˜ä¸­è¯»å–çš„ã€‚ÚÙBelow the header is a series of columns containing similar information to the output from man:ps[1], such as the PID, username, amount of CPU time, and the command that started the process.  By default, man:top[1] also displays the amount of memory space taken by the process.  This is split into two columns: one for total size and one for resident size.  Total size is how much memory the application has needed and the resident size is how much it is actually using now.Úhåœ¨æ ‡é¢˜ä¸‹é¢æ˜¯ä¸€ç³»åˆ—åˆ—ï¼Œå…¶ä¸­åŒ…å«ä¸ man:ps[1] è¾“å‡ºç±»ä¼¼çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ PIDã€ç”¨æˆ·åã€CPU æ—¶é—´å’Œå¯åŠ¨è¿›ç¨‹çš„å‘½ä»¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œman:top[1] è¿˜ä¼šæ˜¾ç¤ºè¿›ç¨‹å ç”¨çš„å†…å­˜ç©ºé—´ã€‚è¿™è¢«åˆ†ä¸ºä¸¤åˆ—ï¼šæ€»å¤§å°å’Œå¸¸é©»å¤§å°ã€‚æ€»å¤§å°æ˜¯åº”ç”¨ç¨‹åºæ‰€éœ€çš„å†…å­˜é‡ï¼Œå¸¸é©»å¤§å°æ˜¯å®ƒå½“å‰å®é™…ä½¿ç”¨çš„å†…å­˜é‡ã€‚Ùqman:top[1] automatically updates the display every two seconds.  A different interval can be specified with `-s`.ÙSman:top[1] æ¯ä¸¤ç§’è‡ªåŠ¨æ›´æ–°æ˜¾ç¤ºã€‚å¯ä»¥ä½¿ç”¨ `-s` æŒ‡å®šä¸åŒçš„é—´éš”ã€‚±Killing Processes¬æ€æ­»è¿›ç¨‹ÚÅOne way to communicate with any running process or daemon is to send a _signal_ using man:kill[1].  There are a number of different signals; some have a specific meaning while others are described in the application's documentation.  A user can only send a signal to a process they own and sending a signal to someone else's process will result in a permission denied error.  The exception is the `root` user, who can send signals to anyone's processes.Ú­ä¸ä»»ä½•æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æˆ–å®ˆæŠ¤è¿›ç¨‹è¿›è¡Œé€šä¿¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ man:kill[1] å‘é€ä¸€ä¸ª _ä¿¡å·ï¼ˆsignalï¼‰_ã€‚æœ‰è®¸å¤šä¸åŒçš„ä¿¡å·ï¼›ä¸€äº›å…·æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œè€Œå…¶ä»–ä¿¡å·åœ¨åº”ç”¨ç¨‹åºçš„æ–‡æ¡£ä¸­æœ‰æè¿°ã€‚ç”¨æˆ·åªèƒ½å‘è‡ªå·±æ‹¥æœ‰çš„è¿›ç¨‹å‘é€ä¿¡å·ï¼Œå‘ä»–äººçš„è¿›ç¨‹å‘é€ä¿¡å·å°†å¯¼è‡´æƒé™è¢«æ‹’ç»çš„é”™è¯¯ã€‚ä¾‹å¤–æƒ…å†µæ˜¯ `root` ç”¨æˆ·ï¼Œä»–å¯ä»¥å‘ä»»ä½•è¿›ç¨‹å‘é€ä¿¡å·ã€‚ÚThe operating system can also send a signal to a process.  If an application is badly written and tries to access memory that it is not supposed to, FreeBSD will send the process the "Segmentation Violation" signal (`SIGSEGV`).  If an application has been written to use the man:alarm[3] system call to be alerted after a period of time has elapsed, it will be sent the "Alarm" signal (`SIGALRM`).Úæ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥å‘è¿›ç¨‹å‘é€ä¿¡å·ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºç¼–å†™å¾—å¾ˆç³Ÿç³•ï¼Œè¯•å›¾è®¿é—®å®ƒä¸åº”è¯¥è®¿é—®çš„å†…å­˜ï¼Œ FreeBSD å°†å‘è¯¥è¿›ç¨‹å‘é€â€œåˆ†æ®µè¿è§„ï¼ˆSegmentation Violationï¼‰â€ä¿¡å·ï¼ˆ`SIGSEGV`ï¼‰ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºè¢«ç¼–å†™æˆä½¿ç”¨ man:alarm[3] ç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´åè¢«æé†’ï¼Œå®ƒå°†æ”¶åˆ°â€œé—¹é’Ÿï¼ˆAlarmï¼‰â€ä¿¡å·ï¼ˆ`SIGALRM`ï¼‰ã€‚ÚhTwo signals can be used to stop a process: `SIGTERM` and `SIGKILL`.  `SIGTERM` is the polite way to kill a process as the process can read the signal, close any log files it may have open, and attempt to finish what it is doing before shutting down.  In some cases, a process may ignore `SIGTERM` if it is in the middle of some task that cannot be interrupted.Úsæœ‰ä¸¤ä¸ªä¿¡å·å¯ä»¥ç”¨æ¥åœæ­¢ä¸€ä¸ªè¿›ç¨‹ï¼š`SIGTERM` å’Œ `SIGKILL`ã€‚`SIGTERM` æ˜¯ä¸€ç§ç¤¼è²Œçš„æ–¹å¼æ¥ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œå› ä¸ºè¿›ç¨‹å¯ä»¥è¯»å–è¯¥ä¿¡å·ï¼Œå…³é—­å¯èƒ½æ‰“å¼€çš„ä»»ä½•æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶å°è¯•åœ¨å…³é—­ä¹‹å‰å®Œæˆæ­£åœ¨è¿›è¡Œçš„æ“ä½œã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœè¿›ç¨‹æ­£åœ¨æ‰§è¡Œæ— æ³•ä¸­æ–­çš„ä»»åŠ¡ï¼Œå®ƒå¯èƒ½ä¼šå¿½ç•¥ `SIGTERM` ä¿¡å·ã€‚Úï`SIGKILL` cannot be ignored by a process.  Sending a `SIGKILL` to a process will usually stop that process there and then. footnote:[There are a few tasks that cannot be interrupted. For example, if the process is trying to read from a file that is on another computer on the network, and the other computer is unavailable, the process is said to be uninterruptible. Eventually the process will time out, typically after two minutes. As soon as this time out occurs the process will be killed.].Ú`SIGKILL` æ— æ³•è¢«è¿›ç¨‹å¿½ç•¥ã€‚å‘ä¸€ä¸ªè¿›ç¨‹å‘é€ `SIGKILL` é€šå¸¸ä¼šç«‹å³åœæ­¢è¯¥è¿›ç¨‹ã€‚footnote:[æœ‰ä¸€äº›ä»»åŠ¡æ˜¯æ— æ³•ä¸­æ–­çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¿›ç¨‹æ­£åœ¨å°è¯•ä»ç½‘ç»œä¸Šçš„å¦ä¸€å°è®¡ç®—æœºä¸Šè¯»å–æ–‡ä»¶ï¼Œè€Œè¯¥è®¡ç®—æœºä¸å¯ç”¨ï¼Œé‚£ä¹ˆè¯¥è¿›ç¨‹è¢«ç§°ä¸ºä¸å¯ä¸­æ–­ã€‚æœ€ç»ˆï¼Œè¯¥è¿›ç¨‹å°†è¶…æ—¶ï¼Œé€šå¸¸åœ¨ä¸¤åˆ†é’Ÿåã€‚ä¸€æ—¦è¶…æ—¶å‘ç”Ÿï¼Œè¯¥è¿›ç¨‹å°†è¢«ç»ˆæ­¢ã€‚] ã€‚ÙOther commonly used signals are `SIGHUP`, `SIGUSR1`, and `SIGUSR2`.  Since these are general purpose signals, different applications will respond differently.Ùå…¶ä»–å¸¸ç”¨çš„ä¿¡å·åŒ…æ‹¬ `SIGHUP`ã€`SIGUSR1` å’Œ `SIGUSR2`ã€‚ç”±äºè¿™äº›æ˜¯é€šç”¨çš„ä¿¡å·ï¼Œä¸åŒçš„åº”ç”¨ç¨‹åºä¼šæœ‰ä¸åŒçš„å“åº”ã€‚ÚŸFor example, after changing a web server's configuration file, the web server needs to be told to re-read its configuration.  Restarting `httpd` would result in a brief outage period on the web server.  Instead, send the daemon the `SIGHUP` signal.  Be aware that different daemons will have different behavior, so refer to the documentation for the daemon to determine if `SIGHUP` will achieve the desired results.Úvä¾‹å¦‚ï¼Œåœ¨æ›´æ”¹ Web æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶åï¼Œéœ€è¦å‘Šè¯‰ Web æœåŠ¡å™¨é‡æ–°è¯»å–å…¶é…ç½®ã€‚é‡æ–°å¯åŠ¨ `httpd` å°†å¯¼è‡´ Web æœåŠ¡å™¨çŸ­æš‚çš„åœæœºæ—¶é—´ã€‚ç›¸åï¼Œå‘é€ `SIGHUP` ä¿¡å·ç»™å®ˆæŠ¤è¿›ç¨‹ã€‚è¯·æ³¨æ„ï¼Œä¸åŒçš„å®ˆæŠ¤è¿›ç¨‹ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºï¼Œå› æ­¤è¯·å‚è€ƒå®ˆæŠ¤è¿›ç¨‹çš„æ–‡æ¡£ä»¥ç¡®å®šæ˜¯å¦ä½¿ç”¨ `SIGHUP` å¯ä»¥è¾¾åˆ°æ‰€éœ€çš„ç»“æœã€‚ÚKilling a random process on the system is a bad idea.  In particular, man:init[8], PID 1, is special.  Running `/bin/kill -s KILL 1` is a quick, and unrecommended, way to shutdown the system.  _Always_ double check the arguments to man:kill[1] _before_ pressing kbd:[Return].Úåœ¨ç³»ç»Ÿä¸Šéšæœºæ€æ­»ä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚ç‰¹åˆ«æ˜¯ï¼Œman:init[8]ï¼ŒPID 1 ï¼Œæ˜¯ç‰¹æ®Šçš„ã€‚è¿è¡Œ `/bin/kill -s KILL 1` æ˜¯ä¸€ä¸ªå¿«é€Ÿä½†ä¸æ¨èçš„å…³é—­ç³»ç»Ÿçš„æ–¹æ³•ã€‚åœ¨æŒ‰ä¸‹ kbd:[Return] ä¹‹å‰ï¼Œ_å§‹ç»ˆ_ ä»”ç»†æ£€æŸ¥ man:kill[1] çš„å‚æ•°ã€‚¦Shells¦ShellsÚA _shell_ provides a command line interface for interacting with the operating system.  A shell receives commands from the input channel and executes them.  Many shells provide built in functions to help with everyday tasks such as file management, file globbing, command line editing, command macros, and environment variables.  FreeBSD comes with several shells, including the Bourne shell (man:sh[1]) and the extended C shell (man:tcsh[1]).  Other shells are available from the FreeBSD Ports Collection, such as `zsh` and `bash`.ÚÒä¸€ä¸ª _shell_ æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼Œç”¨äºä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚ Shell ä»è¾“å…¥é€šé“æ¥æ”¶å‘½ä»¤å¹¶æ‰§è¡Œå®ƒä»¬ã€‚è®¸å¤š shell æä¾›äº†å†…ç½®å‡½æ•°æ¥å¸®åŠ©å¤„ç†æ—¥å¸¸ä»»åŠ¡ï¼Œå¦‚æ–‡ä»¶ç®¡ç†ã€æ–‡ä»¶é€šé…ç¬¦ã€å‘½ä»¤è¡Œç¼–è¾‘ã€å‘½ä»¤å®å’Œç¯å¢ƒå˜é‡ã€‚ FreeBSD æä¾›äº†å‡ ä¸ª shellï¼ŒåŒ…æ‹¬ Bourne shellï¼ˆman:sh[1]ï¼‰å’Œæ‰©å±•çš„ C shellï¼ˆman:tcsh[1]ï¼‰ã€‚FreeBSD Ports Collection ä¸­è¿˜æä¾›äº†å…¶ä»– shellï¼Œå¦‚ `zsh` å’Œ `bash`ã€‚ÚLThe shell that is used is really a matter of taste.  A C programmer might feel more comfortable with a C-like shell such as man:tcsh[1].  A Linux(R) user might prefer `bash`.  Each shell has unique properties that may or may not work with a user's preferred working environment, which is why there is a choice of which shell to use.Ú?ä½¿ç”¨çš„ shell å®é™…ä¸Šæ˜¯ä¸ªäººå£å‘³çš„é—®é¢˜ã€‚ C ç¨‹åºå‘˜å¯èƒ½æ›´å–œæ¬¢ç±»ä¼¼ C çš„ shell ï¼Œæ¯”å¦‚ man:tcsh[1] ã€‚ Linux(R) ç”¨æˆ·å¯èƒ½æ›´å–œæ¬¢ `bash`ã€‚æ¯ä¸ª shell éƒ½æœ‰ç‹¬ç‰¹çš„ç‰¹æ€§ï¼Œå¯èƒ½é€‚ç”¨æˆ–ä¸é€‚ç”¨äºç”¨æˆ·é¦–é€‰çš„å·¥ä½œç¯å¢ƒï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ª shell çš„åŸå› ã€‚ÚWOne common shell feature is filename completion.  After a user types the first few letters of a command or filename and presses kbd:[Tab], the shell completes the rest of the command or filename.  Consider two files called `foobar` and `football`.  To delete `foobar`, the user might type `rm foo` and press kbd:[Tab] to complete the filename.Ú]ä¸€ä¸ªå¸¸è§çš„ shell åŠŸèƒ½æ˜¯æ–‡ä»¶åè¡¥å…¨ã€‚å½“ç”¨æˆ·è¾“å…¥å‘½ä»¤æˆ–æ–‡ä»¶åçš„å‰å‡ ä¸ªå­—æ¯å¹¶æŒ‰ä¸‹ kbd:[Tab] é”®æ—¶ï¼Œ shell ä¼šè‡ªåŠ¨å®Œæˆå‘½ä»¤æˆ–æ–‡ä»¶åçš„å‰©ä½™éƒ¨åˆ†ã€‚å‡è®¾æœ‰ä¸¤ä¸ªæ–‡ä»¶ååˆ†åˆ«ä¸º `foobar` å’Œ `football`ã€‚è¦åˆ é™¤ `foobar`ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥ `rm foo` å¹¶æŒ‰ä¸‹ kbd:[Tab] é”®æ¥å®Œæˆæ–‡ä»¶åçš„è¡¥å…¨ã€‚ÚBut the shell only shows `rm foo`.  It was unable to complete the filename because both `foobar` and `football` start with `foo`.  Some shells sound a beep or show all the choices if more than one name matches.  The user must then type more characters to identify the desired filename.  Typing a `t` and pressing kbd:[Tab] again is enough to let the shell determine which filename is desired and fill in the rest.Ú`ä½†æ˜¯ Shell åªæ˜¾ç¤º `rm foo` ã€‚ç”±äº `foobar` å’Œ `football` éƒ½ä»¥ `foo` å¼€å¤´ï¼Œå®ƒæ— æ³•å®Œæˆæ–‡ä»¶åã€‚ä¸€äº› Shell ä¼šå‘å‡ºå“”å“”å£°æˆ–æ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„é€‰é¡¹ã€‚ç”¨æˆ·å¿…é¡»è¾“å…¥æ›´å¤šå­—ç¬¦æ¥è¯†åˆ«æ‰€éœ€çš„æ–‡ä»¶åã€‚è¾“å…¥ä¸€ä¸ª `t` å¹¶å†æ¬¡æŒ‰ä¸‹ kbd:[Tab] å°±è¶³å¤Ÿè®© Shell ç¡®å®šæ‰€éœ€çš„æ–‡ä»¶åå¹¶å¡«å……å‰©ä¸‹çš„éƒ¨åˆ†ã€‚Ú§Another feature of the shell is the use of environment variables.  Environment variables are a variable/key pair stored in the shell's environment.  This environment can be read by any program invoked by the shell, and thus contains a lot of program configuration.  <<shell-env-vars>> provides a list of common environment variables and their meanings.  Note that the names of environment variables are always in uppercase.ÚEshell çš„å¦ä¸€ä¸ªç‰¹æ€§æ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚ç¯å¢ƒå˜é‡æ˜¯å­˜å‚¨åœ¨ shell ç¯å¢ƒä¸­çš„é”®å€¼å¯¹ã€‚ä»»ä½•ç”± shell è°ƒç”¨çš„ç¨‹åºéƒ½å¯ä»¥è¯»å–è¿™ä¸ªç¯å¢ƒï¼Œå¹¶å› æ­¤åŒ…å«äº†è®¸å¤šç¨‹åºé…ç½®ã€‚ <<shell-env-vars>> æä¾›äº†å¸¸è§ç¯å¢ƒå˜é‡åŠå…¶å«ä¹‰çš„åˆ—è¡¨ã€‚è¯·æ³¨æ„ï¼Œç¯å¢ƒå˜é‡çš„åç§°å§‹ç»ˆä¸ºå¤§å†™ã€‚¹Type of operating system.¸æ“ä½œç³»ç»Ÿçš„ç±»å‹ã€‚Ú3How to set an environment variable differs between shells.  In man:tcsh[1] and man:csh[1], use `setenv` to set environment variables.  In man:sh[1] and `bash`, use `export` to set the current environment variables.  This example sets the default `EDITOR` to `/usr/local/bin/emacs` for the man:tcsh[1] shell:Ú@åœ¨ä¸åŒçš„ shell ä¸­è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹æ³•æ˜¯ä¸åŒçš„ã€‚åœ¨ man:tcsh[1] å’Œ man:csh[1] ä¸­ï¼Œä½¿ç”¨ `setenv` æ¥è®¾ç½®ç¯å¢ƒå˜é‡ã€‚åœ¨ man:sh[1] å’Œ `bash` ä¸­ï¼Œä½¿ç”¨ `export` æ¥è®¾ç½®å½“å‰çš„ç¯å¢ƒå˜é‡ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†é»˜è®¤çš„ `EDITOR` è®¾ç½®ä¸º `/usr/local/bin/emacs`ï¼Œé€‚ç”¨äº man:tcsh[1] shellã€‚Ù+The equivalent command for `bash` would be:¼`bash` çš„ç­‰æ•ˆå‘½ä»¤æ˜¯ï¼šÙÆTo expand an environment variable in order to see its current setting, type a `$` character in front of its name on the command line.  For example, `echo $TERM` displays the current `$TERM` setting.Ù¢ä¸ºäº†å±•å¼€ç¯å¢ƒå˜é‡ä»¥æŸ¥çœ‹å…¶å½“å‰è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œä¸­åœ¨å…¶åç§°å‰é¢é”®å…¥ `$` å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ`echo $TERM` ä¼šæ˜¾ç¤ºå½“å‰çš„ `$TERM` è®¾ç½®ã€‚ÚˆShells treat special characters, known as meta-characters, as special representations of data.  The most common meta-character is `\*`, which represents any number of characters in a filename.  Meta-characters can be used to perform filename globbing.  For example, `echo *` is equivalent to `ls` because the shell takes all the files that match `*` and `echo` lists them on the command line.ÚMShell å°†ç‰¹æ®Šå­—ç¬¦ï¼Œç§°ä¸ºå…ƒå­—ç¬¦ï¼Œè§†ä¸ºæ•°æ®çš„ç‰¹æ®Šè¡¨ç¤ºã€‚æœ€å¸¸è§çš„å…ƒå­—ç¬¦æ˜¯ `\*` ï¼Œå®ƒè¡¨ç¤ºæ–‡ä»¶åä¸­çš„ä»»æ„æ•°é‡çš„å­—ç¬¦ã€‚å…ƒå­—ç¬¦å¯ä»¥ç”¨äºæ‰§è¡Œæ–‡ä»¶åé€šé…ç¬¦åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œ`echo *` ç­‰åŒäº `ls` ï¼Œå› ä¸º shell ä¼šå°†ä¸ `*` åŒ¹é…çš„æ‰€æœ‰æ–‡ä»¶å–å‡ºï¼Œå¹¶åœ¨å‘½ä»¤è¡Œä¸Šåˆ—å‡ºå®ƒä»¬ã€‚ÙíTo prevent the shell from interpreting a special character, escape it from the shell by starting it with a backslash (`\`).  For example, `echo $TERM` prints the terminal setting whereas `echo \$TERM` literally prints the string `$TERM`.Ùáä¸ºäº†é˜²æ­¢ shell è§£é‡Šç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥é€šè¿‡åœ¨ç‰¹æ®Šå­—ç¬¦å‰åŠ ä¸Šåæ–œæ ï¼ˆ`\`ï¼‰æ¥å°†å…¶ä» shell ä¸­è½¬ä¹‰ã€‚ä¾‹å¦‚ï¼Œ `echo $TERM` ä¼šæ‰“å°ç»ˆç«¯è®¾ç½®ï¼Œè€Œ `echo \$TERM` ä¼šç›´æ¥æ‰“å°å­—ç¬¦ä¸² `$TERM`ã€‚²Changing the Shell¬æ›´æ”¹ ShellÚThe easiest way to permanently change the default shell is to use `chsh`.  Running this command will open the editor that is configured in the `EDITOR` environment variable, which by default is set to man:vi[1].  Change the `Shell:` line to the full path of the new shell.Ùßæ°¸ä¹…æ›´æ”¹é»˜è®¤ shell çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ `chsh` å‘½ä»¤ã€‚è¿è¡Œæ­¤å‘½ä»¤å°†æ‰“å¼€åœ¨ `EDITOR` ç¯å¢ƒå˜é‡ä¸­é…ç½®çš„ç¼–è¾‘å™¨ï¼Œé»˜è®¤è®¾ç½®ä¸º man:vi[1]ã€‚å°† `Shell:` è¡Œæ›´æ”¹ä¸ºæ–° shell çš„å®Œæ•´è·¯å¾„ã€‚Ù…Alternately, use `chsh -s` which will set the specified shell without opening an editor.  For example, to change the shell to `bash`:Ùˆæˆ–è€…ï¼Œä½¿ç”¨ `chsh -s` å‘½ä»¤å¯ä»¥åœ¨ä¸æ‰“å¼€ç¼–è¾‘å™¨çš„æƒ…å†µä¸‹è®¾ç½®æŒ‡å®šçš„ shellã€‚ä¾‹å¦‚ï¼Œè¦å°† shell æ›´æ”¹ä¸º `bash`ï¼šÙ†Enter your password at the prompt and press kbd:[Return] to change your shell.  Log off and log in again to start using the new shell.ÙŒåœ¨æç¤ºç¬¦å¤„è¾“å…¥æ‚¨çš„å¯†ç ï¼Œç„¶åæŒ‰ä¸‹ kbd:[Return] é”®æ¥æ›´æ”¹æ‚¨çš„ shellã€‚æ³¨é”€å¹¶é‡æ–°ç™»å½•ä»¥å¼€å§‹ä½¿ç”¨æ–°çš„ shellã€‚ÚNThe new shell _must_ be present in `/etc/shells`.  If the shell was installed from the FreeBSD Ports Collection as described in crossref:ports[ports,Installing Applications: Packages and Ports], it should be automatically added to this file.  If it is missing, add it using this command, replacing the path with the path of the shell:Ú=æ–°çš„ shell å¿…é¡»å­˜åœ¨äº `/etc/shells` ä¸­ã€‚å¦‚æœ shell æ˜¯æŒ‰ç…§ crossref:ports[ports,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ Ports] ä¸­æè¿°çš„æ–¹å¼ä» FreeBSD Ports Collection å®‰è£…çš„ï¼Œåˆ™åº”è‡ªåŠ¨å°†å…¶æ·»åŠ åˆ°æ­¤æ–‡ä»¶ä¸­ã€‚å¦‚æœç¼ºå°‘ï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ ï¼Œå°†è·¯å¾„æ›¿æ¢ä¸º shell çš„è·¯å¾„ï¼š¸Then, rerun man:chsh[1].Ù$ç„¶åï¼Œé‡æ–°è¿è¡Œ man:chsh[1]ã€‚¹Advanced Shell Techniques³é«˜çº§ Shell æŠ€å·§ÚeThe UNIX(R) shell is not just a command interpreter, it acts as a powerful tool which allows users to execute commands, redirect their output, redirect their input and chain commands together to improve the final command output.  When this functionality is mixed with built in commands, the user is provided with an environment that can maximize efficiency.Ú4UNIX(R) shell ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå…è®¸ç”¨æˆ·æ‰§è¡Œå‘½ä»¤ã€é‡å®šå‘è¾“å‡ºã€é‡å®šå‘è¾“å…¥ä»¥åŠé“¾å¼ç»„åˆå‘½ä»¤ï¼Œä»¥æé«˜æœ€ç»ˆå‘½ä»¤çš„è¾“å‡ºã€‚å½“è¿™ç§åŠŸèƒ½ä¸å†…ç½®å‘½ä»¤ç»“åˆä½¿ç”¨æ—¶ï¼Œç”¨æˆ·å¯ä»¥è·å¾—ä¸€ä¸ªå¯ä»¥æœ€å¤§åŒ–æ•ˆç‡çš„ç¯å¢ƒã€‚ÙÔShell redirection is the action of sending the output or the input of a command into another command or into a file.  To capture the output of the man:ls[1] command, for example, into a file, redirect the output:Ù¶Shell é‡å®šå‘æ˜¯å°†å‘½ä»¤çš„è¾“å‡ºæˆ–è¾“å…¥å‘é€åˆ°å¦ä¸€ä¸ªå‘½ä»¤æˆ–æ–‡ä»¶çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œè¦å°† man:ls[1] å‘½ä»¤çš„è¾“å‡ºæ•è·åˆ°æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨é‡å®šå‘æ“ä½œï¼šÙ¯The directory contents will now be listed in `directory_listing.txt`.  Some commands can be used to read input, such as man:sort[1].  To sort this listing, redirect the input:Ù³ç›®å½•å†…å®¹ç°åœ¨å°†ä¼šåˆ—åœ¨ `directory_listing.txt` ä¸­ã€‚ä¸€äº›å‘½ä»¤å¯ä»¥ç”¨æ¥è¯»å–è¾“å…¥ï¼Œæ¯”å¦‚ man:sort[1] ã€‚è¦å¯¹è¿™ä¸ªåˆ—è¡¨è¿›è¡Œæ’åºï¼Œå¯ä»¥é‡å®šå‘è¾“å…¥ï¼šÙ£The input will be sorted and placed on the screen.  To redirect that input into another file, one could redirect the output of man:sort[1] by mixing the direction:Ù”è¾“å…¥å°†è¢«æ’åºå¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚è¦å°†è¯¥è¾“å…¥é‡å®šå‘åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡æ··åˆæ–¹å‘æ¥é‡å®šå‘ man:sort[1] çš„è¾“å‡ºã€‚Ú!In all of the previous examples, the commands are performing redirection using file descriptors.  Every UNIX(R) system has file descriptors, which include standard input (stdin), standard output (stdout), and standard error (stderr).  Each one has a purpose, where input could be a keyboard or a mouse, something that provides input.  Output could be a screen or paper in a printer.  And error would be anything that is used for diagnostic or error messages.  All three are considered I/O based file descriptors and sometimes considered streams.Úëåœ¨æ‰€æœ‰ä¹‹å‰çš„ç¤ºä¾‹ä¸­ï¼Œå‘½ä»¤éƒ½æ˜¯ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œé‡å®šå‘ã€‚æ¯ä¸ª UNIX(R) ç³»ç»Ÿéƒ½æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼ŒåŒ…æ‹¬æ ‡å‡†è¾“å…¥ (stdin)ã€æ ‡å‡†è¾“å‡º (stdout) å’Œæ ‡å‡†é”™è¯¯ (stderr)ã€‚æ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦éƒ½æœ‰å…¶ç”¨é€”ï¼Œå…¶ä¸­è¾“å…¥å¯ä»¥æ˜¯é”®ç›˜æˆ–é¼ æ ‡ï¼Œæä¾›è¾“å…¥çš„è®¾å¤‡ã€‚è¾“å‡ºå¯ä»¥æ˜¯å±å¹•æˆ–æ‰“å°æœºä¸Šçš„çº¸å¼ ã€‚è€Œé”™è¯¯åˆ™æ˜¯ç”¨äºè¯Šæ–­æˆ–é”™è¯¯æ¶ˆæ¯çš„ä»»ä½•å†…å®¹ã€‚è¿™ä¸‰ä¸ªéƒ½è¢«è§†ä¸ºåŸºäº I/O çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºæµã€‚ÙËThrough the use of these descriptors, the shell allows output and input to be passed around through various commands and redirected to or from a file.  Another method of redirection is the pipe operator.Ù»é€šè¿‡ä½¿ç”¨è¿™äº›æè¿°ç¬¦ï¼Œ Shell å…è®¸è¾“å‡ºå’Œè¾“å…¥åœ¨å„ä¸ªå‘½ä»¤ä¹‹é—´ä¼ é€’ï¼Œå¹¶å¯ä»¥é‡å®šå‘åˆ°æ–‡ä»¶æˆ–ä»æ–‡ä»¶ä¸­è¯»å–ã€‚å¦ä¸€ç§é‡å®šå‘çš„æ–¹æ³•æ˜¯ç®¡é“æ“ä½œç¬¦ã€‚ÙğThe UNIX(R) pipe operator, "|" allows the output of one command to be directly passed or directed to another program.  Basically, a pipe allows the standard output of a command to be passed as standard input to another command, for example:ÙÒUNIX(R) ç®¡é“æ“ä½œç¬¦â€œ|â€å…è®¸å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºç›´æ¥ä¼ é€’æˆ–å®šå‘åˆ°å¦ä¸€ä¸ªç¨‹åºã€‚åŸºæœ¬ä¸Šï¼Œç®¡é“å…è®¸å°†ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ä¼ é€’ï¼Œä¾‹å¦‚ï¼šÙàIn that example, the contents of `directory_listing.txt` will be sorted and the output passed to man:less[1].  This allows the user to scroll through the output at their own pace and prevent it from scrolling off the screen.ÙÇåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`directory_listing.txt` çš„å†…å®¹å°†è¢«æ’åºï¼Œå¹¶ä¸”è¾“å‡ºå°†ä¼ é€’ç»™ man:less[1] ã€‚è¿™ä½¿å¾—ç”¨æˆ·å¯ä»¥æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥æ»šåŠ¨è¾“å‡ºï¼Œå¹¶é˜²æ­¢å…¶æ»šåŠ¨åˆ°å±å¹•å¤–ã€‚¬Text Editors¯æ–‡æœ¬ç¼–è¾‘å™¨ÙàMost FreeBSD configuration is done by editing text files, so it is a good idea to become familiar with a text editor.  FreeBSD comes with a few as part of the base system, and many more are available in the Ports Collection.Ùìå¤§å¤šæ•° FreeBSD çš„é…ç½®æ˜¯é€šè¿‡ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶æ¥å®Œæˆçš„ï¼Œå› æ­¤ç†Ÿæ‚‰æ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚FreeBSD è‡ªå¸¦äº†ä¸€äº›åŸºæœ¬ç³»ç»Ÿçš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿˜æœ‰æ›´å¤šçš„ç¼–è¾‘å™¨å¯ä»¥åœ¨ Ports Collection ä¸­æ‰¾åˆ°ã€‚ÚA simple editor to learn is man:ee[1], which stands for easy editor.  To start this editor, type `ee _filename_` where _filename_ is the name of the file to be edited.  Once inside the editor, all of the commands for manipulating the editor's functions are listed at the top of the display.  The caret (`^`) represents kbd:[Ctrl], so `^e` expands to kbd:[Ctrl+e].  To leave man:ee[1], press kbd:[Esc], then choose the "leave editor" option from the main menu.  The editor will prompt to save any changes if the file has been modified.Úä¸€ä¸ªç®€å•çš„å­¦ä¹ ç¼–è¾‘å™¨æ˜¯ man:ee[1] ï¼Œå®ƒä»£è¡¨ç€ easy editorï¼ˆç®€æ˜“ç¼–è¾‘å™¨ï¼‰ã€‚è¦å¯åŠ¨è¿™ä¸ªç¼–è¾‘å™¨ï¼Œè¾“å…¥ `ee _filename_`ï¼Œå…¶ä¸­ _filename_ æ˜¯è¦ç¼–è¾‘çš„æ–‡ä»¶åã€‚ä¸€æ—¦è¿›å…¥ç¼–è¾‘å™¨ï¼Œæ‰€æœ‰ç”¨äºæ“ä½œç¼–è¾‘å™¨åŠŸèƒ½çš„å‘½ä»¤éƒ½åˆ—åœ¨æ˜¾ç¤ºå±çš„é¡¶éƒ¨ã€‚æ’å…¥ç¬¦å·ï¼ˆ`^`ï¼‰ä»£è¡¨ kbd:[Ctrl]ï¼Œæ‰€ä»¥ `^e` æ‰©å±•ä¸º kbd:[Ctrl + e]ã€‚è¦ç¦»å¼€ man:ee[1]ï¼ŒæŒ‰ä¸‹ kbd:[Esc]ï¼Œç„¶åä»ä¸»èœå•ä¸­é€‰æ‹©â€œç¦»å¼€ç¼–è¾‘å™¨â€é€‰é¡¹ã€‚å¦‚æœæ–‡ä»¶å·²è¢«ä¿®æ”¹ï¼Œç¼–è¾‘å™¨å°†æç¤ºä¿å­˜ä»»ä½•æ›´æ”¹ã€‚Ú‰FreeBSD also comes with more powerful text editors, such as man:vi[1], as part of the base system.  Other editors, like package:editors/emacs[] and package:editors/vim[], are part of the FreeBSD Ports Collection.  These editors offer more functionality at the expense of being more complicated to learn.  Learning a more powerful editor such as vim or Emacs can save more time in the long run.ÚŠFreeBSD è¿˜é…å¤‡äº†æ›´å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¾‹å¦‚ man:vi[1]ï¼Œä½œä¸ºåŸºæœ¬ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚å…¶ä»–ç¼–è¾‘å™¨ï¼Œå¦‚ package:editors/emacs[] å’Œ package:editors/vim[]ï¼Œæ˜¯ FreeBSD Ports Collection çš„ä¸€éƒ¨åˆ†ã€‚è¿™äº›ç¼–è¾‘å™¨æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œä½†å­¦ä¹ èµ·æ¥æ›´åŠ å¤æ‚ã€‚å­¦ä¹ ä½¿ç”¨åƒ vim æˆ– Emacs è¿™æ ·æ›´å¼ºå¤§çš„ç¼–è¾‘å™¨å¯ä»¥åœ¨é•¿æœŸæ¥çœ‹èŠ‚çœæ›´å¤šçš„æ—¶é—´ã€‚ÙÃMany applications which modify files or require typed input will automatically open a text editor.  To change the default editor, set the `EDITOR` environment variable as described in <<shells>>.ÙÁè®¸å¤šä¿®æ”¹æ–‡ä»¶æˆ–éœ€è¦è¾“å…¥æ–‡æœ¬çš„åº”ç”¨ç¨‹åºä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚è¦æ›´æ”¹é»˜è®¤çš„ç¼–è¾‘å™¨ï¼Œè¯·æŒ‰ç…§ <<shells>> ä¸­æè¿°çš„æ–¹å¼è®¾ç½® `EDITOR` ç¯å¢ƒå˜é‡ã€‚¸Devices and Device Nodesµè®¾å¤‡å’Œè®¾å¤‡èŠ‚ç‚¹ÚA device is a term used mostly for hardware-related activities in a system, including disks, printers, graphics cards, and keyboards.  When FreeBSD boots, the majority of the boot messages refer to devices being detected.  A copy of the boot messages is saved to `/var/run/dmesg.boot`.Ùõè®¾å¤‡æ˜¯ç³»ç»Ÿä¸­ä¸»è¦ç”¨äºç¡¬ä»¶ç›¸å…³æ´»åŠ¨çš„æœ¯è¯­ï¼ŒåŒ…æ‹¬ç£ç›˜ã€æ‰“å°æœºã€æ˜¾å¡å’Œé”®ç›˜ç­‰ã€‚å½“ FreeBSD å¯åŠ¨æ—¶ï¼Œå¤§éƒ¨åˆ†å¼•å¯¼æ¶ˆæ¯éƒ½æ˜¯å…³äºæ£€æµ‹åˆ°çš„è®¾å¤‡ã€‚å¼•å¯¼æ¶ˆæ¯çš„å‰¯æœ¬ä¿å­˜åœ¨ `/var/run/dmesg.boot` ä¸­ã€‚Ù‚Each device has a device name and number.  For example, `ada0` is the first SATA hard drive, while `kbd0` represents the keyboard.Ùyæ¯ä¸ªè®¾å¤‡éƒ½æœ‰ä¸€ä¸ªè®¾å¤‡åç§°å’Œç¼–å·ã€‚ä¾‹å¦‚ï¼Œ `ada0` è¡¨ç¤ºç¬¬ä¸€ä¸ª SATA ç¡¬ç›˜ï¼Œè€Œ `kbd0` è¡¨ç¤ºé”®ç›˜ã€‚ÙpMost devices in FreeBSD must be accessed through special files called device nodes, which are located in `/dev`.Ùƒåœ¨ FreeBSD ä¸­ï¼Œå¤§å¤šæ•°è®¾å¤‡å¿…é¡»é€šè¿‡ç§°ä¸ºè®¾å¤‡èŠ‚ç‚¹çš„ç‰¹æ®Šæ–‡ä»¶è¿›è¡Œè®¿é—®ï¼Œè¿™äº›æ–‡ä»¶ä½äº `/dev` ç›®å½•ä¸­ã€‚¬Manual Pages©æ‰‹å†Œé¡µÙùThe most comprehensive documentation on FreeBSD is in the form of manual pages.  Nearly every program on the system comes with a short reference manual explaining the basic operation and available arguments.  These manuals can be viewed using `man`:ÙÛFreeBSD ä¸Šæœ€å…¨é¢çš„æ–‡æ¡£æ˜¯ä»¥æ‰‹å†Œé¡µçš„å½¢å¼å­˜åœ¨çš„ã€‚ç³»ç»Ÿä¸Šå‡ ä¹æ¯ä¸ªç¨‹åºéƒ½é™„å¸¦æœ‰ä¸€ä¸ªç®€çŸ­çš„å‚è€ƒæ‰‹å†Œï¼Œè§£é‡Šå…¶åŸºæœ¬æ“ä½œå’Œå¯ç”¨å‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ `man` å‘½ä»¤æŸ¥çœ‹è¿™äº›æ‰‹å†Œã€‚Ùmwhere _command_ is the name of the command to learn about.  For example, to learn more about man:ls[1], type:Ùså…¶ä¸­ _command_ æ˜¯è¦äº†è§£çš„å‘½ä»¤çš„åç§°ã€‚ä¾‹å¦‚ï¼Œè¦äº†è§£æœ‰å…³ man:ls[1] çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è¾“å…¥ï¼šÙ|Manual pages are divided into sections which represent the type of topic.  In FreeBSD, the following sections are available:Ùræ‰‹å†Œé¡µè¢«åˆ†ä¸ºä¸åŒçš„ç« èŠ‚ï¼Œä»£è¡¨ä¸åŒçš„ä¸»é¢˜ç±»å‹ã€‚åœ¨ FreeBSD ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªç« èŠ‚å¯ç”¨ï¼š®User commands.¯ç”¨æˆ·å‘½ä»¤ã€‚¿System calls and error numbers.¾ç³»ç»Ÿè°ƒç”¨å’Œé”™è¯¯ç¼–å·ã€‚½Functions in the C libraries.´C åº“ä¸­çš„å‡½æ•°ã€‚¯Device drivers.µè®¾å¤‡é©±åŠ¨ç¨‹åºã€‚­File formats.¯æ–‡ä»¶æ ¼å¼ã€‚»Games and other diversions.¾æ¸¸æˆå’Œå…¶ä»–å¨±ä¹æ´»åŠ¨ã€‚ºMiscellaneous information.¯æ‚é¡¹ä¿¡æ¯ã€‚Ù*System maintenance and operation commands.¾ç³»ç»Ÿç»´æŠ¤å’Œæ“ä½œå‘½ä»¤ã€‚¹System kernel interfaces.µç³»ç»Ÿå†…æ ¸æ¥å£ã€‚ÙìIn some cases, the same topic may appear in more than one section of the online manual.  For example, there is a `chmod` user command and a `chmod()` system call.  To tell man:man[1] which section to display, specify the section number:Ùæåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒåŒä¸€ä¸ªä¸»é¢˜å¯èƒ½ä¼šå‡ºç°åœ¨åœ¨çº¿æ‰‹å†Œçš„å¤šä¸ªéƒ¨åˆ†ä¸­ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ª `chmod` ç”¨æˆ·å‘½ä»¤å’Œä¸€ä¸ª `chmod()` ç³»ç»Ÿè°ƒç”¨ã€‚è¦å‘Šè¯‰ man:man[1] æ˜¾ç¤ºå“ªä¸ªéƒ¨åˆ†ï¼Œéœ€è¦æŒ‡å®šéƒ¨åˆ†å·ç ï¼šÚThis will display the manual page for the user command man:chmod[1].  References to a particular section of the online manual are traditionally placed in parenthesis in written documentation, so man:chmod[1] refers to the user command and man:chmod[2] refers to the system call.Ùİè¿™å°†æ˜¾ç¤ºç”¨æˆ·å‘½ä»¤ man:chmod[1] çš„æ‰‹å†Œé¡µé¢ã€‚åœ¨ä¹¦é¢æ–‡æ¡£ä¸­ï¼Œå¯¹åœ¨çº¿æ‰‹å†Œçš„ç‰¹å®šéƒ¨åˆ†çš„å¼•ç”¨é€šå¸¸æ”¾åœ¨æ‹¬å·ä¸­ï¼Œå› æ­¤ man:chmod[1] æŒ‡çš„æ˜¯ç”¨æˆ·å‘½ä»¤ï¼Œman:chmod[2] æŒ‡çš„æ˜¯ç³»ç»Ÿè°ƒç”¨ã€‚ÙoIf the name of the manual page is unknown, use `man -k` to search for keywords in the manual page descriptions:Ù^å¦‚æœä¸çŸ¥é“æ‰‹å†Œé¡µçš„åç§°ï¼Œè¯·ä½¿ç”¨ `man -k` åœ¨æ‰‹å†Œé¡µæè¿°ä¸­æœç´¢å…³é”®å­—ï¼šÙ‰This command displays a list of commands that have the keyword "mail" in their descriptions.  This is equivalent to using man:apropos[1].Ùtè¯¥å‘½ä»¤æ˜¾ç¤ºå…·æœ‰å…³é”®å­—â€œmailâ€åœ¨å…¶æè¿°ä¸­çš„å‘½ä»¤åˆ—è¡¨ã€‚è¿™ç›¸å½“äºä½¿ç”¨ man:apropos[1] å‘½ä»¤ã€‚ÙFTo read the descriptions for all of the commands in `/usr/sbin`, type:ÙCè¦é˜…è¯» `/usr/sbin` ç›®å½•ä¸‹æ‰€æœ‰å‘½ä»¤çš„æè¿°ï¼Œè¯·è¾“å…¥ï¼š¢or¦æˆ–è€…®GNU Info Files¯GNU Info æ–‡ä»¶Ú1FreeBSD includes several applications and utilities produced by the Free Software Foundation (FSF).  In addition to manual pages, these programs may include hypertext documents called `info` files.  These can be viewed using man:info[1] or, if package:editors/emacs[] is installed, the info mode of emacs.Ú?FreeBSD åŒ…å«äº†ç”±è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFSFï¼‰åˆ¶ä½œçš„å¤šä¸ªåº”ç”¨ç¨‹åºå’Œå®ç”¨å·¥å…·ã€‚é™¤äº†æ‰‹å†Œé¡µï¼Œè¿™äº›ç¨‹åºè¿˜å¯èƒ½åŒ…æ‹¬ç§°ä¸º `info` æ–‡ä»¶çš„è¶…æ–‡æœ¬æ–‡æ¡£ã€‚å¯ä»¥ä½¿ç”¨ man:info[1] å‘½ä»¤æˆ–è€…å¦‚æœå®‰è£…äº† package:editors/emacs[] ï¼Œå¯ä»¥ä½¿ç”¨ emacs çš„ info æ¨¡å¼æ¥æŸ¥çœ‹è¿™äº›æ–‡ä»¶ã€‚¹To use man:info[1], type:Ù$è¦ä½¿ç”¨ man:info[1]ï¼Œè¯·è¾“å…¥ï¼šÙMFor a brief introduction, type `h`.  For a quick command reference, type `?`.ÙVè¦è¿›è¡Œç®€è¦ä»‹ç»ï¼Œè¯·è¾“å…¥ `h`ã€‚è¦æŸ¥çœ‹å¿«é€Ÿå‘½ä»¤å‚è€ƒï¼Œè¯·è¾“å…¥ `?`ã€‚Ú4A variety of free and commercial partition resizing tools are listed at link:https://en.wikipedia.org/wiki/List_of_disk_partitioning_software[List of disk partitioning software wikipedia entry].  link:https://gparted.org/livecd.php[GParted Live] is a free live CD which includes the GParted partition editor.Ú"åœ¨ link:https://en.wikipedia.org/wiki/List_of_disk_partitioning_software[ç£ç›˜åˆ†åŒºè½¯ä»¶ç»´åŸºç™¾ç§‘æ¡ç›®] ä¸­åˆ—å‡ºäº†å„ç§å…è´¹å’Œå•†ä¸šçš„åˆ†åŒºè°ƒæ•´å·¥å…·ã€‚link:https://gparted.org/livecd.php[GParted Live] æ˜¯ä¸€ä¸ªå…è´¹çš„ Live CDï¼Œå…¶ä¸­åŒ…å«äº† GParted åˆ†åŒºç¼–è¾‘å™¨ã€‚ÚWhen used properly, disk shrinking utilities can safely create space for creating a new partition.  Since the possibility of selecting the wrong partition exists, always backup any important data and verify the integrity of the backup before modifying disk partitions.ÙŞå½“æ­£ç¡®ä½¿ç”¨æ—¶ï¼Œç£ç›˜æ”¶ç¼©å·¥å…·å¯ä»¥å®‰å…¨åœ°ä¸ºåˆ›å»ºæ–°åˆ†åŒºè…¾å‡ºç©ºé—´ã€‚ç”±äºé€‰æ‹©é”™è¯¯åˆ†åŒºçš„å¯èƒ½æ€§å­˜åœ¨ï¼Œä¸€å®šè¦åœ¨ä¿®æ”¹ç£ç›˜åˆ†åŒºä¹‹å‰å¤‡ä»½ä»»ä½•é‡è¦æ•°æ®å¹¶éªŒè¯å¤‡ä»½çš„å®Œæ•´æ€§ã€‚Ú6Disk partitions containing different operating systems make it possible to install multiple operating systems on one computer.  An alternative is to use crossref:virtualization[virtualization,virtualization] which allows multiple operating systems to run at the same time without modifying any disk partitions.ÙáåŒ…å«ä¸åŒæ“ä½œç³»ç»Ÿçš„ç£ç›˜åˆ†åŒºä½¿å¾—åœ¨ä¸€å°è®¡ç®—æœºä¸Šå®‰è£…å¤šä¸ªæ“ä½œç³»ç»Ÿæˆä¸ºå¯èƒ½ã€‚å¦ä¸€ç§é€‰æ‹©æ˜¯ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ƒå…è®¸å¤šä¸ªæ“ä½œç³»ç»ŸåŒæ—¶è¿è¡Œï¼Œè€Œæ— éœ€ä¿®æ”¹ä»»ä½•ç£ç›˜åˆ†åŒºã€‚¾*Collect Network Information*
µ*æ”¶é›†ç½‘ç»œä¿¡æ¯*
ÙÇSome FreeBSD installation methods require a network connection in order to download the installation files.  After any installation, the installer will offer to setup the system's network interfaces.Ù™ä¸€äº› FreeBSD å®‰è£…æ–¹æ³•éœ€è¦ç½‘ç»œè¿æ¥æ‰èƒ½ä¸‹è½½å®‰è£…æ–‡ä»¶ã€‚åœ¨ä»»ä½•å®‰è£…ä¹‹åï¼Œå®‰è£…ç¨‹åºå°†æä¾›è®¾ç½®ç³»ç»Ÿç½‘ç»œæ¥å£çš„é€‰é¡¹ã€‚ÙüIf the network has a DHCP server, it can be used to provide automatic network configuration.  If DHCP is not available, the following network information for the system must be obtained from the local network administrator or Internet service provider:ÙÆå¦‚æœç½‘ç»œæœ‰ DHCP æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥æä¾›è‡ªåŠ¨ç½‘ç»œé…ç½®ã€‚å¦‚æœæ²¡æœ‰ DHCP å¯ç”¨ï¼Œå¿…é¡»ä»æœ¬åœ°ç½‘ç»œç®¡ç†å‘˜æˆ–äº’è”ç½‘æœåŠ¡æä¾›å•†è·å–ç³»ç»Ÿçš„ä»¥ä¸‹ç½‘ç»œä¿¡æ¯ï¼š¼Required Network Information²æ‰€éœ€ç½‘ç»œä¿¡æ¯ªIP address©IP åœ°å€«Subnet mask¬å­ç½‘æ©ç ½IP address of default gateway¹é»˜è®¤ç½‘å…³çš„ IP åœ°å€ºDomain name of the network¯ç½‘ç»œçš„åŸŸåÙ)IP addresses of the network's DNS serversÙ$ç½‘ç»œçš„ DNS æœåŠ¡å™¨çš„ IP åœ°å€»*Check for FreeBSD Errata*
»*æ£€æŸ¥ FreeBSD å‹˜è¯¯è¡¨*
Ú«Although the FreeBSD Project strives to ensure that each release of FreeBSD is as stable as possible, bugs occasionally creep into the process.  On very rare occasions those bugs affect the installation process.  As these problems are discovered and fixed, they are noted in the FreeBSD Errata page of each version.  Check the errata before installing to make sure that there are no problems that might affect the installation.Úkå°½ç®¡ FreeBSD é¡¹ç›®åŠªåŠ›ç¡®ä¿æ¯ä¸ª FreeBSD ç‰ˆæœ¬å°½å¯èƒ½ç¨³å®šï¼Œä½†å¶å°”ä¼šå‡ºç°ä¸€äº›é”™è¯¯ã€‚åœ¨éå¸¸ç½•è§çš„æƒ…å†µä¸‹ï¼Œè¿™äº›é”™è¯¯ä¼šå½±å“å®‰è£…è¿‡ç¨‹ã€‚å½“è¿™äº›é—®é¢˜è¢«å‘ç°å¹¶ä¿®å¤æ—¶ï¼Œå®ƒä»¬ä¼šåœ¨æ¯ä¸ªç‰ˆæœ¬çš„ FreeBSD å‹˜è¯¯é¡µé¢ä¸­è¿›è¡Œè®°å½•ã€‚åœ¨å®‰è£…ä¹‹å‰ï¼Œè¯·æ£€æŸ¥å‹˜è¯¯é¡µé¢ï¼Œä»¥ç¡®ä¿æ²¡æœ‰å¯èƒ½å½±å“å®‰è£…çš„é—®é¢˜ã€‚Ù‰Information and errata for all the releases can be found on the link:https://www.FreeBSD.org/releases/[FreeBSD Release Information] page.ÙŠæ‰€æœ‰å‘å¸ƒç‰ˆæœ¬çš„ä¿¡æ¯å’Œå‹˜è¯¯è¡¨éƒ½å¯ä»¥åœ¨ link:https://www.FreeBSD.org/releases/[FreeBSD Release Information] é¡µé¢ä¸Šæ‰¾åˆ°ã€‚¾Prepare the Installation Media²å‡†å¤‡å®‰è£…ä»‹è´¨ÚThe FreeBSD installer is not an application that can be run from within another operating system.  Instead, download a FreeBSD installation file, burn it to the media associated with its file type and size (CD, DVD, or USB), and boot the system to install from the inserted media.ÚFreeBSD å®‰è£…ç¨‹åºä¸æ˜¯å¯ä»¥åœ¨å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ç›¸åï¼Œæ‚¨éœ€è¦ä¸‹è½½ä¸€ä¸ª FreeBSD å®‰è£…æ–‡ä»¶ï¼Œå°†å…¶åˆ»å½•åˆ°ä¸å…¶æ–‡ä»¶ç±»å‹å’Œå¤§å°ï¼ˆCDã€DVD æˆ– USBï¼‰ç›¸å…³è”çš„ä»‹è´¨ä¸Šï¼Œå¹¶ä»æ’å…¥çš„ä»‹è´¨å¯åŠ¨ç³»ç»Ÿä»¥è¿›è¡Œå®‰è£…ã€‚ÙÛFreeBSD installation files are available at the link:https://www.FreeBSD.org/where/[FreeBSD download page].  Each installation file's name includes the release version of FreeBSD, the architecture, and the type of file.Ù¸FreeBSD å®‰è£…æ–‡ä»¶å¯ä»¥åœ¨ link:https://www.FreeBSD.org/where/[FreeBSD ä¸‹è½½é¡µé¢] ä¸Šæ‰¾åˆ°ã€‚æ¯ä¸ªå®‰è£…æ–‡ä»¶çš„åç§°åŒ…æ‹¬ FreeBSD çš„å‘å¸ƒç‰ˆæœ¬ã€æ¶æ„å’Œæ–‡ä»¶ç±»å‹ã€‚Ù¤Installation files are available in several formats, compressed with man:xz[1] or uncompressed.  The formats vary depending on computer architecture and media type.Ù¡å®‰è£…æ–‡ä»¶æœ‰å¤šç§æ ¼å¼å¯ä¾›é€‰æ‹©ï¼Œå¯ä»¥ä½¿ç”¨ man:xz[1] è¿›è¡Œå‹ç¼©æˆ–è€…ä¸å‹ç¼©ã€‚è¿™äº›æ ¼å¼æ ¹æ®è®¡ç®—æœºæ¶æ„å’Œåª’ä½“ç±»å‹è€Œæœ‰æ‰€ä¸åŒã€‚¸Installation file types:µå®‰è£…æ–‡ä»¶ç±»å‹ï¼šÚ`*-bootonly.iso*`: This is the smallest installation file as it only contains the installer. A working Internet connection is required during installation as the installer will download the files it needs to complete the FreeBSD installation. This file should be burned to optical media.Ùõ`*-bootonly.iso*`ï¼šè¿™æ˜¯æœ€å°çš„å®‰è£…æ–‡ä»¶ï¼ŒåªåŒ…å«å®‰è£…ç¨‹åºã€‚åœ¨å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ªå¯ç”¨çš„äº’è”ç½‘è¿æ¥ï¼Œå› ä¸ºå®‰è£…ç¨‹åºå°†ä¸‹è½½å®Œæˆ FreeBSD å®‰è£…æ‰€éœ€çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åº”è¯¥è¢«åˆ»å½•åˆ°å…‰ç›˜ä»‹è´¨ä¸Šã€‚Ù¡`*-disc1.iso*`: This file contains all of the files needed to install FreeBSD, its source, and the Ports Collection. This file should be burned to optical media.Ù¢`*-disc1.iso*`ï¼šè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å®‰è£… FreeBSD æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…¶æºä»£ç å’Œ Ports é›†åˆã€‚è¿™ä¸ªæ–‡ä»¶åº”è¯¥è¢«åˆ»å½•åˆ°å…‰ç›˜ä»‹è´¨ä¸Šã€‚Ún`*-dvd1.iso*`: This file contains all of the files needed to install FreeBSD, its source, and the Ports Collection. It also contains a set of popular binary packages for installing a window manager and some applications so that a complete system can be installed from media without requiring a connection to the Internet. This file should be burned to optical media.ÚS`*-dvd1.iso*` ï¼šè¯¥æ–‡ä»¶åŒ…å«å®‰è£… FreeBSD æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…¶æºä»£ç å’Œ Ports é›†åˆã€‚å®ƒè¿˜åŒ…å«ä¸€ç»„æµè¡Œçš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼Œç”¨äºå®‰è£…çª—å£ç®¡ç†å™¨å’Œä¸€äº›åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿å¯ä»¥åœ¨æ²¡æœ‰è¿æ¥åˆ°äº’è”ç½‘çš„æƒ…å†µä¸‹ä»ä»‹è´¨ä¸Šå®‰è£…å®Œæ•´çš„ç³»ç»Ÿã€‚è¯¥æ–‡ä»¶åº”è¯¥è¢«åˆ»å½•åˆ°å…‰ç›˜ä»‹è´¨ä¸Šã€‚Ù¶`*-memstick.img*`: This file contains all of the files needed to install FreeBSD, its source, and the Ports Collection. Write this file to a USB stick as shown in <<bsdinstall-usb>>.ÙÁ`*-memstick.img*`ï¼šè¯¥æ–‡ä»¶åŒ…å«å®‰è£… FreeBSD æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…¶æºä»£ç å’Œ Ports é›†åˆã€‚æŒ‰ç…§ <<bsdinstall-usb>> ä¸­æ‰€ç¤ºçš„æ–¹æ³•å°†è¯¥æ–‡ä»¶å†™å…¥ USB å­˜å‚¨è®¾å¤‡ã€‚Ùõ`*-mini-memstick.img*`: Like `*-bootonly.iso*`, does not include installation files, but downloads them as needed. A working internet connection is required during installation. It should be written to a USB stick as shown in <<bsdinstall-usb>>.Ùù`*-mini-memstick.img*`ï¼šä¸ `*-bootonly.iso*` ç±»ä¼¼ï¼Œä¸åŒ…å«å®‰è£…æ–‡ä»¶ï¼Œä½†ä¼šåœ¨éœ€è¦æ—¶è¿›è¡Œä¸‹è½½ã€‚åœ¨å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ªå¯ç”¨çš„äº’è”ç½‘è¿æ¥ã€‚è¯·æŒ‰ç…§ <<bsdinstall-usb>> ä¸­æ‰€ç¤ºçš„æ–¹å¼å°†å…¶å†™å…¥ USB å­˜å‚¨è®¾å¤‡ã€‚Ú2After downloading the image file, download at least one _checksum_ file from the same directory.  There are two _checksum_ files available, named after the release number and the architecture name.  For example: `CHECKSUM.SHA256-FreeBSD-13.1-RELEASE-amd64` and `CHECKSUM.SHA512-FreeBSD-13.1-RELEASE-amd64`.Úåœ¨ä¸‹è½½é•œåƒæ–‡ä»¶åï¼Œä»ç›¸åŒç›®å½•ä¸‹è½½è‡³å°‘ä¸€ä¸ª _checksum_ æ–‡ä»¶ã€‚æœ‰ä¸¤ä¸ª _checksum_ æ–‡ä»¶å¯ç”¨ï¼Œåˆ†åˆ«ä»¥å‘å¸ƒç‰ˆæœ¬å·å’Œæ¶æ„åç§°å‘½åã€‚ä¾‹å¦‚ï¼š`CHECKSUM.SHA256-FreeBSD-13.1-RELEASE-amd64` å’Œ `CHECKSUM.SHA512-FreeBSD-13.1-RELEASE-amd64`ã€‚Ú¼After downloading one of the files (or both), calculate the _checksum_ for the image file and compare it with the one shown in the _checksum_ file.  Note that you need to compare the calculated _checksum_ against the correct file, as they correspond to two different algorithms: SHA256 and SHA512.  FreeBSD provides man:sha256[1] and man:sha512[1] that can be used for calculating the _checksum_.  Other operating systems have similar programs.ÚÄåœ¨ä¸‹è½½å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼ˆæˆ–ä¸¤ä¸ªæ–‡ä»¶ï¼‰ä¹‹åï¼Œè®¡ç®—é•œåƒæ–‡ä»¶çš„ _æ ¡éªŒå’Œï¼ˆchecksumï¼‰_ å¹¶å°†å…¶ä¸ _checksum_ æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„ _æ ¡éªŒå’Œ_ è¿›è¡Œæ¯”è¾ƒã€‚è¯·æ³¨æ„ï¼Œæ‚¨éœ€è¦å°†è®¡ç®—å‡ºçš„ _æ ¡éªŒå’Œ_ ä¸æ­£ç¡®çš„æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºå®ƒä»¬å¯¹åº”äºä¸¤ç§ä¸åŒçš„ç®—æ³•ï¼š SHA256 å’Œ SHA512ã€‚ FreeBSD æä¾›äº†å¯ä»¥ç”¨äºè®¡ç®— _æ ¡éªŒå’Œ_ çš„ man:sha256[1] å’Œ man:sha512[1]ã€‚å…¶ä»–æ“ä½œç³»ç»Ÿä¹Ÿæœ‰ç±»ä¼¼çš„ç¨‹åºã€‚ÙyVerifying the _checksum_ in FreeBSD can be done automatically using man:sha256sum[1] (and man:sha512sum[1]) by executing:Ùmåœ¨ FreeBSD ä¸­ï¼Œå¯ä»¥é€šè¿‡æ‰§è¡Œ man:sha256sum[1]ï¼ˆå’Œ man:sha512sum[1]ï¼‰æ¥è‡ªåŠ¨éªŒè¯ _æ ¡éªŒå’Œ_ã€‚ÙyThe checksums must match exactly.  If the checksums do not match, the image file is corrupt and must be downloaded again.Ùfæ ¡éªŒå’Œå¿…é¡»å®Œå…¨åŒ¹é…ã€‚å¦‚æœæ ¡éªŒå’Œä¸åŒ¹é…ï¼Œåˆ™å›¾åƒæ–‡ä»¶æŸåï¼Œå¿…é¡»é‡æ–°ä¸‹è½½ã€‚¼Writing an Image File to USB¹å°†é•œåƒæ–‡ä»¶å†™å…¥ USBÚThe `\*memstick.img` file is an _image_ of the complete contents of a memory stick.  It _cannot_ be copied to the target device as a file.  Several applications are available for writing the `*.img` to a USB stick.  This section describes two of these utilities.Ùß`\*memstick.img` æ–‡ä»¶æ˜¯ä¸€ä¸ªå†…å­˜æ£’çš„å®Œæ•´å†…å®¹çš„ `é•œåƒ`ã€‚å®ƒä¸èƒ½ä½œä¸ºæ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡è®¾å¤‡ä¸Šã€‚æœ‰å‡ ä¸ªåº”ç”¨ç¨‹åºå¯ç”¨äºå°† `*.img` å†™å…¥ USB å†…å­˜æ£’ã€‚æœ¬èŠ‚ä»‹ç»å…¶ä¸­ä¸¤ä¸ªå®ç”¨ç¨‹åºã€‚ÙzBefore proceeding, back up any important data on the USB stick.  This procedure will erase the existing data on the stick.Ùiåœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·å¤‡ä»½ U ç›˜ä¸Šçš„ä»»ä½•é‡è¦æ•°æ®ã€‚æ­¤æ“ä½œå°†æ“¦é™¤ U ç›˜ä¸Šçš„ç°æœ‰æ•°æ®ã€‚Ù-*Procedure. Using `dd` to write the image* +
Ù**æ­¥éª¤ ä½¿ç”¨ `dd` å‘½ä»¤å†™å…¥é•œåƒ* +
ÙÔThis example uses `/dev/da0` as the target device where the image will be written.  Be *very careful* that the correct device is used as this command will destroy the existing data on the specified target device.ÙÁè¿™ä¸ªä¾‹å­ä½¿ç”¨ `/dev/da0` ä½œä¸ºç›®æ ‡è®¾å¤‡ï¼Œé•œåƒå°†è¢«å†™å…¥å…¶ä¸­ã€‚è¯· *éå¸¸å°å¿ƒ* ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„è®¾å¤‡ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤ä¼šç ´åæŒ‡å®šç›®æ ‡è®¾å¤‡ä¸Šçš„ç°æœ‰æ•°æ®ã€‚ÚiThe command-line utility is available on BSD, Linux(R), and Mac OS(R) systems. To burn the image using `dd`, insert the USB stick and determine its device name. Then, specify the name of the downloaded installation file and the device name for the USB stick. This example burns the amd64 installation image to the first USB device on an existing FreeBSD system.ÚBå‘½ä»¤è¡Œå®ç”¨ç¨‹åºå¯åœ¨ BSDã€Linux(R) å’Œ Mac OS(R) ç³»ç»Ÿä¸Šä½¿ç”¨ã€‚è¦ä½¿ç”¨ `dd` çƒ§å½•é•œåƒï¼Œè¯·æ’å…¥ USB é—ªå­˜å¹¶ç¡®å®šå…¶è®¾å¤‡åç§°ã€‚ç„¶åï¼ŒæŒ‡å®šä¸‹è½½çš„å®‰è£…æ–‡ä»¶çš„åç§°å’Œ USB é—ªå­˜çš„è®¾å¤‡åç§°ã€‚æ­¤ç¤ºä¾‹å°† amd64 å®‰è£…é•œåƒçƒ§å½•åˆ°ç°æœ‰çš„ FreeBSD ç³»ç»Ÿä¸Šçš„ç¬¬ä¸€ä¸ª USB è®¾å¤‡ã€‚ÙzIf this command fails, verify that the USB stick is not mounted and that the device name is for the disk, not a partition.Ùnå¦‚æœæ­¤å‘½ä»¤å¤±è´¥ï¼Œè¯·éªŒè¯ USB å­˜å‚¨è®¾å¤‡æ˜¯å¦æŒ‚è½½ï¼Œå¹¶ä¸”è®¾å¤‡åç§°æ˜¯ç£ç›˜è€Œä¸æ˜¯åˆ†åŒºã€‚Ú$Some operating systems might require this command to be run with man:sudo[8].  The man:dd[1] syntax varies slightly across different platforms; for example, Mac OS(R) requires a lower-case `bs=1m`.  Systems like Linux(R) might buffer writes.  To force all writes to complete, use man:sync[8].Ú5æŸäº›æ“ä½œç³»ç»Ÿå¯èƒ½éœ€è¦ä½¿ç”¨ man:sudo[8] å‘½ä»¤æ¥è¿è¡Œæ­¤å‘½ä»¤ã€‚man:dd[1] çš„è¯­æ³•åœ¨ä¸åŒçš„å¹³å°ä¸Šç•¥æœ‰ä¸åŒï¼›ä¾‹å¦‚ï¼ŒMac OS(R) éœ€è¦ä½¿ç”¨å°å†™çš„ `bs = 1m`ã€‚åƒ Linux(R) è¿™æ ·çš„ç³»ç»Ÿå¯èƒ½ä¼šç¼“å†²å†™å…¥æ“ä½œã€‚è¦å¼ºåˆ¶å®Œæˆæ‰€æœ‰å†™å…¥æ“ä½œï¼Œè¯·ä½¿ç”¨ man:sync[8] å‘½ä»¤ã€‚Ù3*Procedure. Using Windows(R) to Write the Image* +
Ù.* æ­¥éª¤ã€‚ä½¿ç”¨ Windows(R) å†™å…¥é•œåƒ * +
ÙwBe sure to give the correct drive letter as the existing data on the specified drive will be overwritten and destroyed.Ùiè¯·åŠ¡å¿…æä¾›æ­£ç¡®çš„é©±åŠ¨å™¨å­—æ¯ï¼Œå› ä¸ºæŒ‡å®šé©±åŠ¨å™¨ä¸Šçš„ç°æœ‰æ•°æ®å°†è¢«è¦†ç›–å’Œé”€æ¯ã€‚Ù(*Obtaining Image Writer for Windows(R)*
Ù(*è·å– Windows(R) çš„å›¾åƒå†™å…¥å™¨* 
ÙèImage Writer for Windows(R) is a free application that can correctly write an image file to a memory stick.  Download it from https://sourceforge.net/projects/win32diskimager/[win32diskimager home page] and extract it into a folder.ÙèImage Writer for Windows(R) æ˜¯ä¸€ä¸ªå…è´¹çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥æ­£ç¡®åœ°å°†å›¾åƒæ–‡ä»¶å†™å…¥å­˜å‚¨å¡ã€‚ä» https://sourceforge.net/projects/win32diskimager/[win32diskimager ä¸»é¡µ] ä¸‹è½½å¹¶å°†å…¶è§£å‹åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚Ù&*Writing the Image with Image Writer*
Ù(*ä½¿ç”¨ Writing the Image å†™å…¥é•œåƒ*
ÚÓDouble-click the Win32DiskImager icon to start the program.  Verify that the drive letter shown under `Device` is the drive with the memory stick.  Click the folder icon and select the image to be written to the memory stick.  Click btn:[Save] to accept the image file name.  Verify that everything is correct, and that no folders on the memory stick are open in other windows.  When everything is ready, click btn:[Write] to write the image file to the memory stick.Ú{åŒå‡» Win32DiskImager å›¾æ ‡å¯åŠ¨ç¨‹åºã€‚ç¡®ä¿åœ¨ `Device` ä¸‹æ˜¾ç¤ºçš„é©±åŠ¨å™¨å­—æ¯æ˜¯å­˜å‚¨å™¨çš„é©±åŠ¨å™¨ã€‚ç‚¹å‡»æ–‡ä»¶å¤¹å›¾æ ‡å¹¶é€‰æ‹©è¦å†™å…¥å­˜å‚¨å™¨çš„é•œåƒã€‚ç‚¹å‡» btn:[Save] æ¥å—é•œåƒæ–‡ä»¶åã€‚ç¡®è®¤ä¸€åˆ‡æ­£ç¡®ï¼Œå¹¶ä¸”å­˜å‚¨å™¨ä¸Šæ²¡æœ‰å…¶ä»–çª—å£ä¸­æ‰“å¼€çš„æ–‡ä»¶å¤¹ã€‚å½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªæ—¶ï¼Œç‚¹å‡» btn:[Write] å°†é•œåƒæ–‡ä»¶å†™å…¥å­˜å‚¨å™¨ã€‚¹Starting the Installation¬å¼€å§‹å®‰è£…ÙcBy default, the installation will not make any changes to the disk(s) before the following message:ÙZé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ä»¥ä¸‹æ¶ˆæ¯ä¹‹å‰ï¼Œå®‰è£…ç¨‹åºä¸ä¼šå¯¹ç£ç›˜è¿›è¡Œä»»ä½•æ›´æ”¹ï¼šÙİThe install can be exited at any time prior to this warning.  If there is a concern that something is incorrectly configured, just turn the computer off before this point and no changes will be made to the system's disks.Ù¨åœ¨å‡ºç°æ­¤è­¦å‘Šä¹‹å‰ï¼Œå¯ä»¥éšæ—¶é€€å‡ºå®‰è£…ã€‚å¦‚æœæ‹…å¿ƒæŸäº›é…ç½®ä¸æ­£ç¡®ï¼Œåªéœ€åœ¨æ­¤ä¹‹å‰å…³é—­è®¡ç®—æœºï¼Œç³»ç»Ÿç£ç›˜å°†ä¸ä¼šè¿›è¡Œä»»ä½•æ›´æ”¹ã€‚Ú¯This section describes how to boot the system from the installation media which was prepared using the instructions in <<bsdinstall-installation-media>>.  When using a bootable USB stick, plug in the USB stick before turning on the computer.  When booting from CD or DVD, turn on the computer and insert the media at the first opportunity.  How to configure the system to boot from the inserted media depends upon the architecture.Úeæœ¬èŠ‚æè¿°äº†å¦‚ä½•ä»ä½¿ç”¨ <<bsdinstall-installation-media>> ä¸­çš„è¯´æ˜å‡†å¤‡çš„å®‰è£…ä»‹è´¨å¼•å¯¼ç³»ç»Ÿã€‚ä½¿ç”¨å¯å¯åŠ¨çš„ USB é—ªå­˜é©±åŠ¨å™¨æ—¶ï¼Œåœ¨æ‰“å¼€è®¡ç®—æœºä¹‹å‰æ’å…¥ USB é—ªå­˜é©±åŠ¨å™¨ã€‚ä» CD æˆ– DVD å¼•å¯¼æ—¶ï¼Œåº”åœ¨ç¬¬ä¸€æ—¶é—´æ‰“å¼€è®¡ç®—æœºå¹¶æ’å…¥ä»‹è´¨ã€‚å¦‚ä½•é…ç½®ç³»ç»Ÿä»¥ä»æ’å…¥çš„ä»‹è´¨å¼•å¯¼å–å†³äºä½“ç³»ç»“æ„ã€‚±FreeBSD Boot Menu´FreeBSD å¯åŠ¨èœå•ÙeOnce the system boots from the installation media, a menu similar to the following will be displayed:ÙEä¸€æ—¦ç³»ç»Ÿä»å®‰è£…ä»‹è´¨å¯åŠ¨ï¼Œå°†æ˜¾ç¤ºç±»ä¼¼ä»¥ä¸‹çš„èœå•ï¼š¸FreeBSD Boot Loader MenuÙ FreeBSD å¼•å¯¼åŠ è½½ç¨‹åºèœå•¸FreeBSD boot loader menuÙ FreeBSD å¼•å¯¼åŠ è½½ç¨‹åºèœå•ÚaBy default, the menu will wait ten seconds for user input before booting into the FreeBSD installer or, if FreeBSD is already installed, before booting into FreeBSD.  To pause the boot timer in order to review the selections, press kbd:[Space].  To select an option, press its highlighted number, character, or key.  The following options are available.ÚYé»˜è®¤æƒ…å†µä¸‹ï¼Œèœå•å°†åœ¨å¯åŠ¨ FreeBSD å®‰è£…ç¨‹åºä¹‹å‰ç­‰å¾…åç§’é’Ÿä»¥ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œæˆ–è€…å¦‚æœ FreeBSD å·²ç»å®‰è£…ï¼Œåˆ™åœ¨å¯åŠ¨ FreeBSD ä¹‹å‰ç­‰å¾…åç§’é’Ÿã€‚è¦æš‚åœå¯åŠ¨è®¡æ—¶å™¨ä»¥æŸ¥çœ‹é€‰æ‹©é¡¹ï¼Œè¯·æŒ‰ä¸‹ç©ºæ ¼é”®ã€‚è¦é€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼Œè¯·æŒ‰ä¸‹å…¶çªå‡ºæ˜¾ç¤ºçš„æ•°å­—ã€å­—ç¬¦æˆ–é”®ã€‚ä»¥ä¸‹é€‰é¡¹å¯ç”¨ã€‚ÙŸ`Boot Multi User`: This will continue the FreeBSD boot process. If the boot timer has been paused, press kbd:[1], upper- or lower-case kbd:[B], or kbd:[Enter].Ù¿`å¯åŠ¨å¤šç”¨æˆ·æ¨¡å¼ï¼ˆBoot Multi Userï¼‰`ï¼šè¿™å°†ç»§ç»­ FreeBSD çš„å¯åŠ¨è¿‡ç¨‹ã€‚å¦‚æœå¯åŠ¨è®¡æ—¶å™¨å·²ç»æš‚åœï¼Œè¯·æŒ‰ä¸‹ kbd:[1]ã€å¤§å†™æˆ–å°å†™çš„ kbd:[B] æˆ– kbd:[Enter] é”®ã€‚ÙŞ`Boot Single User`: This mode can be used to fix an existing FreeBSD installation as described in crossref:boot[boot-singleuser,â€œSingle-User Modeâ€]. Press kbd:[2] or the upper- or lower-case kbd:[S] to enter this mode.Ùó`å•ç”¨æˆ·å¯åŠ¨ï¼ˆBoot Single Userï¼‰`: è¿™ç§æ¨¡å¼å¯ä»¥ç”¨äºä¿®å¤å·²æœ‰çš„ FreeBSD å®‰è£…ï¼Œå¦‚ crossref:boot[boot-singleuser ,â€å•ç”¨æˆ·æ¨¡å¼â€œ] ä¸­æ‰€è¿°ã€‚æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ kbd:[2] æˆ–å¤§å†™æˆ–å°å†™çš„ kbd:[S] è¿›å…¥æ­¤æ¨¡å¼ã€‚Ùş`Escape to loader prompt`: This will boot the system into a repair prompt that contains a limited number of low-level commands. This prompt is described in crossref:boot[boot-loader,â€œStage Threeâ€]. Press kbd:[3] or kbd:[Esc] to boot into this prompt.Ú`è¿›å…¥åŠ è½½å™¨æç¤ºç¬¦ï¼ˆEscape to loader promptï¼‰`: è¿™å°†ä½¿ç³»ç»Ÿå¯åŠ¨åˆ°ä¸€ä¸ªåŒ…å«æœ‰é™æ•°é‡ä½çº§å‘½ä»¤çš„ä¿®å¤æç¤ºç¬¦ã€‚è¯¥æç¤ºç¬¦åœ¨ crossref:boot[boot-loader,â€œStage Threeâ€] ä¸­æœ‰æè¿°ã€‚æŒ‰ä¸‹ kbd:[3] æˆ– kbd:[Esc] é”®è¿›å…¥è¯¥æç¤ºç¬¦ã€‚½`Reboot`: Reboots the system.Ù `Reboot`ï¼šé‡æ–°å¯åŠ¨ç³»ç»Ÿã€‚Ùr`Cons`: Allow to continue the installation by `video`, `serial`, `Dual (serial primary)` or `Dual (Video primary)`Ù‘`Cons`: å…è®¸é€šè¿‡ `è§†é¢‘ï¼ˆvideoï¼‰`ã€`ä¸²å£ï¼ˆserialï¼‰`ã€`åŒä¸²å£ï¼ˆä¸²å£ä¸ºä¸»ï¼‰` æˆ– `åŒè§†é¢‘ï¼ˆè§†é¢‘ä¸ºä¸»ï¼‰` ç»§ç»­å®‰è£…ã€‚Ù#`Kernel`: Loads a different kernel.Ù(`Kernel`: åŠ è½½ä¸€ä¸ªä¸åŒçš„å†…æ ¸ã€‚Ù_`Boot Options`: Opens the menu shown in, and described under, <<bsdinstall-boot-options-menu>>.Ùv`å¼•å¯¼é€‰é¡¹ï¼ˆBoot Optionsï¼‰` ï¼šæ‰“å¼€èœå•ï¼Œè¯¥èœå•åœ¨ <<bsdinstall-boot-options-menu>> ä¸­æ˜¾ç¤ºå¹¶æè¿°ã€‚¹FreeBSD Boot Options MenuºFreeBSD å¯åŠ¨é€‰é¡¹èœå•Ù1Menu showing the different boot options supportedÙ*æ˜¾ç¤ºæ”¯æŒçš„ä¸åŒå¯åŠ¨é€‰é¡¹çš„èœå•ÚAfter the keymaps have been loaded, bsdinstall displays the menu shown in <<bsdinstall-keymap-10>>.  Use the up and down arrows to select the keymap that most closely represents the mapping of the keyboard attached to the system.  Press kbd:[Enter] to save the selection.ÙÕåœ¨åŠ è½½äº†é”®ä½æ˜ å°„ä¹‹åï¼Œ bsdinstall ä¼šæ˜¾ç¤ºå¦‚ <<bsdinstall-keymap-10>> æ‰€ç¤ºçš„èœå•ã€‚ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©æœ€æ¥è¿‘ç³»ç»Ÿè¿æ¥çš„é”®ç›˜æ˜ å°„çš„é”®ä½æ˜ å°„ã€‚æŒ‰ä¸‹ kbd:[Enter] ä¿å­˜é€‰æ‹©ã€‚µKeymap Selection Menu¸æŒ‰é”®æ˜ å°„é€‰æ‹©èœå•Ù5Keymap selection menu showing all supported keyboardsÙ6æ˜¾ç¤ºæ‰€æœ‰æ”¯æŒçš„é”®ç›˜çš„æŒ‰é”®æ˜ å°„é€‰æ‹©èœå•Ù´Pressing kbd:[Esc] will exit this menu and use the default keymap.  If the choice of keymap is not clear, [.guimenuitem]#United States of America ISO-8859-1# is also a safe option.Ù´æŒ‰ä¸‹ kbd:[Esc] å°†é€€å‡ºæ­¤èœå•å¹¶ä½¿ç”¨é»˜è®¤é”®æ˜ å°„ã€‚å¦‚æœé”®æ˜ å°„çš„é€‰æ‹©ä¸æ˜ç¡®ï¼Œ[.guimenuitem]#United States of America ISO-8859-1# ä¹Ÿæ˜¯ä¸€ä¸ªå®‰å…¨çš„é€‰é¡¹ã€‚Ù¢In addition, when selecting a different keymap, the user can try the keymap and ensure it is correct before proceeding, as shown in <<bsdinstall-keymap-testing>>.Ù”æ­¤å¤–ï¼Œåœ¨é€‰æ‹©ä¸åŒçš„é”®ç›˜æ˜ å°„æ—¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨ç»§ç»­ä¹‹å‰å°è¯•å¹¶ç¡®ä¿å®ƒæ˜¯æ­£ç¡®çš„ï¼Œå¦‚ <<bsdinstall-keymap-testing>> æ‰€ç¤ºã€‚³Keymap Testing Menu¸æŒ‰é”®æ˜ å°„æµ‹è¯•èœå•³Keymap testing menu¸æŒ‰é”®æ˜ å°„æµ‹è¯•èœå•´Setting the Hostname¯è®¾ç½®ä¸»æœºåÙTThe next bsdinstall menu is used to set the hostname for the newly installed system.ÙEä¸‹ä¸€ä¸ª bsdinstall èœå•ç”¨äºè®¾ç½®æ–°å®‰è£…ç³»ç»Ÿçš„ä¸»æœºåã€‚´Setting the hostname¯è®¾ç½®ä¸»æœºåÙ|Type in a hostname that is unique for the network.  It should be a fully-qualified hostname, such as `machine3.example.com`.Ù{è¾“å…¥ä¸€ä¸ªåœ¨ç½‘ç»œä¸­å”¯ä¸€çš„ä¸»æœºåã€‚å®ƒåº”è¯¥æ˜¯ä¸€ä¸ªå®Œå…¨åˆæ ¼çš„ä¸»æœºåï¼Œä¾‹å¦‚ `machine3.example.com` ã€‚¿Selecting Components to Install¸é€‰æ‹©è¦å®‰è£…çš„ç»„ä»¶ÙFNext, bsdinstall will prompt to select optional components to install.ÙBæ¥ä¸‹æ¥ï¼Œ bsdinstall å°†æç¤ºé€‰æ‹©è¦å®‰è£…çš„å¯é€‰ç»„ä»¶ã€‚Ù=Different components that can be installed. Example: base-dbgÙ/å¯ä»¥å®‰è£…çš„ä¸åŒç»„ä»¶ã€‚ç¤ºä¾‹ï¼šbase-dbgÚ,Deciding which components to install will depend largely on the intended use of the system and the amount of disk space available.  The FreeBSD kernel and userland, collectively known as the _base system_, are always installed.  Depending on the architecture, some of these components may not appear:Ùíå†³å®šå®‰è£…å“ªäº›ç»„ä»¶å°†ä¸»è¦å–å†³äºç³»ç»Ÿçš„é¢„æœŸç”¨é€”å’Œå¯ç”¨çš„ç£ç›˜ç©ºé—´ã€‚ FreeBSD å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ï¼Œç»Ÿç§°ä¸ºâ€œåŸºæœ¬ç³»ç»Ÿâ€ï¼Œå§‹ç»ˆä¼šè¢«å®‰è£…ã€‚æ ¹æ®æ¶æ„çš„ä¸åŒï¼Œå…¶ä¸­ä¸€äº›ç»„ä»¶å¯èƒ½ä¸ä¼šå‡ºç°ï¼šÙY`base-dbg` - Base tools like cat and ls, among many others, with debug symbols activated.Ù^`base-dbg` - åŸºæœ¬å·¥å…·ï¼Œå¦‚ cat å’Œ ls ç­‰ï¼Œå…¶ä¸­åŒ…å«å¯ç”¨äº†è°ƒè¯•ç¬¦å·çš„å·¥å…·ã€‚Ù?`kernel-dbg` - Kernel and modules with debug symbols activated.Ù9`kernel-dbg` - å¯ç”¨äº†è°ƒè¯•ç¬¦å·çš„å†…æ ¸å’Œæ¨¡å—ã€‚Ù‚`lib32-dbg` - Compatibility libraries for running 32-bit applications on a 64-bit version of FreeBSD with debug symbols activated.Ùg`lib32-dbg` - åœ¨å¯ç”¨è°ƒè¯•ç¬¦å·çš„ 64 ä½ FreeBSD ç‰ˆæœ¬ä¸Šè¿è¡Œ 32 ä½åº”ç”¨ç¨‹åºçš„å…¼å®¹åº“ã€‚Ùa`lib32` - Compatibility libraries for running 32-bit applications on a 64-bit version of FreeBSD.ÙT`lib32` - åœ¨ 64 ä½ç‰ˆæœ¬çš„ FreeBSD ä¸Šè¿è¡Œ 32 ä½åº”ç”¨ç¨‹åºçš„å…¼å®¹æ€§åº“ã€‚Ú
`ports` - The FreeBSD Ports Collection is a collection of files which automates the downloading, compiling and installation of third-party software packages. crossref:ports[ports,Installing Applications: Packages and Ports] discusses how to use the Ports Collection.ÙÖ`ports` - FreeBSD Ports Collection æ˜¯ä¸€ç»„æ–‡ä»¶ï¼Œç”¨äºè‡ªåŠ¨ä¸‹è½½ã€ç¼–è¯‘å’Œå®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…ã€‚ crossref:ports[ports,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ Ports] è®¨è®ºäº†å¦‚ä½•ä½¿ç”¨ Ports Collectionã€‚ÙÎThe installation program does not check for adequate disk space.  Select this option only if sufficient hard disk space is available.  The FreeBSD Ports Collection takes up about {ports-size} of disk space.Ù­å®‰è£…ç¨‹åºä¸ä¼šæ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿã€‚åªæœ‰åœ¨æœ‰è¶³å¤Ÿçš„ç¡¬ç›˜ç©ºé—´æ—¶æ‰é€‰æ‹©æ­¤é€‰é¡¹ã€‚ FreeBSD Ports é›†åˆå¤§çº¦å ç”¨ {ports-size} çš„ç£ç›˜ç©ºé—´ã€‚Ú¢`src` - The complete FreeBSD source code for both the kernel and the userland. Although not required for the majority of applications, it may be required to build device drivers, kernel modules, or some applications from the Ports Collection. It is also used for developing FreeBSD itself. The full source tree requires 1 GB of disk space and recompiling the entire FreeBSD system requires an additional 5 GB of space.Úv`src` - åŒ…å« FreeBSD å†…æ ¸å’Œç”¨æˆ·ç©ºé—´çš„å®Œæ•´æºä»£ç ã€‚è™½ç„¶å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸éœ€è¦å®ƒï¼Œä½†åœ¨æ„å»ºè®¾å¤‡é©±åŠ¨ç¨‹åºã€å†…æ ¸æ¨¡å—æˆ–ä» Ports Collection ä¸­æ„å»ºæŸäº›åº”ç”¨ç¨‹åºæ—¶å¯èƒ½éœ€è¦å®ƒã€‚å®ƒè¿˜ç”¨äºå¼€å‘ FreeBSD æœ¬èº«ã€‚å®Œæ•´çš„æºä»£ç æ ‘éœ€è¦ 1 GB çš„ç£ç›˜ç©ºé—´ï¼Œé‡æ–°ç¼–è¯‘æ•´ä¸ª FreeBSD ç³»ç»Ÿéœ€è¦é¢å¤–çš„ 5 GB ç©ºé—´ã€‚½`tests` - FreeBSD Test Suite.Ù!`tests` - FreeBSD æµ‹è¯•å¥—ä»¶ã€‚»Installing from the Network¯ä»ç½‘ç»œå®‰è£…ÚÛThe menu shown in <<bsdinstall-netinstall-notify>> only appears when installing from a `-bootonly.iso` or `-mini-memstick.img`, as this installation media does not hold copies of the installation files.  Since the installation files must be retrieved over a network connection, this menu indicates that the network interface must be configured first.  If this menu is shown in any step of the process, remember to follow the instructions in <<bsdinstall-config-network-dev>>.Ú§åœ¨ <<bsdinstall-netinstall-notify>> ä¸­æ˜¾ç¤ºçš„èœå•åªä¼šåœ¨ä» `-bootonly.iso` æˆ– `-mini-memstick.img` è¿›è¡Œå®‰è£…æ—¶å‡ºç°ï¼Œå› ä¸ºè¿™ç§å®‰è£…ä»‹è´¨ä¸ä¿å­˜å®‰è£…æ–‡ä»¶çš„å‰¯æœ¬ã€‚ç”±äºå®‰è£…æ–‡ä»¶å¿…é¡»é€šè¿‡ç½‘ç»œè¿æ¥è·å–ï¼Œæ‰€ä»¥è¯¥èœå•è¡¨ç¤ºå¿…é¡»å…ˆé…ç½®ç½‘ç»œæ¥å£ã€‚å¦‚æœåœ¨è¿‡ç¨‹çš„ä»»ä½•æ­¥éª¤ä¸­æ˜¾ç¤ºäº†è¯¥èœå•ï¼Œè¯·è®°ä½æŒ‰ç…§ <<bsdinstall-config-network-dev>> ä¸­çš„è¯´æ˜è¿›è¡Œæ“ä½œã€‚Ù_Indicates that certain components have not been found and will be downloaded using the network.Ù?è¡¨ç¤ºæŸäº›ç»„ä»¶æœªæ‰¾åˆ°ï¼Œå¹¶å°†ä½¿ç”¨ç½‘ç»œè¿›è¡Œä¸‹è½½ã€‚µAllocating Disk Space²åˆ†é…ç£ç›˜ç©ºé—´ÙHThe next menu is used to determine the method for allocating disk space.Ù9ä¸‹ä¸€ä¸ªèœå•ç”¨äºç¡®å®šåˆ†é…ç£ç›˜ç©ºé—´çš„æ–¹æ³•ã€‚´Partitioning Choices¬åˆ†åŒºé€‰æ‹©Ù6Shows the different partition options. Example: ManualÙ-æ˜¾ç¤ºä¸åŒçš„åˆ†åŒºé€‰é¡¹ã€‚ç¤ºä¾‹ï¼šManualÙAbsdinstall gives the user four methods for allocating disk space:ÙAbsdinstall ä¸ºç”¨æˆ·æä¾›äº†å››ç§åˆ†é…ç£ç›˜ç©ºé—´çš„æ–¹æ³•ï¼šÙu`Auto (ZFS)` partitioning creates a root-on-ZFS system with optional GELI encryption support for _boot environments_.Ùi`Auto (ZFS)` åˆ†åŒºåˆ›å»ºä¸€ä¸ªåŸºäº ZFS çš„ç³»ç»Ÿï¼Œå¯é€‰æ‹©æ”¯æŒ GELI åŠ å¯†ç”¨äº _å¼•å¯¼ç¯å¢ƒ_ã€‚Ù``Auto (UFS)` partitioning automatically sets up the disk partitions using the `UFS` file system.ÙS`Auto (UFS)` åˆ†åŒºæ˜¯ä½¿ç”¨ `UFS` æ–‡ä»¶ç³»ç»Ÿè‡ªåŠ¨è®¾ç½®ç£ç›˜åˆ†åŒºçš„åŠŸèƒ½ã€‚Ù^`Manual` partitioning allows advanced users to create customized partitions from menu options.ÙK`Manual` åˆ†åŒºå…è®¸é«˜çº§ç”¨æˆ·é€šè¿‡èœå•é€‰é¡¹åˆ›å»ºè‡ªå®šä¹‰åˆ†åŒºã€‚Ù¥`Shell` opens a shell prompt where advanced users can create customized partitions using command-line utilities like man:gpart[8], man:fdisk[8], and man:bsdlabel[8].ÙŸ`Shell` æ‰“å¼€ä¸€ä¸ª shell æç¤ºç¬¦ï¼Œé«˜çº§ç”¨æˆ·å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ man:gpart[8]ã€man:fdisk[8] å’Œ man:bsdlabel[8]ï¼‰åˆ›å»ºè‡ªå®šä¹‰åˆ†åŒºã€‚Ù‘This section describes what to consider when laying out the disk partitions.  It then demonstrates how to use the different partitioning methods.Ùræœ¬èŠ‚æè¿°äº†åœ¨å¸ƒç½®ç£ç›˜åˆ†åŒºæ—¶éœ€è¦è€ƒè™‘çš„äº‹é¡¹ã€‚ç„¶åæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä¸åŒçš„åˆ†åŒºæ–¹æ³•ã€‚¾Designing the Partition Layout²è®¾è®¡åˆ†åŒºå¸ƒå±€ÚjThe default partition layout for file systems includes one file system for the entire system.  When using `UFS` it may be worth considering the use of multiple file systems if you have sufficient disk space or multiple disks.  When laying out file systems, remember that hard drives transfer data faster from the outer tracks to the inner.  Thus, smaller and heavier-accessed file systems should be closer to the outside of the drive, while larger partitions like `/usr` should be placed toward the inner parts of the disk.  It is a good idea to create partitions in an order similar to: `/`, swap, `/var`, and `/usr`.Ú)æ–‡ä»¶ç³»ç»Ÿçš„é»˜è®¤åˆ†åŒºå¸ƒå±€åŒ…æ‹¬ä¸€ä¸ªç”¨äºæ•´ä¸ªç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿã€‚å½“ä½¿ç”¨ `UFS` æ—¶ï¼Œå¦‚æœæ‚¨æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´æˆ–å¤šä¸ªç£ç›˜ï¼Œè€ƒè™‘ä½¿ç”¨å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿå¯èƒ½æ˜¯å€¼å¾—çš„ã€‚åœ¨å¸ƒç½®æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œè¯·è®°ä½ç¡¬ç›˜ä»å¤–éƒ¨è½¨é“åˆ°å†…éƒ¨ä¼ è¾“æ•°æ®é€Ÿåº¦æ›´å¿«ã€‚å› æ­¤ï¼Œè¾ƒå°ä¸”è®¿é—®é¢‘ç‡è¾ƒé«˜çš„æ–‡ä»¶ç³»ç»Ÿåº”è¯¥é è¿‘é©±åŠ¨å™¨çš„å¤–éƒ¨ï¼Œè€Œåƒ `/usr` è¿™æ ·çš„è¾ƒå¤§åˆ†åŒºåº”è¯¥æ”¾ç½®åœ¨ç£ç›˜çš„å†…éƒ¨éƒ¨åˆ†ã€‚æŒ‰ç…§ç±»ä¼¼çš„é¡ºåºåˆ›å»ºåˆ†åŒºæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼š `/` ã€äº¤æ¢ç©ºé—´ã€`/var` å’Œ `/usr`ã€‚ÚfThe size of the `/var` partition reflects the intended machine's usage.  This partition is used to hold mailboxes, log files, and printer spools.  Mailboxes and log files can grow to unexpected sizes depending on the number of users and how long log files are kept.  On average, most users rarely need more than about a gigabyte of free disk space in `/var`.ÚX`/var` åˆ†åŒºçš„å¤§å°åæ˜ äº†é¢„æœŸæœºå™¨çš„ä½¿ç”¨æƒ…å†µã€‚è¯¥åˆ†åŒºç”¨äºå­˜å‚¨é‚®ç®±ã€æ—¥å¿—æ–‡ä»¶å’Œæ‰“å°æœºé˜Ÿåˆ—ã€‚æ ¹æ®ç”¨æˆ·æ•°é‡å’Œæ—¥å¿—æ–‡ä»¶ä¿ç•™æ—¶é—´çš„é•¿çŸ­ï¼Œé‚®ç®±å’Œæ—¥å¿—æ–‡ä»¶çš„å¤§å°å¯èƒ½ä¼šå‡ºä¹æ„æ–™åœ°å¢é•¿ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°ç”¨æˆ·åœ¨ `/var` åˆ†åŒºä¸­å¾ˆå°‘éœ€è¦è¶…è¿‡ 1GB çš„å¯ç”¨ç£ç›˜ç©ºé—´ã€‚Ú,Sometimes, a lot of disk space is required in `/var/tmp`.  When new software is installed, the packaging tools extract a temporary copy of the packages under `/var/tmp`.  Large software packages, like Firefox or LibreOffice may be tricky to install if there is not enough disk space under `/var/tmp`.Ú!æœ‰æ—¶ï¼Œåœ¨ `/var/tmp` ç›®å½•ä¸‹éœ€è¦å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚å½“å®‰è£…æ–°è½¯ä»¶æ—¶ï¼Œæ‰“åŒ…å·¥å…·ä¼šåœ¨ `/var/tmp` ç›®å½•ä¸‹æå–è½¯ä»¶åŒ…çš„ä¸´æ—¶å‰¯æœ¬ã€‚å¦‚æœ `/var/tmp` ç›®å½•ä¸‹çš„ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œå®‰è£…å¤§å‹è½¯ä»¶åŒ…ï¼ˆå¦‚ Firefox æˆ– LibreOffice ï¼‰å¯èƒ½ä¼šå˜å¾—æ£˜æ‰‹ã€‚ÚyThe `/usr` partition holds many of the files which support the system, including the FreeBSD Ports Collection and system source code.  At least 2 gigabytes of space is recommended for this partition.  Also, note that home directories for users are placed in `/usr/home` by default, but can be placed on another partition.  By default, `/home` is a symbolic link to `/usr/home`.ÚT`/usr` åˆ†åŒºå­˜æ”¾ç€è®¸å¤šæ”¯æŒç³»ç»Ÿçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ FreeBSD Ports Collection å’Œç³»ç»Ÿæºä»£ç ã€‚å»ºè®®ä¸ºè¿™ä¸ªåˆ†åŒºæä¾›è‡³å°‘ 2GB çš„ç©ºé—´ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„å®¶ç›®å½•ä½äº `/usr/home` ï¼Œä½†ä¹Ÿå¯ä»¥æ”¾åœ¨å¦ä¸€ä¸ªåˆ†åŒºä¸Šã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ `/home` æ˜¯æŒ‡å‘ `/usr/home` çš„ç¬¦å·é“¾æ¥ã€‚Ù—When selecting partition sizes, keep the space requirements in mind.  Running out of space in one partition while barely using another can be a hassle.Ùåœ¨é€‰æ‹©åˆ†åŒºå¤§å°æ—¶ï¼Œè¯·è€ƒè™‘ç©ºé—´éœ€æ±‚ã€‚åœ¨ä¸€ä¸ªåˆ†åŒºä¸­ç©ºé—´ä¸è¶³ï¼Œè€Œå¦ä¸€ä¸ªåˆ†åŒºå‡ ä¹æœªä½¿ç”¨å¯èƒ½ä¼šå¸¦æ¥éº»çƒ¦ã€‚ÚQAs a rule of thumb, the swap partition should be about double the size of physical memory (RAM).  Systems with minimal RAM (less for larger-memory configurations) may perform better with more swap.  Configuring too little swap can lead to inefficiencies in the VM page scanning code and might create issues later if more memory is added.Ú_ä½œä¸ºä¸€ä¸ªç»éªŒæ³•åˆ™ï¼Œäº¤æ¢åˆ†åŒºçš„å¤§å°åº”è¯¥æ˜¯ç‰©ç†å†…å­˜ï¼ˆRAMï¼‰çš„ä¸¤å€å·¦å³ã€‚å…·æœ‰è¾ƒå°å†…å­˜çš„ç³»ç»Ÿï¼ˆå¯¹äºè¾ƒå¤§å†…å­˜é…ç½®æ¥è¯´æ›´å°‘ï¼‰å¯èƒ½åœ¨æœ‰æ›´å¤šäº¤æ¢ç©ºé—´æ—¶æ€§èƒ½æ›´å¥½ã€‚é…ç½®è¿‡å°‘çš„äº¤æ¢ç©ºé—´å¯èƒ½å¯¼è‡´è™šæ‹Ÿå†…å­˜é¡µé¢æ‰«æä»£ç çš„ä½æ•ˆï¼Œå¹¶ä¸”å¦‚æœæ·»åŠ æ›´å¤šå†…å­˜åå¯èƒ½ä¼šå¼•å‘é—®é¢˜ã€‚Ú
On larger systems with multiple SCSI disks or multiple IDE disks operating on different controllers, it is recommended that swap be configured on each drive, up to four drives.  The swap partitions should be approximately the same size.  The kernel can handle arbitrary sizes, but internal data structures scale to 4 times the largest swap partition.  Keeping the swap partitions near the same size will allow the kernel to optimally stripe swap space across disks.  Large swap sizes may elicit a kernel warning message about the total configured swap.  The limit is raised by increasing the amount of memory allowed for keeping track of swap allocations, as instructed by the warning message.  It might be easier to recover from a runaway program before being forced to reboot.Ú±åœ¨å…·æœ‰å¤šä¸ª SCSI ç£ç›˜æˆ–å¤šä¸ªåœ¨ä¸åŒæ§åˆ¶å™¨ä¸Šè¿è¡Œçš„ IDE ç£ç›˜çš„è¾ƒå¤§ç³»ç»Ÿä¸Šï¼Œå»ºè®®åœ¨æ¯ä¸ªé©±åŠ¨å™¨ä¸Šé…ç½®äº¤æ¢ç©ºé—´ï¼Œæœ€å¤šå››ä¸ªé©±åŠ¨å™¨ã€‚äº¤æ¢åˆ†åŒºçš„å¤§å°åº”è¯¥å¤§è‡´ç›¸åŒã€‚å†…æ ¸å¯ä»¥å¤„ç†ä»»æ„å¤§å°ï¼Œä½†å†…éƒ¨æ•°æ®ç»“æ„ä¼šæŒ‰ç…§æœ€å¤§äº¤æ¢åˆ†åŒºçš„ 4 å€è¿›è¡Œæ‰©å±•ã€‚ä¿æŒäº¤æ¢åˆ†åŒºçš„å¤§å°æ¥è¿‘ç›¸åŒï¼Œå¯ä»¥è®©å†…æ ¸ä»¥æœ€ä½³æ–¹å¼åœ¨ä¸åŒç£ç›˜é—´æ¡å¸¦åŒ–äº¤æ¢ç©ºé—´ã€‚è¾ƒå¤§çš„äº¤æ¢å¤§å°å¯èƒ½ä¼šå¼•å‘æœ‰å…³æ€»é…ç½®äº¤æ¢çš„å†…æ ¸è­¦å‘Šæ¶ˆæ¯ã€‚é€šè¿‡å¢åŠ ç”¨äºè·Ÿè¸ªäº¤æ¢åˆ†é…çš„å†…å­˜é‡æ¥æé«˜é™åˆ¶ï¼Œå¦‚è­¦å‘Šæ¶ˆæ¯æ‰€æŒ‡ç¤ºçš„é‚£æ ·ã€‚åœ¨è¢«è¿«é‡æ–°å¯åŠ¨ä¹‹å‰ï¼Œä»å¤±æ§çš„ç¨‹åºä¸­æ¢å¤å¯èƒ½æ›´å®¹æ˜“ã€‚ÚäBy properly partitioning a system, fragmentation introduced in the smaller write-heavy partitions will not bleed over into the mostly read partitions.  Keeping the write-loaded partitions closer to the disk's edge will increase I/O performance in the partitions where it occurs the most.  While I/O performance in the larger partitions may be needed, shifting them more toward the edge of the disk will not lead to a significant performance improvement over moving `/var` to the edge.Úké€šè¿‡æ­£ç¡®åœ°åˆ†åŒºç³»ç»Ÿï¼Œè¾ƒå°çš„å†™å…¥å¯†é›†åˆ†åŒºå¼•å…¥çš„ç¢ç‰‡ä¸ä¼šæ³¢åŠåˆ°ä¸»è¦è¯»å–åˆ†åŒºã€‚å°†å†™å…¥è´Ÿè½½è¾ƒé‡çš„åˆ†åŒºä¿æŒåœ¨ç£ç›˜è¾¹ç¼˜é™„è¿‘ï¼Œå°†æé«˜åœ¨è¿™äº›åˆ†åŒºä¸­å‘ç”Ÿçš„ I/O æ€§èƒ½ã€‚è™½ç„¶å¯èƒ½éœ€è¦è¾ƒå¤§åˆ†åŒºçš„ I/O æ€§èƒ½ï¼Œä½†å°†å®ƒä»¬æ›´é è¿‘ç£ç›˜è¾¹ç¼˜ä¸ä¼šæ¯”å°† `/var` ç§»åŠ¨åˆ°è¾¹ç¼˜å¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½æ”¹å–„ã€‚½Guided Partitioning Using UFS½ä½¿ç”¨ UFS è¿›è¡Œå¼•å¯¼åˆ†åŒºÙ›When this method is selected, a menu will display the available disk(s).  If multiple disks are connected, choose the one where FreeBSD is to be installed.Ù~å½“é€‰æ‹©æ­¤æ–¹æ³•æ—¶ï¼Œèœå•å°†æ˜¾ç¤ºå¯ç”¨çš„ç£ç›˜ã€‚å¦‚æœè¿æ¥äº†å¤šä¸ªç£ç›˜ï¼Œè¯·é€‰æ‹©è¦å®‰è£… FreeBSD çš„ç£ç›˜ã€‚½Selecting from Multiple Disks¾ä»å¤šä¸ªç£ç›˜ä¸­è¿›è¡Œé€‰æ‹©Ù9Shows the list of disks on which FreeBSD can be installedÙ*æ˜¾ç¤ºå¯ä»¥å®‰è£… FreeBSD çš„ç£ç›˜åˆ—è¡¨ÚFOnce the disk is selected, the next menu prompts to install to either the entire disk or to create a partition using free space.  If btn:[Entire Disk] is chosen, a general partition layout filling the whole disk is automatically created.  Selecting btn:[Partition] creates a partition layout from the unused space on the disk.Ú&é€‰æ‹©ç£ç›˜åï¼Œä¸‹ä¸€ä¸ªèœå•ä¼šæç¤ºé€‰æ‹©æ˜¯å°†æ•´ä¸ªç£ç›˜å®‰è£…ï¼Œè¿˜æ˜¯ä½¿ç”¨å¯ç”¨ç©ºé—´åˆ›å»ºåˆ†åŒºã€‚å¦‚æœé€‰æ‹© btn:[Entire Disk] ï¼Œå°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¡«æ»¡æ•´ä¸ªç£ç›˜çš„é€šç”¨åˆ†åŒºå¸ƒå±€ã€‚é€‰æ‹© btn:[Partition] å°†ä»ç£ç›˜ä¸Šæœªä½¿ç”¨çš„ç©ºé—´åˆ›å»ºä¸€ä¸ªåˆ†åŒºå¸ƒå±€ã€‚Ù"Selecting Entire Disk or Partition»é€‰æ‹©æ•´ä¸ªç£ç›˜æˆ–åˆ†åŒºÙhMenu asking the user if he wants to use all the available space on the disk or wants to make a partitionÙ`èœå•è¯¢é—®ç”¨æˆ·æ˜¯å¦æƒ³è¦ä½¿ç”¨ç£ç›˜ä¸Šçš„æ‰€æœ‰å¯ç”¨ç©ºé—´ï¼Œè¿˜æ˜¯æƒ³è¦è¿›è¡Œåˆ†åŒºã€‚ÙsAfter the btn:[Entire Disk] option is chosen, bsdinstall displays a dialog indicating that the disk will be erased.Ùcé€‰æ‹© btn:[Entire Disk] é€‰é¡¹åï¼Œbsdinstall ä¼šæ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†ï¼ŒæŒ‡ç¤ºå°†æ“¦é™¤ç£ç›˜ã€‚¬Confirmation¦ç¡®è®¤Ù^Menu indicating the user that all data on the disk will be deleted and asking for confirmationÙKèœå•æç¤ºç”¨æˆ·æ‰€æœ‰ç£ç›˜ä¸Šçš„æ•°æ®å°†è¢«åˆ é™¤ï¼Œå¹¶è¦æ±‚ç¡®è®¤ã€‚ÚRThe next menu shows a list with the available partition scheme types.  GPT is usually the most appropriate choice for amd64 computers.  Older computers that are not compatible with GPT should use MBR.  The other partition schemes are generally used for uncommon or older computers.  More information is available in <<partition-schemes>>.Ú%ä¸‹ä¸€ä¸ªèœå•æ˜¾ç¤ºäº†å¯ç”¨çš„åˆ†åŒºæ–¹æ¡ˆç±»å‹åˆ—è¡¨ã€‚å¯¹äº amd64 è®¡ç®—æœºæ¥è¯´ï¼Œ GPT é€šå¸¸æ˜¯æœ€åˆé€‚çš„é€‰æ‹©ã€‚ä¸å…¼å®¹ GPT çš„æ—§è®¡ç®—æœºåº”è¯¥ä½¿ç”¨ MBRã€‚å…¶ä»–åˆ†åŒºæ–¹æ¡ˆé€šå¸¸ç”¨äºä¸å¸¸è§æˆ–è¾ƒæ—§çš„è®¡ç®—æœºã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <<partition-schemes>> ã€‚·Select Partition Scheme²é€‰æ‹©åˆ†åŒºæ–¹æ¡ˆÙjMenu showing the user the different the different types of partition that exist and requesting one of themÙNèœå•æ˜¾ç¤ºç”¨æˆ·å­˜åœ¨çš„ä¸åŒç±»å‹çš„åˆ†åŒºï¼Œå¹¶è¦æ±‚é€‰æ‹©å…¶ä¸­ä¹‹ä¸€Ú’After the partition layout has been created, review it to ensure it meets the needs of the installation.  Selecting btn:[Revert] will reset the partitions to their original values. Pressing btn:[Auto] will recreate the automatic FreeBSD partitions.  Partitions can also be manually created, modified, or deleted.  When the partitioning is correct, select btn:[Finish] to continue with the installation.Ú9åœ¨åˆ›å»ºåˆ†åŒºå¸ƒå±€ä¹‹åï¼Œè¯·è¿›è¡Œå®¡æ ¸ä»¥ç¡®ä¿å®ƒæ»¡è¶³å®‰è£…çš„éœ€æ±‚ã€‚é€‰æ‹© btn:[Revert] å°†é‡ç½®åˆ†åŒºä¸ºå…¶åŸå§‹å€¼ã€‚æŒ‰ä¸‹ btn:[Auto] å°†é‡æ–°åˆ›å»ºè‡ªåŠ¨çš„ FreeBSD åˆ†åŒºã€‚åˆ†åŒºä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºã€ä¿®æ”¹æˆ–åˆ é™¤ã€‚å½“åˆ†åŒºè®¾ç½®æ­£ç¡®æ—¶ï¼Œè¯·é€‰æ‹© btn:[Finish] ç»§ç»­è¿›è¡Œå®‰è£…ã€‚¹Review Created Partitions¸å®¡æŸ¥å·²åˆ›å»ºçš„åˆ†åŒº¿Menu showing created partitions¾æ˜¾ç¤ºå·²åˆ›å»ºåˆ†åŒºçš„èœå•ÚlOnce the disks are configured, the next menu provides the last chance to make changes before the selected drives are formatted.  If changes need to be made, select btn:[Back] to return to the main partitioning menu.  btn:[Revert & Exit] exits the installer without making any changes to the drive.  Otherwise, select btn:[Commit] to start the installation process.ÚDä¸€æ—¦ç£ç›˜é…ç½®å®Œæˆï¼Œä¸‹ä¸€ä¸ªèœå•æä¾›äº†åœ¨é€‰æ‹©çš„é©±åŠ¨å™¨æ ¼å¼åŒ–ä¹‹å‰è¿›è¡Œæ›´æ”¹çš„æœ€åæœºä¼šã€‚å¦‚æœéœ€è¦è¿›è¡Œæ›´æ”¹ï¼Œè¯·é€‰æ‹© btn:[è¿”å›] è¿”å›åˆ°ä¸»åˆ†åŒºèœå•ã€‚ btn:[è¿˜åŸå’Œé€€å‡º] é€€å‡ºå®‰è£…ç¨‹åºï¼Œä¸å¯¹é©±åŠ¨å™¨è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚å¦åˆ™ï¼Œé€‰æ‹© btn:[æäº¤] å¼€å§‹å®‰è£…è¿‡ç¨‹ã€‚²Final Confirmation¬æœ€ç»ˆç¡®è®¤Ù Menu indicating to the user that all changes will be written to disk and informing that if he decides to continue the existing data will be permanently deleted.Ù{èœå•å‘ç”¨æˆ·æŒ‡ç¤ºæ‰€æœ‰æ›´æ”¹å°†è¢«å†™å…¥ç£ç›˜ï¼Œå¹¶å‘ŠçŸ¥å¦‚æœç”¨æˆ·å†³å®šç»§ç»­ï¼Œç°æœ‰æ•°æ®å°†è¢«æ°¸ä¹…åˆ é™¤ã€‚ÙVTo continue with the installation process, go to <<bsdinstall-fetching-distribution>>.ÙJè¦ç»§ç»­å®‰è£…è¿‡ç¨‹ï¼Œè¯·è½¬åˆ° <<bsdinstall-fetching-distribution>> ã€‚³Manual Partitioning¬æ‰‹åŠ¨åˆ†åŒºÙ1Selecting this method opens the partition editor:Ù*é€‰æ‹©æ­¤æ–¹æ³•å°†æ‰“å¼€åˆ†åŒºç¼–è¾‘å™¨ï¼šºManually Create Partitions²æ‰‹åŠ¨åˆ›å»ºåˆ†åŒºÙ"Menu showing the Partition Editor.Ù!æ˜¾ç¤ºåˆ†åŒºç¼–è¾‘å™¨çš„èœå•ã€‚ÙƒHighlight the installation drive (`ada0` in this example) and select btn:[Create] to display a menu of available partition schemes:Ù~é«˜äº®æ˜¾ç¤ºå®‰è£…é©±åŠ¨å™¨ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ä¸º `ada0`ï¼‰ï¼Œç„¶åé€‰æ‹© btn:[Create] ä»¥æ˜¾ç¤ºå¯ç”¨åˆ†åŒºæ–¹æ¡ˆçš„èœå•ï¼šÙ4Menu showing the different kind of partition schemesÙ*èœå•æ˜¾ç¤ºäº†ä¸åŒç±»å‹çš„åˆ†åŒºæ–¹æ¡ˆÙÒGPT is usually the most appropriate choice for amd64 computers.  Older computers that are not compatible with GPT should use MBR.  The other partition schemes are generally used for uncommon or older computers.ÙGPT é€šå¸¸æ˜¯ amd64 è®¡ç®—æœºçš„æœ€åˆé€‚é€‰æ‹©ã€‚ä¸å…¼å®¹ GPT çš„æ—§è®¡ç®—æœºåº”ä½¿ç”¨ MBRã€‚å…¶ä»–åˆ†åŒºæ–¹æ¡ˆé€šå¸¸ç”¨äºä¸å¸¸è§æˆ–è¾ƒæ—§çš„è®¡ç®—æœºã€‚´Partitioning Schemes¬åˆ†åŒºæ–¹æ¡ˆ¬Abbreviation¦ç¼©å†™Ù(Apple Partition Map, used by PowerPC(R).Ù.Apple Partition Mapï¼Œç”± PowerPC(R) ä½¿ç”¨ã€‚ÙwBSD label without an MBR, sometimes called _dangerously dedicated mode_ as non-BSD disk utilities may not recognize it.Ùuæ²¡æœ‰ MBR çš„ BSD æ ‡ç­¾ï¼Œæœ‰æ—¶è¢«ç§°ä¸º _å±é™©ä¸“ç”¨æ¨¡å¼_ï¼Œå› ä¸ºé BSD ç£ç›˜å·¥å…·å¯èƒ½æ— æ³•è¯†åˆ«å®ƒã€‚ÙNlink:https://en.wikipedia.org/wiki/GUID_Partition_Table[GUID Partition Table].ÙKlink:https://en.wikipedia.org/wiki/GUID_Partition_Table[GUID åˆ†åŒºè¡¨] ã€‚ÙJlink:https://en.wikipedia.org/wiki/Master_boot_record[Master Boot Record].ÙJlink:https://en.wikipedia.org/wiki/Master_boot_record[ä¸»å¼•å¯¼è®°å½•] ã€‚ÙğAfter the partitioning scheme has been selected and created, select btn:[Create] again to create the partitions.  The kbd:[Tab] key is used to give focus to the fields (after cycling through btn:[<OK>], btn:[<Options>], and btn:[<Cancel>]).ÙĞåœ¨é€‰æ‹©å’Œåˆ›å»ºåˆ†åŒºæ–¹æ¡ˆä¹‹åï¼Œå†æ¬¡é€‰æ‹© btn:[Create] æ¥åˆ›å»ºåˆ†åŒºã€‚ä½¿ç”¨ kbd:[Tab] é”®å°†ç„¦ç‚¹æ”¾åœ¨å­—æ®µä¸Šï¼ˆåœ¨å¾ªç¯é€šè¿‡ btn:[<OK>] ã€ btn:[<Options>] å’Œ btn:[<Cancel>] ä¹‹åï¼‰ã€‚´Menu requesting type²è¯·æ±‚ç±»å‹èœå•Ù`A standard FreeBSD GPT installation uses at least three partitions, including either UFS or ZFS:ÙYæ ‡å‡†çš„ FreeBSD GPT å®‰è£…è‡³å°‘ä½¿ç”¨ä¸‰ä¸ªåˆ†åŒºï¼Œå…¶ä¸­åŒ…æ‹¬ UFS æˆ– ZFS ä¹‹ä¸€ï¼šÙ6`freebsd-boot` or `efi` - Holds the FreeBSD boot code.Ù?`freebsd-boot` æˆ– `efi` - å­˜æ”¾ç€ FreeBSD çš„å¼•å¯¼ä»£ç ã€‚Ù*`freebsd-ufs` - A FreeBSD UFS file system.Ù2`freebsd-ufs` - ä¸€ä¸ª FreeBSD UFS æ–‡ä»¶ç³»ç»Ÿã€‚Ù€`freebsd-zfs` - A FreeBSD ZFS file system. More information about ZFS is available in crossref:zfs[zfs,The Z File System (ZFS)].ÙŠ`freebsd-zfs` - ä¸€ä¸ª FreeBSD çš„ ZFS æ–‡ä»¶ç³»ç»Ÿã€‚æœ‰å…³ ZFS çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:zfs[zfs,Z æ–‡ä»¶ç³»ç»Ÿï¼ˆZFSï¼‰] ã€‚Ù$`freebsd-swap` - FreeBSD swap space.Ù(`freebsd-swap` - FreeBSD äº¤æ¢ç©ºé—´ã€‚ÙLRefer to man:gpart[8] for descriptions of the available GPT partition types.ÙEè¯·å‚è€ƒ man:gpart[8]ï¼Œäº†è§£å¯ç”¨çš„ GPT åˆ†åŒºç±»å‹çš„æè¿°ã€‚Ù•Multiple file system partitions can be created. Some people prefer a traditional layout with separate partitions for `/`, `/var`, `/tmp`, and `/usr`.Ùå¯ä»¥åˆ›å»ºå¤šä¸ªæ–‡ä»¶ç³»ç»Ÿåˆ†åŒºã€‚æœ‰äº›äººå–œæ¬¢ä¼ ç»Ÿçš„å¸ƒå±€ï¼Œå°† `/`ã€`/var`ã€`/tmp` å’Œ `/usr` åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„åˆ†åŒºä¸­ã€‚ÙsNote that `/tmp` can be added later as a memory-based file system (man:tmpfs[5]) on systems with sufficient memory.Ù}è¯·æ³¨æ„ï¼Œåœ¨å…·æœ‰è¶³å¤Ÿå†…å­˜çš„ç³»ç»Ÿä¸Šï¼Œå¯ä»¥å°† `/tmp` ä½œä¸ºåŸºäºå†…å­˜çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆman:tmpfs[5]ï¼‰æ·»åŠ ã€‚Ù6See <<bsdinstall-part-manual-splitfs>> for an example.Ù<è¯·å‚è€ƒ <<bsdinstall-part-manual-splitfs>> ä¸­çš„ç¤ºä¾‹ã€‚ÙpThe `Size` may be entered with common abbreviations: _K_ for kilobytes, _M_ for megabytes, or _G_ for gigabytes.Ùs`Size` å¯ä»¥ä½¿ç”¨å¸¸è§çš„ç¼©å†™è¿›è¡Œè¾“å…¥ï¼š_K_ è¡¨ç¤ºåƒå­—èŠ‚ï¼Œ_M_ è¡¨ç¤ºå…†å­—èŠ‚ï¼Œ_G_ è¡¨ç¤ºå‰å­—èŠ‚ã€‚ÚËProper sector alignment provides the best performance, and making partition sizes even multiples of 4K bytes helps to ensure alignment on drives with either 512-byte or 4K-byte sectors.  Generally, using partition sizes that are even multiples of 1M or 1G is the easiest way to make sure every partition starts at an even multiple of 4K.  There is one exception: the _freebsd-boot_ partition should be no larger than 512K due to current boot code limitations.Úæ­£ç¡®çš„æ‰‡åŒºå¯¹é½å¯ä»¥æä¾›æœ€ä½³æ€§èƒ½ï¼Œå°†åˆ†åŒºå¤§å°è®¾ç½®ä¸º 4K å­—èŠ‚çš„å€æ•°æœ‰åŠ©äºç¡®ä¿åœ¨å…·æœ‰ 512 å­—èŠ‚æˆ– 4K å­—èŠ‚æ‰‡åŒºçš„é©±åŠ¨å™¨ä¸Šè¿›è¡Œå¯¹é½ã€‚é€šå¸¸ï¼Œä½¿ç”¨ 1M æˆ– 1G çš„å€æ•°ä½œä¸ºåˆ†åŒºå¤§å°æ˜¯ç¡®ä¿æ¯ä¸ªåˆ†åŒºä» 4K çš„å€æ•°å¼€å§‹çš„æœ€ç®€å•æ–¹æ³•ã€‚æœ‰ä¸€ä¸ªä¾‹å¤–ï¼šç”±äºå½“å‰å¼•å¯¼ä»£ç çš„é™åˆ¶ï¼Œ_freebsd-boot_ åˆ†åŒºçš„å¤§å°ä¸åº”è¶…è¿‡ 512K ã€‚Ù”A `Mountpoint` is needed if the partition will contain a file system.  If only a single UFS partition will be created, the mountpoint should be `/`.Ù€å¦‚æœåˆ†åŒºå°†åŒ…å«æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™éœ€è¦ä¸€ä¸ª `Mountpoint` ã€‚å¦‚æœåªåˆ›å»ºä¸€ä¸ª UFS åˆ†åŒºï¼Œåˆ™æŒ‚è½½ç‚¹åº”ä¸º `/`ã€‚ÚThe `Label` is a name by which the partition will be known.  Drive names or numbers can change if the drive is connected to a different controller or port, but the partition label does not change.  Referring to labels instead of drive names and partition numbers in files like `/etc/fstab` makes the system more tolerant to hardware changes.  GPT labels appear in `/dev/gpt/` when a disk is attached.  Other partitioning schemes have different label capabilities and their labels appear in different directories in `/dev/`.ÚÑ`Label` æ˜¯åˆ†åŒºçš„åç§°ã€‚å¦‚æœé©±åŠ¨å™¨è¿æ¥åˆ°ä¸åŒçš„æ§åˆ¶å™¨æˆ–ç«¯å£ï¼Œé©±åŠ¨å™¨åç§°æˆ–ç¼–å·å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†åˆ†åŒºæ ‡ç­¾ä¸ä¼šæ”¹å˜ã€‚åœ¨åƒ `/etc/fstab` è¿™æ ·çš„æ–‡ä»¶ä¸­ä½¿ç”¨æ ‡ç­¾è€Œä¸æ˜¯é©±åŠ¨å™¨åç§°å’Œåˆ†åŒºç¼–å·ï¼Œå¯ä»¥ä½¿ç³»ç»Ÿæ›´å®¹å¿ç¡¬ä»¶å˜åŒ–ã€‚å½“è¿æ¥äº†ç£ç›˜æ—¶ï¼ŒGPT æ ‡ç­¾ä¼šå‡ºç°åœ¨ `/dev/gpt/` ä¸­ã€‚å…¶ä»–åˆ†åŒºæ–¹æ¡ˆå…·æœ‰ä¸åŒçš„æ ‡ç­¾åŠŸèƒ½ï¼Œå®ƒä»¬çš„æ ‡ç­¾ä¼šå‡ºç°åœ¨ `/dev/` ä¸­çš„ä¸åŒç›®å½•ä¸­ã€‚ÚUse a unique label on every partition to avoid conflicts from identical labels.  A few letters from the computer's name, use, or location can be added to the label.  For instance, use `labroot` or `rootfslab` for the UFS root partition on the computer named `lab`.Úåœ¨æ¯ä¸ªåˆ†åŒºä¸Šä½¿ç”¨å”¯ä¸€çš„æ ‡ç­¾ï¼Œä»¥é¿å…ç›¸åŒæ ‡ç­¾å¼•èµ·çš„å†²çªã€‚å¯ä»¥åœ¨æ ‡ç­¾ä¸­æ·»åŠ è®¡ç®—æœºåç§°ã€ç”¨é€”æˆ–ä½ç½®çš„å‡ ä¸ªå­—æ¯ã€‚ä¾‹å¦‚ï¼Œå¯¹äºåä¸º `lab` çš„è®¡ç®—æœºä¸Šçš„ UFS æ ¹åˆ†åŒºï¼Œå¯ä»¥ä½¿ç”¨ `labroot` æˆ– `rootfslab` ä½œä¸ºæ ‡ç­¾ã€‚Ù1Creating Traditional Split File System PartitionsÙ'åˆ›å»ºä¼ ç»Ÿçš„åˆ†å‰²æ–‡ä»¶ç³»ç»Ÿåˆ†åŒºÚêFor a traditional partition layout where the `/`, `/var`, `/tmp`, and `/usr` directories are separate file systems on their own partitions, create a GPT partitioning scheme, then create the partitions as shown.  Partition sizes shown are typical for a 20G target disk.  If more space is available on the target disk, larger swap or `/var` partitions may be useful.  Labels shown here are prefixed with `ex` for "example", but readers should use other unique label values as described above.Ú¿å¯¹äºä¼ ç»Ÿçš„åˆ†åŒºå¸ƒå±€ï¼Œå…¶ä¸­ `/`ã€`/var`ã€`/tmp` å’Œ `/usr` ç›®å½•æ˜¯å„è‡ªç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ›å»ºä¸€ä¸ª GPT åˆ†åŒºæ–¹æ¡ˆï¼Œç„¶åæŒ‰ç…§æ‰€ç¤ºåˆ›å»ºåˆ†åŒºã€‚æ‰€ç¤ºçš„åˆ†åŒºå¤§å°é€‚ç”¨äº 20G ç›®æ ‡ç£ç›˜ã€‚å¦‚æœç›®æ ‡ç£ç›˜ä¸Šæœ‰æ›´å¤šçš„ç©ºé—´ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ›´å¤§çš„äº¤æ¢ç©ºé—´æˆ– `/var` åˆ†åŒºã€‚è¿™é‡Œæ˜¾ç¤ºçš„æ ‡ç­¾ä»¥ `ex` ä¸ºå‰ç¼€ï¼Œè¡¨ç¤º"ç¤ºä¾‹"ï¼Œä½†è¯»è€…åº”æ ¹æ®ä¸Šè¿°è¯´æ˜ä½¿ç”¨å…¶ä»–å”¯ä¸€çš„æ ‡ç­¾å€¼ã€‚ÙXBy default, FreeBSD's `gptboot` expects the first UFS partition to be the `/` partition.ÙSé»˜è®¤æƒ…å†µä¸‹ï¼ŒFreeBSD çš„ `gptboot` æœŸæœ›ç¬¬ä¸€ä¸ª UFS åˆ†åŒºæ˜¯ `/` åˆ†åŒºã€‚®Partition Type¬åˆ†åŒºç±»å‹¤Size¦å¤§å°ªMountpoint©æŒ‚è½½ç‚¹¥Label¦æ ‡ç­¾¨`exswap`¡`Ù*accept the default (remainder of the disk)Ù6æ¥å—é»˜è®¤é€‰é¡¹ï¼ˆä½¿ç”¨ç£ç›˜çš„å‰©ä½™ç©ºé—´ï¼‰ã€‚Ù”After the custom partitions have been created, select btn:[Finish] to continue with the installation and go to <<bsdinstall-fetching-distribution>>.Ùpåœ¨åˆ›å»ºè‡ªå®šä¹‰åˆ†åŒºåï¼Œé€‰æ‹© btn:[Finish] ç»§ç»­å®‰è£…å¹¶è½¬åˆ° <<bsdinstall-fetching-distribution>> ã€‚Ù%Guided Partitioning Using Root-on-ZFSÙ%ä½¿ç”¨ Root-on-ZFS è¿›è¡Œå¼•å¯¼åˆ†åŒºÙÃThis partitioning mode only works with whole disks and will erase the contents of the entire disk.  The main ZFS configuration menu offers a number of options to control the creation of the pool.Ù›è¿™ç§åˆ†åŒºæ¨¡å¼åªé€‚ç”¨äºæ•´ä¸ªç£ç›˜ï¼Œå¹¶ä¸”ä¼šæ“¦é™¤æ•´ä¸ªç£ç›˜çš„å†…å®¹ã€‚ä¸»è¦çš„ ZFS é…ç½®èœå•æä¾›äº†ä¸€äº›é€‰é¡¹æ¥æ§åˆ¶æ± çš„åˆ›å»ºã€‚µZFS Partitioning Menu°ZFS åˆ†åŒºèœå•Ù<Menu showing the different options to configure the ZFS poolÙ,æ˜¾ç¤ºé…ç½® ZFS æ± çš„ä¸åŒé€‰é¡¹çš„èœå•Ù.Here is a summary of the options in this menu:Ù$è¿™æ˜¯è¯¥èœå•ä¸­é€‰é¡¹çš„æ‘˜è¦ï¼šÙD`Install` - Proceed with the installation with the selected options.Ù9`å®‰è£…ï¼ˆInstallï¼‰` - ä½¿ç”¨æ‰€é€‰é€‰é¡¹ç»§ç»­å®‰è£…ã€‚Ú4`Pool Type/Disks` - Configure the `Pool Type` and the disk(s) that will constitute the pool. The automatic ZFS installer currently only supports the creation of a single top level vdev, except in stripe mode. To create more complex pools, use the instructions in <<bsdinstall-part-shell>> to create the pool.Ú` æ± ç±»å‹åŠç£ç›˜ï¼ˆPool Type/Disksï¼‰` - é…ç½® `æ± ç±»å‹` å’Œç»„æˆæ± çš„ç£ç›˜ã€‚è‡ªåŠ¨ ZFS å®‰è£…ç¨‹åºç›®å‰åªæ”¯æŒåˆ›å»ºå•ä¸ªé¡¶çº§ vdevï¼Œé™¤éæ˜¯ stripe æ¨¡å¼ã€‚è¦åˆ›å»ºæ›´å¤æ‚çš„æ± ï¼Œè¯·ä½¿ç”¨ <<bsdinstall-part-shell>> ä¸­çš„è¯´æ˜æ¥åˆ›å»ºæ± ã€‚Ù:`Rescan Devices` - Repopulate the list of available disks.ÙL`é‡æ–°æ‰«æè®¾å¤‡ï¼ˆRescan Devicesï¼‰` - é‡æ–°å¡«å……å¯ç”¨ç£ç›˜åˆ—è¡¨ã€‚Ù¶`Disk Info` - This menu can be used to inspect each disk, including its partition table and various other information such as the device model number and serial number, if available.Ù¡`ç£ç›˜ä¿¡æ¯ï¼ˆDisk Infoï¼‰` - æ­¤èœå•å¯ç”¨äºæ£€æŸ¥æ¯ä¸ªç£ç›˜ï¼ŒåŒ…æ‹¬å…¶åˆ†åŒºè¡¨å’Œå…¶ä»–å„ç§ä¿¡æ¯ï¼Œå¦‚è®¾å¤‡å‹å·å’Œåºåˆ—å·ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚ÙJ`Pool Name` - Establish the name of the pool. The default name is _zroot_.ÙM`æ± åç§°ï¼ˆPool Nameï¼‰` - è®¾ç½®æ± çš„åç§°ã€‚é»˜è®¤åç§°ä¸º  _zroot_ã€‚Úà`Force 4K Sectors?` - Force the use of 4K sectors. By default, the installer will automatically create partitions aligned to 4K boundaries and force ZFS to use 4K sectors. This is safe even with 512 byte sector disks, and has the added benefit of ensuring that pools created on 512 byte disks will be able to have 4K sector disks added in the future, either as additional storage space or as replacements for failed disks. Press the kbd:[Enter] key to chose to activate it or not.Úì`å¼ºåˆ¶ä½¿ç”¨ 4K æ‰‡åŒºï¼ˆForce 4K Sectorsï¼‰ï¼Ÿ` - å¼ºåˆ¶ä½¿ç”¨ 4K æ‰‡åŒºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®‰è£…ç¨‹åºå°†è‡ªåŠ¨åˆ›å»ºä¸ 4K è¾¹ç•Œå¯¹é½çš„åˆ†åŒºï¼Œå¹¶å¼ºåˆ¶ ZFS ä½¿ç”¨ 4K æ‰‡åŒºã€‚å³ä½¿æ˜¯ 512 å­—èŠ‚æ‰‡åŒºçš„ç£ç›˜ï¼Œè¿™ä¹Ÿæ˜¯å®‰å…¨çš„ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œå³ç¡®ä¿åœ¨å°†æ¥å¯ä»¥å°† 4K æ‰‡åŒºç£ç›˜æ·»åŠ åˆ°åœ¨ 512 å­—èŠ‚ç£ç›˜ä¸Šåˆ›å»ºçš„æ± ä¸­ï¼Œæ— è®ºæ˜¯ä½œä¸ºé¢å¤–çš„å­˜å‚¨ç©ºé—´è¿˜æ˜¯ä½œä¸ºæ›¿æ¢å¤±è´¥çš„ç£ç›˜ã€‚æŒ‰ä¸‹ kbd:[Enter] é”®é€‰æ‹©æ˜¯å¦æ¿€æ´»å®ƒã€‚Ú`Encrypt Disks?` - Encrypting the disks allows the user to encrypt the disks using GELI. More information about disk encryption is available in crossref:disks[disks-encrypting-geli,â€œDisk Encryption with geliâ€]. Press the kbd:[Enter] key to choose whether to activate it or not.Ú`åŠ å¯†ç£ç›˜ï¼ˆEncrypt Disksï¼‰ï¼Ÿ` - åŠ å¯†ç£ç›˜å…è®¸ç”¨æˆ·ä½¿ç”¨ GELI å¯¹ç£ç›˜è¿›è¡ŒåŠ å¯†ã€‚æœ‰å…³ç£ç›˜åŠ å¯†çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:disks[disks-encrypting-geli,â€œä½¿ç”¨ geli è¿›è¡Œç£ç›˜åŠ å¯†â€]ã€‚æŒ‰ä¸‹ kbd:[Enter] é”®é€‰æ‹©æ˜¯å¦æ¿€æ´»å®ƒã€‚Ù `Partition Scheme` - Choose the partition scheme. GPT is the recommended option in most cases. Press the kbd:[Enter] key to chose between the different options.Ùª`åˆ†åŒºæ–¹æ¡ˆï¼ˆPartition Schemeï¼‰` - é€‰æ‹©åˆ†åŒºæ–¹æ¡ˆã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒGPT æ˜¯æ¨èçš„é€‰é¡¹ã€‚æŒ‰ä¸‹ kbd:[Enter] é”®æ¥åœ¨ä¸åŒé€‰é¡¹ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚Ù1`Swap Size` - Establish the amount of swap space.ÙD`äº¤æ¢ç©ºé—´å¤§å°ï¼ˆSwap Sizeï¼‰` - è®¾ç½®äº¤æ¢ç©ºé—´çš„å¤§å°ã€‚Ùª`Mirror Swap?` - Whether to mirror the swap between the disks. Be aware that enabling mirror swap will break crash dumps. Press the kbd:[Enter] key to activate it or not.ÙË`é•œåƒäº¤æ¢åˆ†åŒºï¼ˆMirror Swapï¼‰ï¼Ÿ` - æ˜¯å¦åœ¨ç£ç›˜ä¹‹é—´è¿›è¡Œäº¤æ¢åˆ†åŒºçš„é•œåƒã€‚è¯·æ³¨æ„ï¼Œå¯ç”¨é•œåƒäº¤æ¢åˆ†åŒºå°†ä¼šç ´åå´©æºƒè½¬å‚¨ã€‚æŒ‰ä¸‹ kbd:[Enter] é”®æ¥æ¿€æ´»æˆ–ä¸æ¿€æ´»ã€‚Ú1`Encrypt Swap?` - Whether to encrypt the swap. This will encrypt the swap with a temporary key each time the system boots, and discards it on reboot. Press the kbd:[Enter] key to choose to activate it or not. More information about swap encryption in crossref:disks[swap-encrypting,â€œEncrypting Swapâ€].ÚI`åŠ å¯†äº¤æ¢ç©ºé—´ï¼ˆEncrypt Swapï¼‰ï¼Ÿ` - æ˜¯å¦åŠ å¯†äº¤æ¢ç©ºé—´ã€‚è¿™å°†åœ¨æ¯æ¬¡ç³»ç»Ÿå¯åŠ¨æ—¶ä½¿ç”¨ä¸´æ—¶å¯†é’¥åŠ å¯†äº¤æ¢ç©ºé—´ï¼Œå¹¶åœ¨é‡æ–°å¯åŠ¨æ—¶ä¸¢å¼ƒå®ƒã€‚æŒ‰ä¸‹ kbd:[Enter] é”®é€‰æ‹©æ˜¯å¦æ¿€æ´»ã€‚æœ‰å…³åŠ å¯†äº¤æ¢ç©ºé—´çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:disks[swap-encrypting ,â€œåŠ å¯†äº¤æ¢ç©ºé—´â€] ã€‚ÙZSelect kbd:[T] to configure the `Pool Type` and the disk(s) that will constitute the pool.Ù=é€‰æ‹© kbd:[T] æ¥é…ç½® `æ± ç±»å‹` å’Œç»„æˆæ± çš„ç£ç›˜ã€‚­ZFS Pool Type­ZFS æ± ç±»å‹Ù3Menu requesting the Virtual Device type. Ex: stripeÙ3è¯·æ±‚è™šæ‹Ÿè®¾å¤‡ç±»å‹çš„èœå•ã€‚ä¾‹å¦‚ï¼šstripeÙGHere is a summary of the `Pool Type` that can be selected in this menu:ÙCè¿™æ˜¯ä¸€ä¸ªå…³äºæ­¤èœå•ä¸­å¯é€‰æ‹©çš„ `æ± ç±»å‹` çš„æ‘˜è¦ï¼šÙš`stripe` - Striping provides maximum storage of all connected devices, but no redundancy. If just one disk fails the data on the pool is lost irrevocably.Ù‰`stripe` - æ¡å¸¦åŒ–æä¾›äº†æœ€å¤§çš„å­˜å‚¨ç©ºé—´ï¼Œä½†æ²¡æœ‰å†—ä½™ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªç£ç›˜æ•…éšœï¼Œæ± ä¸­çš„æ•°æ®å°†æ— æ³•æ¢å¤ã€‚Ú<`mirror` - Mirroring stores a complete copy of all data on every disk. Mirroring provides good read performance because data is read from all disks in parallel. Write performance is slower as the data must be written to all disks in the pool. Allows all but one disk to fail. This option requires at least two disks.Ú@`é•œåƒï¼ˆmirrorï¼‰` - é•œåƒå°†æ‰€æœ‰æ•°æ®å®Œæ•´åœ°å­˜å‚¨åœ¨æ¯ä¸ªç£ç›˜ä¸Šã€‚é•œåƒæä¾›è‰¯å¥½çš„è¯»å–æ€§èƒ½ï¼Œå› ä¸ºæ•°æ®å¯ä»¥å¹¶è¡Œä»æ‰€æœ‰ç£ç›˜ä¸­è¯»å–ã€‚å†™å…¥æ€§èƒ½è¾ƒæ…¢ï¼Œå› ä¸ºæ•°æ®å¿…é¡»å†™å…¥æ± ä¸­çš„æ‰€æœ‰ç£ç›˜ã€‚å…è®¸é™¤ä¸€ä¸ªç£ç›˜å¤–çš„æ‰€æœ‰ç£ç›˜æ•…éšœã€‚æ­¤é€‰é¡¹è‡³å°‘éœ€è¦ä¸¤ä¸ªç£ç›˜ã€‚Ù¡`raid10` - Striped mirrors. Provides the best performance, but the least storage. This option needs at least an even number of disks and a minimum of four disks.Ù†`raid10` - é•œåƒæ¡å¸¦åŒ–ã€‚æä¾›æœ€ä½³æ€§èƒ½ï¼Œä½†å­˜å‚¨ç©ºé—´æœ€å°‘ã€‚æ­¤é€‰é¡¹è‡³å°‘éœ€è¦å¶æ•°ä¸ªç£ç›˜å’Œè‡³å°‘å››ä¸ªç£ç›˜ã€‚Ùn`raidz1` - Single Redundant RAID. Allow one disk to fail concurrently. This option needs at least three disks.Ùb`raidz1` - å•å†—ä½™ RAID ã€‚å…è®¸åŒæ—¶æ•…éšœä¸€ä¸ªç£ç›˜ã€‚æ­¤é€‰é¡¹è‡³å°‘éœ€è¦ä¸‰ä¸ªç£ç›˜ã€‚Ùo`raidz2` - Double Redundant RAID. Allows two disks to fail concurrently. This option needs at least four disks.Ùb`raidz2` - åŒå†—ä½™ RAID ã€‚å…è®¸åŒæ—¶æ•…éšœä¸¤ä¸ªç£ç›˜ã€‚æ­¤é€‰é¡¹è‡³å°‘éœ€è¦å››ä¸ªç£ç›˜ã€‚Ùq`raidz3` - Triple Redundant RAID. Allows three disks to fail concurrently. This option needs at least five disks.Ùe`raidz3` - ä¸‰é‡å†—ä½™ RAID ã€‚å…è®¸åŒæ—¶æ•…éšœä¸‰ä¸ªç£ç›˜ã€‚æ­¤é€‰é¡¹è‡³å°‘éœ€è¦äº”ä¸ªç£ç›˜ã€‚ÚfOnce a `Pool Type` has been selected, a list of available disks is displayed, and the user is prompted to select one or more disks to make up the pool.  The configuration is then validated to ensure that enough disks are selected.  If validation fails, select btn:[<Change Selection>] to return to the list of disks or btn:[<Back>] to change the `Pool Type`.Ú-ä¸€æ—¦é€‰æ‹©äº† `æ± ç±»å‹`ï¼Œå°†æ˜¾ç¤ºå¯ç”¨ç£ç›˜åˆ—è¡¨ï¼Œå¹¶æç¤ºç”¨æˆ·é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªç£ç›˜æ¥ç»„æˆæ± ã€‚ç„¶åï¼Œå°†éªŒè¯é…ç½®ä»¥ç¡®ä¿é€‰æ‹©äº†è¶³å¤Ÿçš„ç£ç›˜ã€‚å¦‚æœéªŒè¯å¤±è´¥ï¼Œè¯·é€‰æ‹© btn:[<Change Selection>] è¿”å›åˆ°ç£ç›˜åˆ—è¡¨ï¼Œæˆ–é€‰æ‹© btn:[<Back>] æ›´æ”¹ `æ± ç±»å‹`ã€‚®Disk Selection¬ç£ç›˜é€‰æ‹©Ù8Menu requesting how many disks will be added to the poolÙ*èœå•è¯·æ±‚æ·»åŠ å¤šå°‘ä¸ªç£ç›˜åˆ°æ± ä¸­±Invalid Selection¬æ— æ•ˆé€‰æ‹©Ù9Menu indicating that not enough disks have been selected.Ù'èœå•æŒ‡ç¤ºæœªé€‰æ‹©è¶³å¤Ÿçš„ç£ç›˜ã€‚Ù³If one or more disks are missing from the list, or if disks were attached after the installer was started, select btn:[- Rescan Devices] to repopulate the list of available disks.Ù¢å¦‚æœåˆ—è¡¨ä¸­ç¼ºå°‘ä¸€ä¸ªæˆ–å¤šä¸ªç£ç›˜ï¼Œæˆ–è€…åœ¨å¯åŠ¨å®‰è£…ç¨‹åºåé™„åŠ äº†ç£ç›˜ï¼Œè¯·é€‰æ‹© btn:[- Rescan Devices] ä»¥é‡æ–°å¡«å……å¯ç”¨ç£ç›˜åˆ—è¡¨ã€‚®Rescan Devices²é‡æ–°æ‰«æè®¾å¤‡­Device rescan²è®¾å¤‡é‡æ–°æ‰«æÙçTo avoid accidentally erasing the wrong disk, the btn:[- Disk Info] menu can be used to inspect each disk, including its partition table and various other information such as the device model number and serial number, if available.Ù¾ä¸ºäº†é¿å…æ„å¤–æ“¦é™¤é”™è¯¯çš„ç£ç›˜ï¼Œå¯ä»¥ä½¿ç”¨ btn:[- Disk Info] èœå•æ¥æ£€æŸ¥æ¯ä¸ªç£ç›˜ï¼ŒåŒ…æ‹¬å…¶åˆ†åŒºè¡¨å’Œå…¶ä»–å„ç§ä¿¡æ¯ï¼Œå¦‚è®¾å¤‡å‹å·å’Œåºåˆ—å·ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚°Analyzing a Disk¬åˆ†æç£ç›˜Ù/Menu showing the information of the partitions.¾æ˜¾ç¤ºåˆ†åŒºä¿¡æ¯çš„èœå•ã€‚ÙµSelect kbd:[N] to configure the `Pool Name`.  Enter the desired name, then select btn:[<OK>] to establish it or btn:[<Cancel>] to return to the main menu and leave the default name.Ù£é€‰æ‹© kbd:[N] æ¥é…ç½® `æ± åç§°`ã€‚è¾“å…¥æ‰€éœ€çš„åç§°ï¼Œç„¶åé€‰æ‹© btn:[<OK>] æ¥ç¡®è®¤ï¼Œæˆ–é€‰æ‹© btn:[<Cancel>] è¿”å›ä¸»èœå•å¹¶ä¿ç•™é»˜è®¤åç§°ã€‚©Pool Name©æ± åç§°Ù%Menu requesting the name of the pool.Ù$è¯·æ±‚è¾“å…¥æ± çš„åç§°çš„èœå•ã€‚Ù¼Select kbd:[S] to set the amount of swap.  Enter the desired amount of swap, then select btn:[<OK>] to establish it or btn:[<Cancel>] to return to the main menu and let the default amount.Ù¾é€‰æ‹© kbd:[S] æ¥è®¾ç½®äº¤æ¢ç©ºé—´çš„å¤§å°ã€‚è¾“å…¥æ‰€éœ€çš„äº¤æ¢ç©ºé—´å¤§å°ï¼Œç„¶åé€‰æ‹© btn:[<OK>] æ¥ç¡®è®¤è®¾ç½®ï¼Œæˆ–é€‰æ‹© btn:[<Cancel>] è¿”å›ä¸»èœå•å¹¶ä½¿ç”¨é»˜è®¤å¤§å°ã€‚«Swap Amount²äº¤æ¢ç©ºé—´å¤§å°Ù)Menu requesting the amount of swap memoryÙ$è¯·æ±‚äº¤æ¢å†…å­˜çš„æ•°é‡çš„èœå•ÙõOnce all options have been set to the desired values, select the btn:[>>> Install] option at the top of the menu.  The installer then offers a last chance to cancel before the contents of the selected drives are destroyed to create the ZFS pool.ÙÒä¸€æ—¦æ‰€æœ‰é€‰é¡¹éƒ½è®¾ç½®ä¸ºæ‰€éœ€çš„å€¼ï¼Œé€‰æ‹©èœå•é¡¶éƒ¨çš„ btn:[>>> Install] é€‰é¡¹ã€‚ç„¶åå®‰è£…ç¨‹åºä¼šåœ¨é”€æ¯æ‰€é€‰é©±åŠ¨å™¨çš„å†…å®¹ä»¥åˆ›å»º ZFS æ± ä¹‹å‰ï¼Œæä¾›æœ€åä¸€æ¬¡å–æ¶ˆçš„æœºä¼šã€‚«Last Chance¬æœ€åæœºä¼šÙ6Menu indicating to the user that the data will be lostÙ'èœå•æç¤ºç”¨æˆ·æ•°æ®å°†ä¼šä¸¢å¤±ã€‚Ù§If GELI disk encryption was enabled, the installer will prompt twice for the passphrase to be used to encrypt the disks.  Initialization of the encryption then begins.Ù–å¦‚æœå¯ç”¨äº† GELI ç£ç›˜åŠ å¯†ï¼Œå®‰è£…ç¨‹åºå°†ä¼šä¸¤æ¬¡æç¤ºè¾“å…¥ç”¨äºåŠ å¯†ç£ç›˜çš„å¯†ç çŸ­è¯­ã€‚ç„¶åï¼ŒåŠ å¯†çš„åˆå§‹åŒ–è¿‡ç¨‹å¼€å§‹ã€‚¸Disk Encryption Password²ç£ç›˜åŠ å¯†å¯†ç Ù4Menu requesting the password to encrypt the devices.Ù-è¦æ±‚è¾“å…¥å¯†ç ä»¥åŠ å¯†è®¾å¤‡çš„èœå•ã€‚·Initializing Encryption¯åˆå§‹åŒ–åŠ å¯†Ù1Menu showing that the encryption is initializing.Ù$èœå•æ˜¾ç¤ºåŠ å¯†æ­£åœ¨åˆå§‹åŒ–ã€‚ÙxThe installation then proceeds normally.  To continue with the installation, go to <<bsdinstall-fetching-distribution>>.Ù_å®‰è£…ç„¶åæ­£å¸¸è¿›è¡Œã€‚è¦ç»§ç»­å®‰è£…ï¼Œè¯·è½¬åˆ° <<bsdinstall-fetching-distribution>> ã€‚·Shell Mode Partitioning²Shell æ¨¡å¼åˆ†åŒºÚ³When creating advanced installations, the bsdinstall partitioning menus may not provide the level of flexibility required.  Advanced users can select the btn:[Shell] option from the partitioning menu in order to manually partition the drives, create the file system(s), populate `/tmp/bsdinstall_etc/fstab`, and mount the file systems under `/mnt`.  Once this is done, type `exit` to return to bsdinstall and continue the installation.Ú_åœ¨åˆ›å»ºé«˜çº§å®‰è£…æ—¶ï¼Œbsdinstall åˆ†åŒºèœå•å¯èƒ½æ— æ³•æä¾›æ‰€éœ€çš„çµæ´»æ€§æ°´å¹³ã€‚é«˜çº§ç”¨æˆ·å¯ä»¥ä»åˆ†åŒºèœå•ä¸­é€‰æ‹© btn:[Shell] é€‰é¡¹ï¼Œä»¥æ‰‹åŠ¨åˆ†åŒºé©±åŠ¨å™¨ï¼Œåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œå¡«å…… `/tmp/bsdinstall_etc/fstab` ï¼Œå¹¶å°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ° `/mnt` ä¸‹ã€‚å®Œæˆåï¼Œè¾“å…¥ `exit` è¿”å›åˆ° bsdinstall å¹¶ç»§ç»­å®‰è£…ã€‚»Fetching Distribution Files²è·å–åˆ†å‘æ–‡ä»¶Ù£Installation time will vary depending on the distributions chosen, installation media, and speed of the computer.  A series of messages will indicate the progress.ÙŠå®‰è£…æ—¶é—´å°†æ ¹æ®æ‰€é€‰æ‹©çš„å‘è¡Œç‰ˆã€å®‰è£…ä»‹è´¨å’Œè®¡ç®—æœºé€Ÿåº¦è€Œæœ‰æ‰€ä¸åŒã€‚ä¸€ç³»åˆ—çš„æ¶ˆæ¯å°†æŒ‡ç¤ºå®‰è£…çš„è¿›åº¦ã€‚Ù´First, the installer formats the selected disk(s) and initializes the partitions.  Next, in the case of a `bootonly media` or `mini memstick`, it downloads the selected components:Ù­é¦–å…ˆï¼Œå®‰è£…ç¨‹åºä¼šæ ¼å¼åŒ–æ‰€é€‰ç£ç›˜å¹¶åˆå§‹åŒ–åˆ†åŒºã€‚æ¥ä¸‹æ¥ï¼Œåœ¨é€‰æ‹©äº† `ä»…å¼•å¯¼åª’ä½“` æˆ– `è¿·ä½ å†…å­˜æ£’` çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šä¸‹è½½æ‰€é€‰ç»„ä»¶ï¼šÙ6Menu showing the download of the different components.Ù'èœå•æ˜¾ç¤ºäº†ä¸åŒç»„ä»¶çš„ä¸‹è½½ã€‚Ù˜Next, the integrity of the distribution files is verified to ensure they have not been corrupted during download or misread from the installation media:Ù{æ¥ä¸‹æ¥ï¼Œå°†éªŒè¯åˆ†å‘æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œä»¥ç¡®ä¿åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æ²¡æœ‰æŸåæˆ–åœ¨å®‰è£…ä»‹è´¨ä¸­è¯»å–é”™è¯¯ï¼š¼Verifying Distribution Files²éªŒè¯åˆ†å‘æ–‡ä»¶Ù:Menu showing the verification of the different components.Ù$æ˜¾ç¤ºä¸åŒç»„ä»¶çš„éªŒè¯èœå•ã€‚ÙCFinally, the verified distribution files are extracted to the disk:Ù9æœ€åï¼ŒéªŒè¯è¿‡çš„åˆ†å‘æ–‡ä»¶è¢«è§£å‹åˆ°ç£ç›˜ä¸Šï¼š½Extracting Distribution Files²æå–åˆ†å‘æ–‡ä»¶Ù8Menu showing the extraction of the different components.Ù-èœå•æ˜¾ç¤ºäº†ä¸åŒç»„ä»¶çš„æå–è¿‡ç¨‹ã€‚ÙÍOnce all requested distribution files have been extracted, bsdinstall displays the first post-installation configuration screen.  The available post-configuration options are described in the next section.Ùä¸€æ—¦æå–äº†æ‰€æœ‰è¯·æ±‚çš„åˆ†å‘æ–‡ä»¶ï¼Œ bsdinstall å°†æ˜¾ç¤ºç¬¬ä¸€ä¸ªå®‰è£…åé…ç½®å±å¹•ã€‚ä¸‹ä¸€èŠ‚å°†ä»‹ç»å¯ç”¨çš„åé…ç½®é€‰é¡¹ã€‚Ù?Network Interfaces, Accounts, Time Zone, Services and HardeningÙ0ç½‘ç»œæ¥å£ï¼Œè´¦æˆ·ï¼Œæ—¶åŒºï¼ŒæœåŠ¡å’ŒåŠ å›º»Setting the `root` Password´è®¾ç½® `root` å¯†ç Ù¿First, the `root` password must be set.  While entering the password, the characters being typed are not displayed on the screen.  The password must be entered twice to prevent typing errors.Ùé¦–å…ˆï¼Œå¿…é¡»è®¾ç½® `root` å¯†ç ã€‚åœ¨è¾“å…¥å¯†ç æ—¶ï¼Œå±å¹•ä¸Šä¸ä¼šæ˜¾ç¤ºæ­£åœ¨è¾“å…¥çš„å­—ç¬¦ã€‚ä¸ºäº†é˜²æ­¢è¾“å…¥é”™è¯¯ï¼Œå¯†ç å¿…é¡»è¾“å…¥ä¸¤æ¬¡ã€‚Ù7Menu showing requesting the password for the root user.Ù0æ˜¾ç¤ºè¦æ±‚è¾“å…¥ root ç”¨æˆ·å¯†ç çš„èœå•ã€‚¾Configuring Network Interfaces²é…ç½®ç½‘ç»œæ¥å£ÙjNext, a list of the network interfaces found on the computer is shown.  Select the interface to configure.Ù]æ¥ä¸‹æ¥ï¼Œå°†æ˜¾ç¤ºè®¡ç®—æœºä¸Šæ‰¾åˆ°çš„ç½‘ç»œæ¥å£åˆ—è¡¨ã€‚è¯·é€‰æ‹©è¦é…ç½®çš„æ¥å£ã€‚ºChoose a Network Interface¸é€‰æ‹©ä¸€ä¸ªç½‘ç»œæ¥å£Ù;Menu showing the different network interfaces to configure.Ù3æ˜¾ç¤ºä¸åŒç½‘ç»œæ¥å£ä»¥è¿›è¡Œé…ç½®çš„èœå•ã€‚ÙàIf an Ethernet interface is selected, the installer will skip ahead to the menu shown in <<bsdinstall-configure-net-ipv4>>.  If a wireless network interface is chosen, the system will instead scan for wireless access points:Ù¿å¦‚æœé€‰æ‹©äº†ä»¥å¤ªç½‘æ¥å£ï¼Œå®‰è£…ç¨‹åºå°†ç›´æ¥è·³è½¬åˆ° <<bsdinstall-configure-net-ipv4>> ä¸­æ˜¾ç¤ºçš„èœå•ã€‚å¦‚æœé€‰æ‹©äº†æ— çº¿ç½‘ç»œæ¥å£ï¼Œç³»ç»Ÿå°†ä¼šæ‰«ææ— çº¿æ¥å…¥ç‚¹ï¼šÙ#Scanning for Wireless Access Pointsµæ‰«ææ— çº¿æ¥å…¥ç‚¹Ù'Menu showing wireless network scanning.Ù$æ˜¾ç¤ºæ— çº¿ç½‘ç»œæ‰«æçš„èœå•ã€‚ÚñWireless networks are identified by a Service Set Identifier (SSID); a short, unique name given to each network.  SSIDs found during the scan are listed, followed by a description of the encryption types available for that network.  If the desired SSID does not appear in the list, select btn:[Rescan] to scan again.  If the desired network still does not appear, check for problems with antenna connections or try moving the computer closer to the access point.  Rescan after each change is made.Ú¿æ— çº¿ç½‘ç»œé€šè¿‡æœåŠ¡é›†æ ‡è¯†ç¬¦ï¼ˆSSIDï¼‰è¿›è¡Œè¯†åˆ«ï¼Œæ¯ä¸ªç½‘ç»œéƒ½æœ‰ä¸€ä¸ªçŸ­è€Œç‹¬ç‰¹çš„åç§°ã€‚æ‰«ææœŸé—´æ‰¾åˆ°çš„ SSID å°†åˆ—å‡ºï¼Œç„¶åæ˜¯è¯¥ç½‘ç»œå¯ç”¨çš„åŠ å¯†ç±»å‹çš„æè¿°ã€‚å¦‚æœæ‰€éœ€çš„ SSID åœ¨åˆ—è¡¨ä¸­æœªå‡ºç°ï¼Œè¯·é€‰æ‹© btn:[Rescan] è¿›è¡Œå†æ¬¡æ‰«æã€‚å¦‚æœæ‰€éœ€çš„ç½‘ç»œä»æœªå‡ºç°ï¼Œè¯·æ£€æŸ¥å¤©çº¿è¿æ¥æ˜¯å¦æœ‰é—®é¢˜ï¼Œæˆ–å°è¯•å°†è®¡ç®—æœºç§»åŠ¨åˆ°æ¥å…¥ç‚¹é™„è¿‘ã€‚æ¯æ¬¡æ›´æ”¹åéƒ½è¦é‡æ–°æ‰«æã€‚»Choosing a Wireless Network²é€‰æ‹©æ— çº¿ç½‘ç»œÙ;Menu showing the different wireless networks to connect to.Ù0æ˜¾ç¤ºå¯è¿æ¥çš„ä¸åŒæ— çº¿ç½‘ç»œçš„èœå•ã€‚ÚxNext, enter the encryption information for connecting to the selected wireless network.  WPA2 encryption is strongly recommended over older encryption types such as WEP, which offer little security.  If the network uses WPA2, input the password, also known as the Pre-Shared Key (PSK).  For security reasons, the characters typed into the input box are displayed as asterisks.ÚJæ¥ä¸‹æ¥ï¼Œè¯·è¾“å…¥è¿æ¥åˆ°æ‰€é€‰æ— çº¿ç½‘ç»œçš„åŠ å¯†ä¿¡æ¯ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨ WPA2 åŠ å¯†ï¼Œè€Œä¸æ˜¯è¾ƒæ—§çš„åŠ å¯†ç±»å‹ï¼Œå¦‚ WEP ï¼Œå› ä¸º WEP æä¾›çš„å®‰å…¨æ€§å¾ˆä½ã€‚å¦‚æœç½‘ç»œä½¿ç”¨ WPA2ï¼Œè¯·è¾“å…¥å¯†ç ï¼Œä¹Ÿç§°ä¸ºé¢„å…±äº«å¯†é’¥ï¼ˆPSKï¼‰ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œè¾“å…¥æ¡†ä¸­é”®å…¥çš„å­—ç¬¦å°†æ˜¾ç¤ºä¸ºæ˜Ÿå·ã€‚ªWPA2 Setup«WPA2 è®¾ç½®Ù.Menu requesting the wireless network password.Ù$è¯·æ±‚æ— çº¿ç½‘ç»œå¯†ç çš„èœå•ã€‚ÙgNext, choose whether or not an IPv4 address should be configured on the Ethernet or wireless interface:ÙKæ¥ä¸‹æ¥ï¼Œé€‰æ‹©æ˜¯å¦åœ¨ä»¥å¤ªç½‘æˆ–æ— çº¿æ¥å£ä¸Šé…ç½® IPv4 åœ°å€ï¼š¶Choose IPv4 Networking²é€‰æ‹© IPv4 ç½‘ç»œÙJMenu indicating if IPv4 wants to be configured for the selected interface.Ù3èœå•æŒ‡ç¤ºæ˜¯å¦è¦ä¸ºæ‰€é€‰æ¥å£é…ç½® IPv4 ã€‚ÚThere are two methods of IPv4 configuration.  DHCP will automatically configure the network interface correctly and should be used if the network provides a DHCP server.  Otherwise, the addressing information needs to be input manually as a static configuration.ÙÃIPv4 é…ç½®æœ‰ä¸¤ç§æ–¹æ³•ã€‚å¦‚æœç½‘ç»œæä¾›äº† DHCP æœåŠ¡å™¨ï¼ŒDHCP å°†è‡ªåŠ¨æ­£ç¡®é…ç½®ç½‘ç»œæ¥å£ï¼Œå¹¶ä¸”åº”è¯¥ä½¿ç”¨ DHCPã€‚å¦åˆ™ï¼Œéœ€è¦æ‰‹åŠ¨è¾“å…¥åœ°å€ä¿¡æ¯ä½œä¸ºé™æ€é…ç½®ã€‚ÚDo not enter random network information as it will not work.  If a DHCP server is not available, obtain the information listed in <<bsdinstall-collect-network-information, Required Network Information>> from the network administrator or Internet service provider.Ùğè¯·ä¸è¦è¾“å…¥éšæœºçš„ç½‘ç»œä¿¡æ¯ï¼Œå› ä¸ºå®ƒä¸ä¼šèµ·ä½œç”¨ã€‚å¦‚æœæ²¡æœ‰ DHCP æœåŠ¡å™¨å¯ç”¨ï¼Œè¯·å‘ç½‘ç»œç®¡ç†å‘˜æˆ–äº’è”ç½‘æœåŠ¡æä¾›å•†è·å– <<bsdinstall-collect-network-information,æ‰€éœ€ç½‘ç»œä¿¡æ¯>> ä¸­åˆ—å‡ºçš„ä¿¡æ¯ã€‚ÙüIf a DHCP server is available, select btn:[Yes] in the next menu to automatically configure the network interface.  The installer will appear to pause for a minute or so as it finds the DHCP server and obtains the addressing information for the system.ÙÎå¦‚æœæœ‰ DHCP æœåŠ¡å™¨å¯ç”¨ï¼Œè¯·åœ¨ä¸‹ä¸€ä¸ªèœå•ä¸­é€‰æ‹© btn:[Yes] ä»¥è‡ªåŠ¨é…ç½®ç½‘ç»œæ¥å£ã€‚å®‰è£…ç¨‹åºå°†ä¼šæš‚åœä¸€åˆ†é’Ÿå·¦å³ï¼Œä»¥ä¾¿æ‰¾åˆ° DHCP æœåŠ¡å™¨å¹¶è·å–ç³»ç»Ÿçš„åœ°å€ä¿¡æ¯ã€‚¾Choose IPv4 DHCP Configuration·é€‰æ‹© IPv4 DHCP é…ç½®ÙJMenu indicating if DHCP wants to be configured for the selected interface.Ù3èœå•æŒ‡ç¤ºæ˜¯å¦è¦ä¸ºæ‰€é€‰æ¥å£é…ç½® DHCP ã€‚ÙoIf a DHCP server is not available, select btn:[No] and input the following addressing information in this menu:Ùiå¦‚æœæ²¡æœ‰å¯ç”¨çš„ DHCP æœåŠ¡å™¨ï¼Œè¯·é€‰æ‹© btn:[No]ï¼Œå¹¶åœ¨æ­¤èœå•ä¸­è¾“å…¥ä»¥ä¸‹å¯»å€ä¿¡æ¯ï¼š¹IPv4 Static Configuration±IPv4 é™æ€é…ç½®Ù/Menu requesting data to configure IPv4 network.Ù$è¯·æ±‚é…ç½® IPv4 ç½‘ç»œçš„èœå•ã€‚Ù”`IP Address` - The IPv4 address assigned to this computer. The address must be unique and not already in use by another device on the local network.Ù™`IP åœ°å€ï¼ˆIP Addressï¼‰` - åˆ†é…ç»™æ­¤è®¡ç®—æœºçš„ IPv4 åœ°å€ã€‚è¯¥åœ°å€å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”åœ¨æœ¬åœ°ç½‘ç»œä¸Šæ²¡æœ‰è¢«å…¶ä»–è®¾å¤‡ä½¿ç”¨ã€‚Ù0`Subnet Mask` - The subnet mask for the network.Ù:`å­ç½‘æ©ç ï¼ˆSubnet Maskï¼‰` - ç½‘ç»œçš„å­ç½‘æ©ç ã€‚ÙC`Default Router` - The IP address of the network's default gateway.ÙM`é»˜è®¤è·¯ç”±å™¨ï¼ˆDefault Routerï¼‰` - ç½‘ç»œçš„é»˜è®¤ç½‘å…³çš„ IP åœ°å€ã€‚Ù‰The next screen will ask if the interface should be configured for IPv6. If IPv6 is available and desired, choose btn:[Yes] to select it.Ù}ä¸‹ä¸€ä¸ªå±å¹•å°†è¯¢é—®æ˜¯å¦åº”è¯¥ä¸º IPv6 é…ç½®æ¥å£ã€‚å¦‚æœ IPv6 å¯ç”¨ä¸”éœ€è¦ï¼Œè¯·é€‰æ‹© btn:[Yes] æ¥é€‰æ‹©å®ƒã€‚¶Choose IPv6 Networking²é€‰æ‹© IPv6 ç½‘ç»œÙJMenu indicating if IPv6 wants to be configured for the selected interface.Ù3èœå•æŒ‡ç¤ºæ˜¯å¦è¦ä¸ºæ‰€é€‰æ¥å£é…ç½® IPv6 ã€‚Ú>IPv6 also has two methods of configuration.  StateLess Address AutoConfiguration (SLAAC) will automatically request the correct configuration information from a local router.  Refer to http://tools.ietf.org/html/rfc4862[rfc4862] for more information.  Static configuration requires manual entry of network information.ÙùIPv6 è¿˜æœ‰ä¸¤ç§é…ç½®æ–¹æ³•ã€‚æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®ï¼ˆSLAACï¼‰å°†è‡ªåŠ¨ä»æœ¬åœ°è·¯ç”±å™¨è¯·æ±‚æ­£ç¡®çš„é…ç½®ä¿¡æ¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… http://tools.ietf.org/html/rfc4862[rfc4862]ã€‚é™æ€é…ç½®éœ€è¦æ‰‹åŠ¨è¾“å…¥ç½‘ç»œä¿¡æ¯ã€‚ÙøIf an IPv6 router is available, select btn:[Yes] in the next menu to automatically configure the network interface.  The installer will appear to pause for a minute or so as it finds the router and obtains the addressing information for the system.ÙÅå¦‚æœæœ‰ IPv6 è·¯ç”±å™¨å¯ç”¨ï¼Œè¯·åœ¨ä¸‹ä¸€ä¸ªèœå•ä¸­é€‰æ‹© btn:[Yes] ä»¥è‡ªåŠ¨é…ç½®ç½‘ç»œæ¥å£ã€‚å®‰è£…ç¨‹åºå°†ä¼šæš‚åœä¸€åˆ†é’Ÿå·¦å³ï¼Œä»¥æŸ¥æ‰¾è·¯ç”±å™¨å¹¶è·å–ç³»ç»Ÿçš„å¯»å€ä¿¡æ¯ã€‚¿Choose IPv6 SLAAC Configuration¸é€‰æ‹© IPv6 SLAAC é…ç½®ÙKMenu indicating if SLAAC wants to be configured for the selected interface.Ù4èœå•æŒ‡ç¤ºæ˜¯å¦è¦ä¸ºæ‰€é€‰æ¥å£é…ç½® SLAAC ã€‚ÙpIf an IPv6 router is not available, select btn:[No] and input the following addressing information in this menu:Ùgå¦‚æœæ²¡æœ‰å¯ç”¨çš„ IPv6 è·¯ç”±å™¨ï¼Œè¯·é€‰æ‹© btn:[No] å¹¶åœ¨æ­¤èœå•ä¸­è¾“å…¥ä»¥ä¸‹å¯»å€ä¿¡æ¯ï¼š¹IPv6 Static Configuration±IPv6 é™æ€é…ç½®Ù/Menu requesting data to configure IPv6 network.Ù*èœå•è¯·æ±‚é…ç½® IPv6 ç½‘ç»œçš„æ•°æ®ã€‚Ù–`IPv6 Address` - The IPv6 address assigned to this computer. The address must be unique and not already in use by another device on the local network.Ù`IPv6 åœ°å€ï¼ˆIPv6 Addressï¼‰` - åˆ†é…ç»™æ­¤è®¡ç®—æœºçš„ IPv6 åœ°å€ã€‚è¯¥åœ°å€å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”åœ¨æœ¬åœ°ç½‘ç»œä¸­æ²¡æœ‰è¢«å…¶ä»–è®¾å¤‡ä½¿ç”¨ã€‚ÙE`Default Router` - The IPv6 address of the network's default gateway.ÙO`é»˜è®¤è·¯ç”±å™¨ï¼ˆDefault Routerï¼‰` - ç½‘ç»œçš„é»˜è®¤ç½‘å…³çš„ IPv6 åœ°å€ã€‚ÚÕThe last network configuration menu is used to configure the Domain Name System (DNS) resolver, which converts hostnames to and from network addresses.  If DHCP or SLAAC was used to autoconfigure the network interface, the `Resolver Configuration` values may already be filled in.  Otherwise, enter the local network's domain name in the `Search` field.  `DNS #1` and `DNS #2` are the IPv4 and/or IPv6 addresses of the DNS servers.  At least one DNS server is required.Úãæœ€åä¸€ä¸ªç½‘ç»œé…ç½®èœå•ç”¨äºé…ç½®åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰è§£æå™¨ï¼Œè¯¥è§£æå™¨å°†ä¸»æœºåè½¬æ¢ä¸ºç½‘ç»œåœ°å€ï¼Œå¹¶ä¸”å¯ä»¥å°†ç½‘ç»œåœ°å€è½¬æ¢ä¸ºä¸»æœºåã€‚å¦‚æœä½¿ç”¨ DHCP æˆ– SLAAC è‡ªåŠ¨é…ç½®ç½‘ç»œæ¥å£ï¼Œåˆ™ `è§£æå™¨é…ç½®ï¼ˆResolver Configurationï¼‰` å€¼å¯èƒ½å·²ç»å¡«å†™ã€‚å¦åˆ™ï¼Œè¯·åœ¨ `æœç´¢ï¼ˆSearchï¼‰` å­—æ®µä¸­è¾“å…¥æœ¬åœ°ç½‘ç»œçš„åŸŸåã€‚`DNS #1` å’Œ `DNS #2` æ˜¯ DNS æœåŠ¡å™¨çš„ IPv4 å’Œ / æˆ– IPv6 åœ°å€ã€‚è‡³å°‘éœ€è¦ä¸€ä¸ª DNS æœåŠ¡å™¨ã€‚±DNS ConfigurationªDNS é…ç½®Ù6Menu requesting data to configure DNS for the network.Ù,èœå•è¯·æ±‚æ•°æ®ä»¥é…ç½®ç½‘ç»œçš„ DNS ã€‚ÚOnce the interface is configured, select a mirror site that is located in the same region of the world as the computer on which FreeBSD is being installed.  Files can be retrieved more quickly when the mirror is close to the target computer, reducing installation time.ÙÉä¸€æ—¦é…ç½®äº†æ¥å£ï¼Œé€‰æ‹©ä¸€ä¸ªä½äºä¸å®‰è£… FreeBSD çš„è®¡ç®—æœºç›¸åŒåœ°åŒºçš„é•œåƒç«™ç‚¹ã€‚å½“é•œåƒç«™ç‚¹é è¿‘ç›®æ ‡è®¡ç®—æœºæ—¶ï¼Œå¯ä»¥æ›´å¿«åœ°æ£€ç´¢æ–‡ä»¶ï¼Œä»è€Œå‡å°‘å®‰è£…æ—¶é—´ã€‚ÙaSelecting `ftp://ftp.freebsd.org (Main Site)` will automatically route you to the nearest mirror.Ù[é€‰æ‹© `ftp://ftp.freebsd.org (Main Site)` å°†è‡ªåŠ¨å°†æ‚¨è·¯ç”±åˆ°æœ€è¿‘çš„é•œåƒç«™ç‚¹ã€‚±Choosing a Mirror¯é€‰æ‹©é•œåƒæºÙ!Menu requesting a network mirror.¾è¯·æ±‚ç½‘ç»œé•œåƒçš„èœå•ã€‚µSetting the Time Zone¬è®¾ç½®æ—¶åŒºÚ5The next series of menus are used to determine the correct local time by selecting the geographic region, country, and time zone.  Setting the time zone allows the system to automatically correct for regional time changes, such as daylight savings time, and perform other time zone related functions properly.ÙÛä¸‹ä¸€ç³»åˆ—èœå•ç”¨äºé€šè¿‡é€‰æ‹©åœ°ç†åŒºåŸŸã€å›½å®¶å’Œæ—¶åŒºæ¥ç¡®å®šæ­£ç¡®çš„æœ¬åœ°æ—¶é—´ã€‚è®¾ç½®æ—¶åŒºå…è®¸ç³»ç»Ÿè‡ªåŠ¨æ ¡æ­£åŒºåŸŸæ—¶é—´å˜åŒ–ï¼Œå¦‚å¤ä»¤æ—¶ï¼Œå¹¶æ­£ç¡®æ‰§è¡Œå…¶ä»–ä¸æ—¶åŒºç›¸å…³çš„åŠŸèƒ½ã€‚ÙThe example shown here is for a machine located in the mainland time zone of Spain, Europe.  The selections will vary according to the geographical location.Ù„è¿™é‡Œå±•ç¤ºçš„ç¤ºä¾‹é€‚ç”¨äºä½äºè¥¿ç­ç‰™æ¬§æ´²å¤§é™†æ—¶åŒºçš„æœºå™¨ã€‚æ ¹æ®åœ°ç†ä½ç½®çš„ä¸åŒï¼Œé€‰æ‹©é¡¹ä¼šæœ‰æ‰€å˜åŒ–ã€‚¯Select a Region²é€‰æ‹©ä¸€ä¸ªåœ°åŒºÙ$Menu requesting the timezone region.¾è¯·æ±‚æ—¶åŒºåœ°åŒºçš„èœå•ã€‚ÙVThe appropriate region is selected using the arrow keys and then pressing kbd:[Enter].ÙFä½¿ç”¨ç®­å¤´é”®é€‰æ‹©é€‚å½“çš„åŒºåŸŸï¼Œç„¶åæŒ‰ä¸‹ kbd:[Enter] é”®ã€‚°Select a Country²é€‰æ‹©ä¸€ä¸ªå›½å®¶Ù%Menu requesting the timezone country.¾è¯·æ±‚æ—¶åŒºå›½å®¶çš„èœå•ã€‚ÙJSelect the appropriate country using the arrow keys and press kbd:[Enter].ÙNä½¿ç”¨ç®­å¤´é”®é€‰æ‹©é€‚å½“çš„å›½å®¶ï¼Œç„¶åæŒ‰ä¸‹é”®ç›˜ä¸Šçš„ [Enter] é”®ã€‚²Select a Time Zone²é€‰æ‹©ä¸€ä¸ªæ—¶åŒºÙ"Menu requesting the timezone zone.¸è¯·æ±‚æ—¶åŒºçš„èœå•ã€‚ÙTThe appropriate time zone is selected using the arrow keys and pressing kbd:[Enter].ÙLä½¿ç”¨ç®­å¤´é”®é€‰æ‹©é€‚å½“çš„æ—¶åŒºï¼Œç„¶åæŒ‰ä¸‹ kbd:[Enter] é”®ç¡®è®¤ã€‚±Confirm Time Zone¬ç¡®è®¤æ—¶åŒºÙ6Menu requesting confirmation of the selected timezone.Ù!èœå•è¯·æ±‚ç¡®è®¤æ‰€é€‰æ—¶åŒºã€‚Ù6Confirm the abbreviation for the time zone is correct.Ù'è¯·ç¡®è®¤æ—¶åŒºçš„ç¼©å†™æ˜¯å¦æ­£ç¡®ã€‚«Select Date¬é€‰æ‹©æ—¥æœŸÙ Menu requesting the system date.¾è¯·æ±‚ç³»ç»Ÿæ—¥æœŸçš„èœå•ã€‚ÙThe appropriate date is selected using the arrow keys and then pressing btn:[Set Date].  Otherwise, the date selection can be skipped by pressing btn:[Skip].Ù…ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©é€‚å½“çš„æ—¥æœŸï¼Œç„¶åæŒ‰ä¸‹ btn:[Set Date] ã€‚å¦åˆ™ï¼Œå¯ä»¥é€šè¿‡æŒ‰ä¸‹ btn:[Skip] æ¥è·³è¿‡æ—¥æœŸé€‰æ‹©ã€‚«Select Time¬é€‰æ‹©æ—¶é—´Ù Menu requesting the system time.¾è¯·æ±‚ç³»ç»Ÿæ—¶é—´çš„èœå•ã€‚ÙThe appropriate time is selected using the arrow keys and then pressing btn:[Set Time].  Otherwise, the time selection can be skipped by pressing btn:[Skip].Ù…ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©é€‚å½“çš„æ—¶é—´ï¼Œç„¶åæŒ‰ä¸‹ btn:[Set Time] ã€‚å¦åˆ™ï¼Œå¯ä»¥é€šè¿‡æŒ‰ä¸‹ btn:[Skip] æ¥è·³è¿‡æ—¶é—´é€‰æ‹©ã€‚±Enabling Services¬å¯ç”¨æœåŠ¡ÙÍThe next menu is used to configure which system services will be started whenever the system boots.  All of these services are optional.  Only start the services that are needed for the system to function.Ù“ä¸‹ä¸€ä¸ªèœå•ç”¨äºé…ç½®ç³»ç»Ÿå¯åŠ¨æ—¶å°†å¯åŠ¨å“ªäº›ç³»ç»ŸæœåŠ¡ã€‚æ‰€æœ‰è¿™äº›æœåŠ¡éƒ½æ˜¯å¯é€‰çš„ã€‚åªå¯åŠ¨ç³»ç»Ÿè¿è¡Œæ‰€éœ€çš„æœåŠ¡ã€‚Ù'Selecting Additional Services to Enable¸é€‰æ‹©å¯ç”¨é™„åŠ æœåŠ¡Ù.Menu showing the different services available.¾æ˜¾ç¤ºä¸åŒæœåŠ¡çš„èœå•ã€‚ÙCHere is a summary of the services that can be enabled in this menu:Ù9è¿™é‡Œæ˜¯å¯ä»¥åœ¨æ­¤èœå•ä¸­å¯ç”¨çš„æœåŠ¡çš„æ‘˜è¦ï¼šÚ`local_unbound` - Enable the DNS local unbound. It is necessary to keep in mind that this is a configuration only meant for use as a local caching forwarding resolver. If the objective is to set up a resolver for the entire network, install package:dns/unbound[].Ùã`local_unbound` - å¯ç”¨æœ¬åœ° DNS è§£æå™¨ unbound ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé…ç½®åªé€‚ç”¨äºä½œä¸ºæœ¬åœ°ç¼“å­˜è½¬å‘è§£æå™¨ä½¿ç”¨ã€‚å¦‚æœç›®æ ‡æ˜¯ä¸ºæ•´ä¸ªç½‘ç»œè®¾ç½®è§£æå™¨ï¼Œè¯·å®‰è£… `dns/unbound` è½¯ä»¶åŒ…ã€‚Ù¶`sshd` - The Secure Shell (SSH) daemon is used to remotely access a system over an encrypted connection. Only enable this service if the system should be available for remote logins.Ù–`sshd` - å®‰å…¨ Shellï¼ˆSSHï¼‰å®ˆæŠ¤è¿›ç¨‹ç”¨äºé€šè¿‡åŠ å¯†è¿æ¥è¿œç¨‹è®¿é—®ç³»ç»Ÿã€‚åªæœ‰åœ¨ç³»ç»Ÿéœ€è¦æä¾›è¿œç¨‹ç™»å½•æ—¶æ‰å¯ç”¨æ­¤æœåŠ¡ã€‚Ù^`moused` - Enable this service if the mouse will be used from the command-line system console.ÙV`moused` - å¦‚æœå¸Œæœ›ä»å‘½ä»¤è¡Œç³»ç»Ÿæ§åˆ¶å°ä½¿ç”¨é¼ æ ‡ï¼Œè¯·å¯ç”¨æ­¤æœåŠ¡ã€‚ÙÌ`ntpdate` - Enable automatic clock synchronization at boot time. Note that the functionality of this program is now available in the man:ntpd[8] daemon and the man:ntpdate[8] utility will soon be retired.Ùº`ntpdate` - åœ¨å¯åŠ¨æ—¶å¯ç”¨è‡ªåŠ¨æ—¶é’ŸåŒæ­¥ã€‚è¯·æ³¨æ„ï¼Œè¯¥ç¨‹åºçš„åŠŸèƒ½ç°åœ¨å·²ç»æ•´åˆåˆ° `man:ntpd[8]` å®ˆæŠ¤è¿›ç¨‹ä¸­ï¼Œ `man:ntpdate[8]` å®ç”¨ç¨‹åºå°†å¾ˆå¿«è¢«å¼ƒç”¨ã€‚Ù¸`ntpd` - The Network Time Protocol (NTP) daemon for automatic clock synchronization. Enable this service if you wish to synchronise your system clock with a remote time server or pool.Ù¨`ntpd` - è‡ªåŠ¨æ—¶é’ŸåŒæ­¥çš„ç½‘ç»œæ—¶é—´åè®®ï¼ˆNTPï¼‰å®ˆæŠ¤è¿›ç¨‹ã€‚å¦‚æœæ‚¨å¸Œæœ›å°†ç³»ç»Ÿæ—¶é’Ÿä¸è¿œç¨‹æ—¶é—´æœåŠ¡å™¨æˆ–æ—¶é—´æ± åŒæ­¥ï¼Œè¯·å¯ç”¨æ­¤æœåŠ¡ã€‚ÙL`powerd` - System power control utility for power control and energy saving.Ù>`powerd` - ç”¨äºç³»ç»Ÿç”µæºæ§åˆ¶å’ŒèŠ‚èƒ½çš„å®ç”¨ç¨‹åºã€‚Ùq`dumpdev` - Crash dumps are useful when debugging issues with the system, so users are encouraged to enable them.Ù``dumpdev` - å´©æºƒè½¬å‚¨åœ¨è°ƒè¯•ç³»ç»Ÿé—®é¢˜æ—¶éå¸¸æœ‰ç”¨ï¼Œå› æ­¤é¼“åŠ±ç”¨æˆ·å¯ç”¨å®ƒä»¬ã€‚Ù#Enabling Hardening Security Options¸å¯ç”¨å¼ºåŒ–å®‰å…¨é€‰é¡¹ÙŒThe next menu is used to configure which security options will be enabled.  All of these options are optional.  But their use is encouraged.Ùoä¸‹ä¸€ä¸ªèœå•ç”¨äºé…ç½®å¯ç”¨çš„å®‰å…¨é€‰é¡¹ã€‚æ‰€æœ‰è¿™äº›é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„ï¼Œä½†å»ºè®®ä½¿ç”¨å®ƒä»¬ã€‚Ù$Selecting Hardening Security Options¸é€‰æ‹©åŠ å›ºå®‰å…¨é€‰é¡¹Ù6Menu shoring the different hardening security options.Ù-æ˜¾ç¤ºä¸åŒçš„åŠ å›ºå®‰å…¨é€‰é¡¹çš„èœå•ã€‚ÙBHere is a summary of the options that can be enabled in this menu:Ù6è¿™é‡Œæ˜¯å¯ä»¥åœ¨æ­¤èœå•ä¸­å¯ç”¨çš„é€‰é¡¹æ‘˜è¦ï¼šÙ‹`hide_uids` - Hide processes running as other users (UID). This prevents unprivileged users from seeing running processes from other users.ÙŒ`hide_uids` - éšè—ä»¥å…¶ä»–ç”¨æˆ·ï¼ˆUIDï¼‰èº«ä»½è¿è¡Œçš„è¿›ç¨‹ã€‚è¿™å¯ä»¥é˜²æ­¢éç‰¹æƒç”¨æˆ·çœ‹åˆ°å…¶ä»–ç”¨æˆ·æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚Ù`hide_gids` - Hide processes running as other groups (GID). This prevents unprivileged users from seeing running processes from other groups.Ù†`hide_gids` - éšè—ä»¥å…¶ä»–ç»„ï¼ˆGIDï¼‰èº«ä»½è¿è¡Œçš„è¿›ç¨‹ã€‚è¿™å¯ä»¥é˜²æ­¢éç‰¹æƒç”¨æˆ·çœ‹åˆ°æ¥è‡ªå…¶ä»–ç»„çš„è¿è¡Œè¿›ç¨‹ã€‚Ù{`hide_jail` - Hide processes running in jails. This prevents unprivileged users from seeing processes running inside jails.Ùw`hide_jail` - éšè—åœ¨ jail ä¸­è¿è¡Œçš„è¿›ç¨‹ã€‚è¿™å¯ä»¥é˜²æ­¢éç‰¹æƒç”¨æˆ·çœ‹åˆ°åœ¨ jail å†…éƒ¨è¿è¡Œçš„è¿›ç¨‹ã€‚Ù¯`read_msgbuf` - Disable reading kernel message buffer for unprivileged users. Prevent unprivileged users from using man:dmesg[8] to view messages from the kernel's log buffer.Ùœ`read_msgbuf` - ç¦æ­¢éç‰¹æƒç”¨æˆ·è¯»å–å†…æ ¸æ¶ˆæ¯ç¼“å†²åŒºã€‚é˜²æ­¢éç‰¹æƒç”¨æˆ·ä½¿ç”¨ man:dmesg[8] å‘½ä»¤æŸ¥çœ‹å†…æ ¸æ—¥å¿—ç¼“å†²åŒºä¸­çš„æ¶ˆæ¯ã€‚Ú—`proc_debug` - Disable process debugging facilities for unprivileged users. Disables a variety of unprivileged inter-process debugging services, including some procfs functionality, `ptrace()`, and `ktrace()`. Please note that this will also prevent debugging tools such as man:lldb[1], man:truss[1] and man:procstat[1], as well as some built-in debugging facilities in certain scripting languages like PHP.ÚG`proc_debug` - ç¦ç”¨éç‰¹æƒç”¨æˆ·çš„è¿›ç¨‹è°ƒè¯•åŠŸèƒ½ã€‚ç¦ç”¨äº†å„ç§éç‰¹æƒè¿›ç¨‹é—´è°ƒè¯•æœåŠ¡ï¼ŒåŒ…æ‹¬ä¸€äº› procfs åŠŸèƒ½ï¼Œ`ptrace()` å’Œ `ktrace()`ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¹Ÿä¼šé˜»æ­¢è°ƒè¯•å·¥å…·å¦‚ man:lldb[1]ã€man:truss[1] å’Œ man:procstat[1]ï¼Œä»¥åŠæŸäº›è„šæœ¬è¯­è¨€ï¼ˆå¦‚ PHPï¼‰ä¸­çš„ä¸€äº›å†…ç½®è°ƒè¯•åŠŸèƒ½ã€‚Ù.`random_pid` - Randomize the PID of processes.Ù)`random_pid` - éšæœºåŒ–è¿›ç¨‹çš„ PID ã€‚Ù5`clear_tmp` - Clean `/tmp` when the system starts up.Ù7`clear_tmp` - åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶æ¸…ç† `/tmp` ç›®å½•ã€‚Úa`disable_syslogd` - Disable opening the syslogd network socket. By default, FreeBSD runs syslogd in a secure way with `-s`. This prevents the daemon from listening for incoming UDP requests on port 514. With this option enabled, syslogd will instead run with `-ss`, which prevents syslogd from opening any port. For more information, see man:syslogd[8].Úo`disable_syslogd` - ç¦ç”¨æ‰“å¼€ syslogd ç½‘ç»œå¥—æ¥å­—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒFreeBSD ä»¥å®‰å…¨æ–¹å¼è¿è¡Œ syslogd ï¼Œä½¿ç”¨ `-s` é€‰é¡¹ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢å®ˆæŠ¤è¿›ç¨‹åœ¨ 514 ç«¯å£ä¸Šç›‘å¬ä¼ å…¥çš„ UDP è¯·æ±‚ã€‚å¯ç”¨æ­¤é€‰é¡¹åï¼Œ syslogd å°†æ”¹ä¸ºä½¿ç”¨ `-ss` è¿è¡Œï¼Œè¿™å°†é˜»æ­¢ syslogd æ‰“å¼€ä»»ä½•ç«¯å£ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:syslogd[8] ã€‚Ù?`disable_sendmail` - Disable the sendmail mail transport agent.Ù:`disable_sendmail` - ç¦ç”¨ sendmail é‚®ä»¶ä¼ è¾“ä»£ç†ã€‚Ùf`secure_console` - Make the command prompt request the `root` password when entering single-user mode.Ù``secure_console` - åœ¨è¿›å…¥å•ç”¨æˆ·æ¨¡å¼æ—¶ï¼Œä½¿å‘½ä»¤æç¤ºç¬¦è¦æ±‚è¾“å…¥ `root` å¯†ç ã€‚Ùç`disable_ddtrace` - DTrace can run in a mode that affects the running kernel. Destructive actions may not be used unless explicitly enabled. Use `-w` to enable this option when using DTrace. For more information, see man:dtrace[1].Ùï`disable_ddtrace` - DTrace å¯ä»¥ä»¥å½±å“è¿è¡Œä¸­çš„å†…æ ¸çš„æ¨¡å¼è¿è¡Œã€‚é™¤éæ˜¾å¼å¯ç”¨ï¼Œå¦åˆ™ä¸å¾—ä½¿ç”¨ç ´åæ€§æ“ä½œã€‚åœ¨ä½¿ç”¨ DTrace æ—¶ï¼Œä½¿ç”¨ `-w` æ¥å¯ç”¨æ­¤é€‰é¡¹ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:dtrace[1] ã€‚ÙÛ`enable_aslr` - Enable address layout randomization. For more information about address layout randomization the link:https://en.wikipedia.org/wiki/Address_space_layout_randomization[Wikipedia article] can be consulted.ÙÎ`enable_aslr` - å¯ç”¨åœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ã€‚æœ‰å…³åœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ link:https://en.wikipedia.org/wiki/Address_space_layout_randomization[ç»´åŸºç™¾ç§‘æ–‡ç« ] ã€‚©Add Users¬æ·»åŠ ç”¨æˆ·Ú%The next menu prompts to create at least one user account.  It is recommended to log into the system using a user account rather than as `root`.  When logged in as `root`, there are essentially no limits or protection on what can be done.  Logging in as a normal user is safer and more secure.Úä¸‹ä¸€ä¸ªèœå•æç¤ºæ‚¨åˆ›å»ºè‡³å°‘ä¸€ä¸ªç”¨æˆ·å¸æˆ·ã€‚å»ºè®®ä½¿ç”¨ç”¨æˆ·å¸æˆ·ç™»å½•ç³»ç»Ÿï¼Œè€Œä¸æ˜¯ä½¿ç”¨â€œ root â€ç”¨æˆ·ã€‚ä»¥ `root` ç”¨æˆ·èº«ä»½ç™»å½•æ—¶ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰é™åˆ¶æˆ–ä¿æŠ¤ï¼Œå¯ä»¥åšä»»ä½•äº‹æƒ…ã€‚ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•æ›´å®‰å…¨ã€æ›´å¯é ã€‚Ù"Select btn:[Yes] to add new users.Ù&é€‰æ‹© btn:[Yes] æ¥æ·»åŠ æ–°ç”¨æˆ·ã€‚±Add User Accounts²æ·»åŠ ç”¨æˆ·è´¦æˆ·Ù9Menu requesting if a user want to be added to the system.Ù0èœå•è¯¢é—®ç”¨æˆ·æ˜¯å¦è¦æ·»åŠ åˆ°ç³»ç»Ÿä¸­ã€‚ÙŸFollow the prompts and input the requested information for the user account.  The example shown in <<bsdinstall-add-user2>> creates the `asample` user account.Ù|æŒ‰ç…§æç¤ºè¾“å…¥ç”¨æˆ·è´¦æˆ·æ‰€éœ€çš„ä¿¡æ¯ã€‚åœ¨ <<bsdinstall-add-user2>> ä¸­çš„ç¤ºä¾‹åˆ›å»ºäº† `asample` ç”¨æˆ·è´¦æˆ·ã€‚¶Enter User Information²è¾“å…¥ç”¨æˆ·ä¿¡æ¯Ù7Menu requesting different information for the new user.Ù'èœå•è¯·æ±‚æ–°ç”¨æˆ·çš„ä¸åŒä¿¡æ¯ã€‚Ù.Here is a summary of the information to input:¾è¿™æ˜¯è¾“å…¥ä¿¡æ¯çš„æ‘˜è¦ï¼šÚ`Username` - The name the user will enter to log in. A common convention is to use the first letter of the first name combined with the last name, as long as each username is unique for the system. The username is case sensitive and should not contain any spaces.Ùß`ç”¨æˆ·åï¼ˆUsernameï¼‰` - ç”¨æˆ·ç™»å½•æ—¶è¾“å…¥çš„åç§°ã€‚å¸¸è§çš„çº¦å®šæ˜¯ä½¿ç”¨åå­—çš„é¦–å­—æ¯ä¸å§“æ°ç»“åˆï¼Œåªè¦æ¯ä¸ªç”¨æˆ·ååœ¨ç³»ç»Ÿä¸­æ˜¯å”¯ä¸€çš„ã€‚ç”¨æˆ·ååŒºåˆ†å¤§å°å†™ï¼Œä¸åº”åŒ…å«ä»»ä½•ç©ºæ ¼ã€‚Ùn`Full name` - The user's full name. This can contain spaces and is used as a description for the user account.ÙY`Full name` - ç”¨æˆ·çš„å…¨åã€‚å¯ä»¥åŒ…å«ç©ºæ ¼ï¼Œå¹¶ä¸”ç”¨ä½œç”¨æˆ·è´¦æˆ·çš„æè¿°ã€‚ÙZ`Uid` - User ID. This is typically left blank so the system automatically assigns a value.ÙE`Uid` - ç”¨æˆ· ID ã€‚é€šå¸¸ç•™ç©ºï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå€¼ã€‚ÙU`Login group` - The user's group. This is typically left blank to accept the default.ÙU`ç™»å½•ç»„ï¼ˆLogin groupï¼‰` - ç”¨æˆ·æ‰€å±çš„ç»„ã€‚é€šå¸¸ç•™ç©ºä»¥æ¥å—é»˜è®¤å€¼ã€‚ÙŸ`Invite _user_ into other groups?` - Additional groups to which the user will be added as a member. If the user needs administrative access, type `wheel` here.ÙÅå°† `ç”¨æˆ·` é‚€è¯·åŠ å…¥å…¶ä»–ç¾¤ç»„ï¼ˆInvite _user_ into other groupsï¼‰ï¼Ÿ - ç”¨æˆ·å°†ä½œä¸ºæˆå‘˜æ·»åŠ åˆ°å…¶ä»–ç¾¤ç»„ã€‚å¦‚æœç”¨æˆ·éœ€è¦ç®¡ç†å‘˜è®¿é—®æƒé™ï¼Œè¯·åœ¨æ­¤å¤„è¾“å…¥ `wheel` ã€‚Ù5`Login class` - Typically left blank for the default.Ù@`ç™»å½•ç±»ï¼ˆLogin classï¼‰` - é€šå¸¸ç•™ç©ºä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚Ù `Shell` - Type in one of the listed values to set the interactive shell for the user. Refer to crossref:basics[shells,Shells] for more information about shells.Ù•`Shell` - è¾“å…¥åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼æ¥è®¾ç½®ç”¨æˆ·çš„äº¤äº’å¼ shell ã€‚æœ‰å…³ shell çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ crossref:basics[shells,Shells] ã€‚ÙM`Home directory` - The user's home directory. The default is usually correct.ÙR`Home directory` - ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé»˜è®¤å€¼æ˜¯æ­£ç¡®çš„ã€‚Ùh`Home directory permissions` - Permissions on the user's home directory. The default is usually correct.Ù|`ä¸»ç›®å½•æƒé™ï¼ˆHome directory permissionsï¼‰` - ç”¨æˆ·ä¸»ç›®å½•çš„æƒé™ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé»˜è®¤è®¾ç½®æ˜¯æ­£ç¡®çš„ã€‚Ùu`Use password-based authentication?` - Typically `yes` so that the user is prompted to input their password at login.Ù—`ä½¿ç”¨åŸºäºå¯†ç çš„èº«ä»½éªŒè¯ï¼ˆse password-based authenticationï¼‰ï¼Ÿ` - é€šå¸¸é€‰æ‹© `yes`ï¼Œè¿™æ ·ç”¨æˆ·åœ¨ç™»å½•æ—¶ä¼šè¢«æç¤ºè¾“å…¥å¯†ç ã€‚ÙS`Use an empty password?` - Typically `no` as empty or blank passwords are insecure.Ù`ä½¿ç”¨ç©ºå¯†ç ï¼ˆUse an empty passwordï¼‰ï¼Ÿ` - é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸å»ºè®®ä½¿ç”¨ç©ºå¯†ç ï¼Œå› ä¸ºç©ºå¯†ç æˆ–ç©ºç™½å¯†ç æ˜¯ä¸å®‰å…¨çš„ã€‚Ùi`Use a random password?` - Typically `no` so that the user can set their own password in the next prompt.Ù…`ä½¿ç”¨éšæœºå¯†ç ï¼ˆUse a random passwordï¼‰ï¼Ÿ` - é€šå¸¸æ˜¯ `no`ï¼Œè¿™æ ·ç”¨æˆ·å¯ä»¥åœ¨ä¸‹ä¸€ä¸ªæç¤ºä¸­è®¾ç½®è‡ªå·±çš„å¯†ç ã€‚Ùc`Enter password` - The password for this user. Typed-in characters will not be shown on the screen.Ùd`è¾“å…¥å¯†ç ï¼ˆEnter passwordï¼‰` - æ­¤ç”¨æˆ·çš„å¯†ç ã€‚è¾“å…¥çš„å­—ç¬¦ä¸ä¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ÙK`Enter password again` - The password must be typed again for verification.Ù[`å†æ¬¡è¾“å…¥å¯†ç ï¼ˆEnter password againï¼‰` - ä¸ºäº†éªŒè¯ï¼Œå¿…é¡»å†æ¬¡è¾“å…¥å¯†ç ã€‚ÙT`Lock out the account after creation?` - Typically `no` so that the user can log in.Ùr`åˆ›å»ºåé”å®šè´¦æˆ·ï¼ˆLock out the account after creationï¼‰ï¼Ÿ` - é€šå¸¸æ˜¯ `no`ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥ç™»å½•ã€‚Ù±After entering all the details, a summary is shown for review.  If a mistake was made, enter `no` to correct it.  Once everything is correct, enter `yes` to create the new user.Ù©è¾“å…¥å®Œæ‰€æœ‰ç»†èŠ‚åï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªæ‘˜è¦ä¾›å®¡æ ¸ã€‚å¦‚æœæœ‰é”™è¯¯ï¼Œè¯·è¾“å…¥ `no` è¿›è¡Œæ›´æ­£ã€‚ä¸€åˆ‡éƒ½æ­£ç¡®æ— è¯¯åï¼Œè¯·è¾“å…¥ `yes` åˆ›å»ºæ–°ç”¨æˆ·ã€‚¾Exit User and Group Management¸é€€å‡ºç”¨æˆ·å’Œç»„ç®¡ç†ÙUMenu showing the information of the new user and requesting if everything is correct.Ù?èœå•æ˜¾ç¤ºæ–°ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶è¯¢é—®æ˜¯å¦ä¸€åˆ‡æ­£ç¡®ã€‚Ù•If there are more users to add, answer the `Add another user?` question with `yes`.  Enter `no` to finish adding users and continue the installation.Ùå¦‚æœè¿˜æœ‰æ›´å¤šç”¨æˆ·éœ€è¦æ·»åŠ ï¼Œè¯·ç”¨ `yes` å›ç­”â€œæ˜¯å¦æ·»åŠ å¦ä¸€ä¸ªç”¨æˆ·ï¼Ÿâ€çš„é—®é¢˜ã€‚è¾“å…¥ `no` ä»¥å®Œæˆæ·»åŠ ç”¨æˆ·å¹¶ç»§ç»­å®‰è£…ã€‚ÙFor more information on adding users and user management, see crossref:basics[users-synopsis,Users and Basic Account Management].Ù‚æœ‰å…³æ·»åŠ ç”¨æˆ·å’Œç”¨æˆ·ç®¡ç†çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:basics[users-synopsis,ç”¨æˆ·å’ŒåŸºæœ¬å¸æˆ·ç®¡ç†] ä¸€èŠ‚ã€‚³Final Configuration¬æœ€ç»ˆé…ç½®ÙbAfter everything has been installed and configured, a final chance is provided to modify settings.ÙNåœ¨å®‰è£…å’Œé…ç½®å®Œæˆä¹‹åï¼Œæä¾›äº†æœ€åä¸€æ¬¡ä¿®æ”¹è®¾ç½®çš„æœºä¼šã€‚ÙYMenu showing different options to perform before finishing the installation. Ex: Add userÙHåœ¨å®Œæˆå®‰è£…ä¹‹å‰æ˜¾ç¤ºä¸åŒé€‰é¡¹çš„èœå•ã€‚ä¾‹å¦‚ï¼šæ·»åŠ ç”¨æˆ·ÙkUse this menu to make any changes or to do any additional configuration before completing the installation.ÙZåœ¨å®Œæˆå®‰è£…ä¹‹å‰ï¼Œä½¿ç”¨æ­¤èœå•è¿›è¡Œä»»ä½•æ›´æ”¹æˆ–è¿›è¡Œä»»ä½•é¢å¤–çš„é…ç½®ã€‚Ù2`Add User` - Described in <<bsdinstall-addusers>>.Ù5`Add User` - åœ¨ <<bsdinstall-addusers>> ä¸­æè¿°ã€‚Ù8`Root Password` - Described in <<bsdinstall-post-root>>.ÙD`Root Password` - åœ¨ <<bsdinstall-post-root>> ä¸­æœ‰è¯¦ç»†æè¿°ã€‚Ù2`Hostname` - Described in <<bsdinstall-hostname>>.Ù>`Hostname` - åœ¨ <<bsdinstall-hostname>> ä¸­æœ‰è¯¦ç»†æè¿°ã€‚Ù;`Network` - Described in <<bsdinstall-config-network-dev>>.ÙG`Network` - åœ¨ <<bsdinstall-config-network-dev>> ä¸­è¿›è¡Œäº†æè¿°ã€‚Ù1`Services` - Described in <<bsdinstall-sysconf>>.Ù=`Services` - åœ¨ <<bsdinstall-sysconf>> ä¸­è¿›è¡Œäº†æè¿°ã€‚Ù;`System Hardening` - Described in <<bsdinstall-hardening>>.ÙG`System Hardening` - åœ¨ <<bsdinstall-hardening>> ä¸­è¿›è¡Œäº†æè¿°ã€‚Ù3`Time Zone` - Described in <<bsdinstall-timezone>>.Ù6`Time Zone` - åœ¨ <<bsdinstall-timezone>> ä¸­æè¿°ã€‚Ù7`Handbook` - Download and install the FreeBSD Handbook.Ù.`Handbook` - ä¸‹è½½å¹¶å®‰è£… FreeBSD æ‰‹å†Œã€‚Ù2Once configuration is complete, select btn:[Exit].Ù&é…ç½®å®Œæˆåï¼Œé€‰æ‹© btn:[Exit]ã€‚´Manual Configuration¬æ‰‹åŠ¨é…ç½®ÙoMenu showing that the installation has finished. And asking if you want to open a shell to make manual changes.Ù[èœå•æ˜¾ç¤ºå®‰è£…å·²å®Œæˆï¼Œå¹¶è¯¢é—®æ˜¯å¦è¦æ‰“å¼€ä¸€ä¸ª shell æ¥è¿›è¡Œæ‰‹åŠ¨æ›´æ”¹ã€‚Ùëbsdinstall will prompt for any additional configuration that needs to be done before rebooting into the new system.  Select btn:[Yes] to exit to a shell within the new system or btn:[No] to proceed to the last step of the installation.ÙÆbsdinstall å°†æç¤ºè¿›è¡Œä»»ä½•åœ¨é‡å¯è¿›å…¥æ–°ç³»ç»Ÿä¹‹å‰éœ€è¦å®Œæˆçš„é¢å¤–é…ç½®ã€‚é€‰æ‹© btn:[Yes] é€€å‡ºåˆ°æ–°ç³»ç»Ÿä¸­çš„ shell ï¼Œæˆ–é€‰æ‹© btn:[No] ç»§ç»­è¿›è¡Œå®‰è£…çš„æœ€åä¸€æ­¥ã€‚¹Complete the Installation¬å®Œæˆå®‰è£…ÙnMenu showing that the installation has finished and asking whether to reboot the system or access the Live CD.ÙTèœå•æ˜¾ç¤ºå®‰è£…å·²å®Œæˆï¼Œå¹¶è¯¢é—®æ˜¯å¦é‡æ–°å¯åŠ¨ç³»ç»Ÿæˆ–è®¿é—® Live CD ã€‚ÙvIf further configuration or special setup is needed, select btn:[Live CD] to boot the install media into Live CD mode.Ùrå¦‚æœéœ€è¦è¿›ä¸€æ­¥é…ç½®æˆ–ç‰¹æ®Šè®¾ç½®ï¼Œè¯·é€‰æ‹© btn:[Live CD] ä»¥å°†å®‰è£…ä»‹è´¨å¼•å¯¼åˆ° Live CD æ¨¡å¼ã€‚ÙÊIf the installation is complete, select btn:[Reboot] to reboot the computer and start the new FreeBSD system.  Do not forget to remove the FreeBSD install media or the computer might boot from it again.Ù¼å¦‚æœå®‰è£…å®Œæˆï¼Œè¯·é€‰æ‹© btn:[Reboot] æ¥é‡æ–°å¯åŠ¨è®¡ç®—æœºå¹¶å¯åŠ¨æ–°çš„ FreeBSD ç³»ç»Ÿã€‚ä¸è¦å¿˜è®°ç§»é™¤ FreeBSD å®‰è£…ä»‹è´¨ï¼Œå¦åˆ™è®¡ç®—æœºå¯èƒ½ä¼šå†æ¬¡ä»å®ƒå¯åŠ¨ã€‚ÚwAs FreeBSD boots, informational messages are displayed.  After the system finishes booting, a login prompt is displayed.  At the `login:` prompt, enter the username added during the installation.  Avoid logging in as `root`.  Refer to crossref:basics[users-superuser,The Superuser Account] for instructions on how to become the superuser when administrative access is needed.ÚWFreeBSD å¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºä¿¡æ¯æ€§çš„æ¶ˆæ¯ã€‚ç³»ç»Ÿå®Œæˆå¯åŠ¨åï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªç™»å½•æç¤ºç¬¦ã€‚åœ¨ `login:` æç¤ºç¬¦ä¸‹ï¼Œè¾“å…¥åœ¨å®‰è£…è¿‡ç¨‹ä¸­æ·»åŠ çš„ç”¨æˆ·åã€‚é¿å…ä½¿ç”¨ `root` ç™»å½•ã€‚å¦‚éœ€è¿›è¡Œç®¡ç†è®¿é—®æ—¶ï¼Œå‚è€ƒ crossref:basics[users-superuser,è¶…çº§ç”¨æˆ·è´¦æˆ·] ä¸­çš„è¯´æ˜ï¼Œäº†è§£å¦‚ä½•æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚ÚéThe messages that appear during boot can be reviewed by pressing kbd:[Scroll-Lock] to turn on the scroll-back buffer.  The kbd:[PgUp], kbd:[PgDn], and arrow keys can be used to scroll back through the messages.  When finished, press kbd:[Scroll-Lock] again to unlock the display and return to the console.  To review these messages once the system has been up for some time, type `less /var/run/dmesg.boot` from a command prompt.  Press kbd:[q] to return to the command line after viewing.Ú°æŒ‰ä¸‹ kbd:[Scroll-Lock] é”®å¯ä»¥æŸ¥çœ‹å¯åŠ¨è¿‡ç¨‹ä¸­å‡ºç°çš„æ¶ˆæ¯ï¼Œä»¥æ‰“å¼€æ»šåŠ¨ç¼“å†²åŒºã€‚ä½¿ç”¨ kbd:[PgUp]ã€kbd:[PgDn] å’Œç®­å¤´é”®å¯ä»¥å‘åæ»šåŠ¨æŸ¥çœ‹æ¶ˆæ¯ã€‚å®Œæˆåï¼Œå†æ¬¡æŒ‰ä¸‹ kbd:[Scroll-Lock] é”®ä»¥è§£é”æ˜¾ç¤ºå¹¶è¿”å›åˆ°æ§åˆ¶å°ã€‚è¦åœ¨ç³»ç»Ÿè¿è¡Œä¸€æ®µæ—¶é—´åæŸ¥çœ‹è¿™äº›æ¶ˆæ¯ï¼Œè¯·åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹è¾“å…¥ `less /var/run/dmesg.boot`ã€‚æŸ¥çœ‹å®Œæ¯•åï¼ŒæŒ‰ä¸‹ kbd:[q] é”®è¿”å›åˆ°å‘½ä»¤è¡Œã€‚ÙîIf sshd was enabled in <<bsdinstall-config-serv>>, the first boot might be a bit slower as the system generates SSH host keys.  Subsequent boots will be faster.  The fingerprints of the keys are then displayed as in the following example:Ùãå¦‚æœåœ¨ <<bsdinstall-config-serv>> ä¸­å¯ç”¨äº† sshdï¼Œç³»ç»Ÿåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶å¯èƒ½ä¼šæ…¢ä¸€äº›ï¼Œå› ä¸ºç³»ç»Ÿä¼šç”Ÿæˆ SSH ä¸»æœºå¯†é’¥ã€‚éšåçš„å¯åŠ¨å°†ä¼šæ›´å¿«ã€‚ç„¶åï¼Œå¯†é’¥çš„æŒ‡çº¹å°†ä¼šæ˜¾ç¤ºå¦‚ä¸‹ç¤ºä¾‹ï¼šÙ^Refer to crossref:security[openssh,"OpenSSH"] for more information about fingerprints and SSH.ÙYæœ‰å…³æŒ‡çº¹å’Œ SSH çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ crossref:security[openssh ,"OpenSSH"] ã€‚Ù¾FreeBSD does not install a graphical environment by default.  Refer to crossref:x11[x11,The X Window System] for more information about installing and configuring a graphical window manager.Ù é»˜è®¤æƒ…å†µä¸‹ï¼ŒFreeBSD ä¸å®‰è£…å›¾å½¢åŒ–ç¯å¢ƒã€‚æœ‰å…³å®‰è£…å’Œé…ç½®å›¾å½¢çª—å£ç®¡ç†å™¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ crossref:x11[x11,X Window ç³»ç»Ÿ] ã€‚ÚProper shutdown of a FreeBSD computer helps protect data and hardware from damage.  _Do not turn off the power before the system has been properly shut down!_ If the user is a member of the `wheel` group, become the superuser by typing `su` at the command line and entering the `root` password.  Then, type `shutdown -p now` and the system will shut down cleanly, and, if the hardware supports it, turn itself off.Úpæ­£ç¡®å…³é—­ FreeBSD è®¡ç®—æœºæœ‰åŠ©äºä¿æŠ¤æ•°æ®å’Œç¡¬ä»¶å…å—æŸåã€‚åœ¨ç³»ç»Ÿæ­£ç¡®å…³é—­ä¹‹å‰ï¼Œè¯·ä¸è¦å…³é—­ç”µæºï¼å¦‚æœç”¨æˆ·æ˜¯ `wheel` ç»„çš„æˆå‘˜ï¼Œè¯·åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ `su` å¹¶è¾“å…¥ `root` å¯†ç ä»¥æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚ç„¶åï¼Œè¾“å…¥ `shutdown -p now`ï¼Œç³»ç»Ÿå°†ä¼šå¹²å‡€åœ°å…³é—­ï¼Œå¹¶ä¸”å¦‚æœç¡¬ä»¶æ”¯æŒçš„è¯ï¼Œä¼šè‡ªåŠ¨å…³é—­ç”µæºã€‚¯Troubleshooting¬æ•…éšœæ’é™¤ÙeThis section covers basic installation troubleshooting, such as common problems people have reported.ÙHæœ¬èŠ‚ä»‹ç»åŸºæœ¬çš„å®‰è£…æ•…éšœæ’é™¤ï¼Œä¾‹å¦‚äººä»¬å¸¸è§çš„é—®é¢˜ã€‚Ù²Check the Hardware Notes listed on the link:https://www.FreeBSD.org/releases/[FreeBSD Release Information] page for the version of FreeBSD to make sure the hardware is supported.Ùè¯·æŸ¥çœ‹ link:https://www.FreeBSD.org/releases/[FreeBSD Release Information] é¡µé¢ä¸Šåˆ—å‡ºçš„ç¡¬ä»¶è¯´æ˜ï¼Œä»¥ç¡®ä¿ç¡¬ä»¶å¾—åˆ°æ”¯æŒã€‚Ú*Some installation problems can be avoided or alleviated by updating the firmware on various hardware components, most notably the motherboard.  Motherboard firmware is usually referred to as the BIOS.  Most motherboard and computer manufacturers have a website for upgrades and upgrade information.Ùİé€šè¿‡æ›´æ–°å„ç§ç¡¬ä»¶ç»„ä»¶çš„å›ºä»¶ï¼Œå°¤å…¶æ˜¯ä¸»æ¿çš„å›ºä»¶ï¼Œå¯ä»¥é¿å…æˆ–å‡è½»ä¸€äº›å®‰è£…é—®é¢˜ã€‚ä¸»æ¿å›ºä»¶é€šå¸¸è¢«ç§°ä¸º BIOSã€‚å¤§å¤šæ•°ä¸»æ¿å’Œè®¡ç®—æœºåˆ¶é€ å•†éƒ½æœ‰å‡çº§å’Œå‡çº§ä¿¡æ¯çš„ç½‘ç«™ã€‚ÙèManufacturers generally advise against upgrading the motherboard BIOS unless there is a good reason for doing so, like a critical update.  The upgrade process _can_ go wrong, leaving the BIOS incomplete and the computer inoperative.Ù¹é™¤éæœ‰å……åˆ†çš„ç†ç”±ï¼Œå¦‚å…³é”®æ›´æ–°ï¼Œå¦åˆ™åˆ¶é€ å•†é€šå¸¸å»ºè®®ä¸è¦å‡çº§ä¸»æ¿ BIOSã€‚å‡çº§è¿‡ç¨‹å¯èƒ½ä¼šå‡ºé”™ï¼Œå¯¼è‡´ BIOS ä¸å®Œæ•´ï¼Œä½¿è®¡ç®—æœºæ— æ³•æ­£å¸¸è¿è¡Œã€‚ÚìIf the system hangs while probing hardware during boot or behaves strangely during the installation process, ACPI may be the culprit.  FreeBSD makes extensive use of the system ACPI service on the i386 and amd64 platforms to aid in system configuration if it is detected during boot.  Unfortunately, some bugs still exist in both the ACPI driver and within system motherboards and BIOS firmware.  ACPI can be disabled by setting the `hint.acpi.0.disabled` hint in the third stage boot loader:Ú¹å¦‚æœç³»ç»Ÿåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æ¢æµ‹ç¡¬ä»¶æ—¶å¡ä½æˆ–åœ¨å®‰è£…è¿‡ç¨‹ä¸­è¡¨ç°å¼‚å¸¸ï¼ŒACPI å¯èƒ½æ˜¯ç½ªé­ç¥¸é¦–ã€‚FreeBSD åœ¨ i386 å’Œ amd64 å¹³å°ä¸Šåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æ£€æµ‹åˆ° ACPI åä¼šå¹¿æ³›ä½¿ç”¨ç³»ç»Ÿ ACPI æœåŠ¡æ¥å¸®åŠ©ç³»ç»Ÿé…ç½®ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒACPI é©±åŠ¨ç¨‹åºå’Œç³»ç»Ÿä¸»æ¿ä»¥åŠ BIOS å›ºä»¶ä¸­ä»ç„¶å­˜åœ¨ä¸€äº›é”™è¯¯ã€‚å¯ä»¥é€šè¿‡åœ¨ç¬¬ä¸‰é˜¶æ®µå¼•å¯¼åŠ è½½ç¨‹åºä¸­è®¾ç½® `hint.acpi.0.disabled` æç¤ºæ¥ç¦ç”¨ ACPIã€‚ÙèThis is reset each time the system is booted, so it is necessary to add `hint.acpi.0.disabled="1"` to the file `/boot/loader.conf`.  More information about the boot loader can be found in crossref:boot[boot-synopsis,â€œSynopsisâ€].Ùïæ¯æ¬¡ç³»ç»Ÿå¯åŠ¨æ—¶éƒ½ä¼šé‡ç½®è¿™ä¸ªè®¾ç½®ï¼Œå› æ­¤éœ€è¦å°† `hint.acpi.0.disabled ="1"` æ·»åŠ åˆ°æ–‡ä»¶ `/boot/loader.conf` ä¸­ã€‚æœ‰å…³å¼•å¯¼åŠ è½½ç¨‹åºçš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ crossref:boot[boot-synopsis,â€œSynopsisâ€] ä¸­æ‰¾åˆ°ã€‚±Using the Live CD®ä½¿ç”¨ Live CDÚThe welcome menu of bsdinstall, shown in <<bsdinstall-choose-mode>>, provides a btn:[Live CD] option.  This is useful for those who are still wondering whether FreeBSD is the right operating system for them and want to test some of the features before installing.Úbsdinstall çš„æ¬¢è¿èœå•åœ¨ <<bsdinstall-choose-mode>> ä¸­æ˜¾ç¤ºï¼Œæä¾›äº† btn:[Live CD] é€‰é¡¹ã€‚å¯¹äºé‚£äº›ä»ç„¶åœ¨çŠ¹è±«æ˜¯å¦é€‰æ‹© FreeBSD ä½œä¸ºä»–ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”æƒ³åœ¨å®‰è£…ä¹‹å‰æµ‹è¯•ä¸€äº›åŠŸèƒ½çš„äººæ¥è¯´ï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ÙDThe following points should be noted before using the btn:[Live CD]:Ù9åœ¨ä½¿ç”¨ btn:[Live CD] ä¹‹å‰ï¼Œåº”æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼šÙkTo gain access to the system, authentication is required. The username is `root` and the password is blank.ÙRè¦è®¿é—®ç³»ç»Ÿï¼Œéœ€è¦è¿›è¡Œèº«ä»½éªŒè¯ã€‚ç”¨æˆ·åä¸º `root`ï¼Œå¯†ç ä¸ºç©ºã€‚Ù‘As the system runs directly from the installation media, performance will be significantly slower than that of a system installed on a hard disk.Ùcç”±äºç³»ç»Ÿç›´æ¥ä»å®‰è£…ä»‹è´¨è¿è¡Œï¼Œå› æ­¤æ€§èƒ½å°†æ˜æ˜¾ä½äºå®‰è£…åœ¨ç¡¬ç›˜ä¸Šçš„ç³»ç»Ÿã€‚ÙIThis option only provides a command prompt and not a graphical interface.Ù?è¯¥é€‰é¡¹åªæä¾›å‘½ä»¤æç¤ºç¬¦ï¼Œè€Œä¸æä¾›å›¾å½¢ç•Œé¢ã€‚¨Abstract¦æ‘˜è¦Ú|Welcome to FreeBSD! This handbook covers the installation and day to day use of _FreeBSD {rel140-current}-RELEASE, {rel132-current}-RELEASE_ and _FreeBSD {rel124-current}-RELEASE_.  This book is the result of ongoing work by many individuals.  Some sections might be outdated.  Those interested in helping to update and expand this document should send email to the {freebsd-doc}.ÚJæ¬¢è¿æ¥åˆ° FreeBSD ï¼æœ¬æ‰‹å†Œæ¶µç›–äº† _FreeBSD {rel140-current}-RELEASE, {rel132-current}-RELEASE_ å’Œ _FreeBSD {rel124-current}-RELEASE_çš„å®‰è£…å’Œæ—¥å¸¸ä½¿ç”¨ã€‚æœ¬ä¹¦æ˜¯è®¸å¤šäººæŒç»­å·¥ä½œçš„ç»“æœã€‚æŸäº›éƒ¨åˆ†å¯èƒ½å·²è¿‡æ—¶ã€‚æœ‰å…´è¶£å¸®åŠ©æ›´æ–°å’Œæ‰©å±•æœ¬æ–‡æ¡£çš„äººåº”è¯¥å‘é€ç”µå­é‚®ä»¶è‡³ {freebsd-doc}ã€‚ÚThe latest version of this book is available from the https://www.FreeBSD.org/[FreeBSD web site].  Previous versions can be obtained from https://docs.FreeBSD.org/doc/[https://docs.FreeBSD.org/doc/].  The book can be downloaded in a variety of formats and compression options from the https://download.freebsd.org/doc/[FreeBSD download server] or one of the numerous link:./mirrors#mirrors[mirror sites].  Searches can be performed on the handbook and other documents on the link:https://www.FreeBSD.org/search/[search page].ÚÍè¿™æœ¬ä¹¦çš„æœ€æ–°ç‰ˆæœ¬å¯ä»¥ä» https://www.FreeBSD.org/[FreeBSD ç½‘ç«™] è·å–ã€‚ä»¥å‰çš„ç‰ˆæœ¬å¯ä»¥ä» https://docs.FreeBSD.org/doc/[https://docs.FreeBSD.org/doc/] è·å–ã€‚è¯¥ä¹¦å¯ä»¥ä» https://download.freebsd.org/doc/[FreeBSD ä¸‹è½½æœåŠ¡å™¨] æˆ–ä¼—å¤š link:./mirrors#mirrors[é•œåƒç«™ç‚¹] ä¹‹ä¸€ä»¥å¤šç§æ ¼å¼å’Œå‹ç¼©é€‰é¡¹ä¸‹è½½ã€‚å¯ä»¥åœ¨æ‰‹å†Œå’Œå…¶ä»–æ–‡æ¡£ä¸Šè¿›è¡Œæœç´¢ï¼Œé“¾æ¥åœ¨ link:https://www.FreeBSD.org/search/[æœç´¢é¡µé¢] ä¸Šã€‚ÙÁThe FreeBSD newcomer will find that the first section of this book guides the user through the FreeBSD installation process and gently introduces the concepts and conventions that underpin UNIXÙŒFreeBSD æ–°æ‰‹ä¼šå‘ç°æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†æŒ‡å¯¼ç”¨æˆ·å®Œæˆ FreeBSD å®‰è£…è¿‡ç¨‹ï¼Œå¹¶è½»æ¾åœ°ä»‹ç»äº†æ”¯æ’‘ UNIX çš„æ¦‚å¿µå’Œçº¦å®šã€‚§Preface¦å‰è¨€±Intended Audience¬é¢„æœŸè¯»è€…ÚZThe FreeBSD newcomer will find that the first section of this book guides the user through the FreeBSD installation process and gently introduces the concepts and conventions that underpin UNIX(R).  Working through this section requires little more than the desire to explore, and the ability to take on board new concepts as they are introduced.ÙÚFreeBSD æ–°æ‰‹ä¼šå‘ç°æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†æŒ‡å¯¼ç”¨æˆ·å®Œæˆ FreeBSD å®‰è£…è¿‡ç¨‹ï¼Œå¹¶è½»æ¾åœ°ä»‹ç»äº† UNIX(R) çš„æ¦‚å¿µå’Œçº¦å®šã€‚é˜…è¯»è¿™ä¸€éƒ¨åˆ†åªéœ€è¦æœ‰æ¢ç´¢çš„æ„¿æœ›ï¼Œä»¥åŠæ¥å—æ–°æ¦‚å¿µçš„èƒ½åŠ›ã€‚Ú=Once you have traveled this far, the second, far larger, section of the Handbook is a comprehensive reference to all manner of topics of interest to FreeBSD system administrators.  Some of these chapters may recommend that you do some prior reading, and this is noted in the synopsis at the beginning of each chapter.Ùÿä¸€æ—¦ä½ èµ°åˆ°è¿™ä¸€æ­¥ï¼Œæ‰‹å†Œçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æ›´å¤§çš„éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªå¯¹ FreeBSD ç³»ç»Ÿç®¡ç†å‘˜æ„Ÿå…´è¶£çš„å„ç§ä¸»é¢˜çš„å…¨é¢å‚è€ƒã€‚å…¶ä¸­ä¸€äº›ç« èŠ‚å¯èƒ½ä¼šå»ºè®®ä½ å…ˆé˜…è¯»ä¸€äº›å†…å®¹ï¼Œåœ¨æ¯ä¸ªç« èŠ‚çš„ç®€ä»‹ä¸­ä¼šæœ‰æ³¨æ˜ã€‚ÙmFor a list of additional sources of information, please see crossref:bibliography[bibliography,Bibliography].Ùaæœ‰å…³æ›´å¤šä¿¡æ¯æ¥æºçš„åˆ—è¡¨ï¼Œè¯·å‚è§ crossref:bibliography[bibliography,å‚è€ƒæ–‡çŒ®]ã€‚®Fourth Edition©ç¬¬å››ç‰ˆÙÙThe current version of the Handbook represents the cumulative effort of a working group that has been reviewing and updating all Handbook content.  These are the major updates since the fourth edition of the Handbook.Ù«å½“å‰ç‰ˆæœ¬çš„æ‰‹å†Œä»£è¡¨äº†ä¸€ä¸ªå·¥ä½œç»„çš„ç´¯ç§¯åŠªåŠ›ï¼Œè¯¥å·¥ä½œç»„ä¸€ç›´åœ¨å®¡æŸ¥å’Œæ›´æ–°æ‰€æœ‰æ‰‹å†Œå†…å®¹ã€‚ä»¥ä¸‹æ˜¯è‡ªç¬¬å››ç‰ˆæ‰‹å†Œä»¥æ¥çš„ä¸»è¦æ›´æ–°ã€‚Ù—The Handbook has been converted from link:https://docbook.org/[Docbook] to link:https://gohugo.io/[Hugo] and link:https://asciidoctor.org/[AsciiDoctor]Ù‰æ‰‹å†Œå·²ä» link:https://docbook.org/[Docbook] è½¬æ¢ä¸º link:https://gohugo.io/[Hugo] å’Œ link:https://asciidoctor.org/[AsciiDoctor]ã€‚ÙQThe link:https://docs.FreeBSD.org[FreeBSD Documentation Portal] has been created.Ù@link:https://docs.FreeBSD.org[FreeBSD æ–‡æ¡£é—¨æˆ·] å·²åˆ›å»ºã€‚Ùycrossref:wayland[wayland,Wayland] has been added with information about installing and configuring Wayland under FreeBSD.Ùmæ·»åŠ äº† crossref:wayland[wayland,Wayland]ï¼Œå…¶ä¸­åŒ…å«åœ¨ FreeBSD ä¸‹å®‰è£…å’Œé…ç½® Wayland çš„ä¿¡æ¯ã€‚ÙRThe crossref:bibliography[bibliography,Bibliography] has been extensively updated.ÙRcrossref:bibliography[bibliography,å‚è€ƒæ–‡çŒ®] å·²ç»è¿›è¡Œäº†å¹¿æ³›çš„æ›´æ–°ã€‚­Third Edition©ç¬¬ä¸‰ç‰ˆÙñThe current online version of the Handbook represents the cumulative effort of many hundreds of contributors over the past 10 years.  The following are some of the significant changes since the two volume third edition was published in 2004:Ù£å½“å‰åœ¨çº¿ç‰ˆæœ¬çš„æ‰‹å†Œä»£è¡¨äº†è¿‡å» 10 å¹´æ¥æ•°ç™¾åè´¡çŒ®è€…çš„ç´¯ç§¯åŠªåŠ›ã€‚ä»¥ä¸‹æ˜¯è‡ª 2004 å¹´å‡ºç‰ˆç¬¬ä¸‰ç‰ˆä¸¤å·æœ¬ä»¥æ¥çš„ä¸€äº›é‡å¤§å˜åŒ–ï¼šÙmcrossref:wine[wine,WINE] has been added with information about how to run Windows(R) applications on FreeBSD.Ùjæ·»åŠ äº† crossref:wine[wine,WINE]ï¼Œå…³äºå¦‚ä½•åœ¨ FreeBSD ä¸Šè¿è¡Œ Windows(R) åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚Ùscrossref:dtrace[dtrace,DTrace] has been added with information about the powerful DTrace performance analysis tool.Ùccrossref:dtrace[dtrace,DTrace] æ·»åŠ äº†æœ‰å…³åŠŸèƒ½å¼ºå¤§çš„ DTrace æ€§èƒ½åˆ†æå·¥å…·çš„ä¿¡æ¯ã€‚Ù™crossref:filesystems[filesystems,Other File Systems] have been added with information about non-native file systems in FreeBSD, such as ZFS from Sun(TM).Ù‡crossref:filesystems[filesystems,å…¶ä»–æ–‡ä»¶ç³»ç»Ÿ] æ·»åŠ äº†æœ‰å…³ FreeBSD ä¸­éæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¦‚ Sun(TM) çš„ ZFSã€‚Ùƒcrossref:audit[audit,Security Event Auditing] has been added to cover the new auditing capabilities in FreeBSD and explain its use.Ùzcrossref:audit[audit,å®‰å…¨äº‹ä»¶å®¡è®¡] å¢åŠ äº†å…³äº FreeBSD ä¸­æ–°çš„å®¡è®¡åŠŸèƒ½çš„ä¿¡æ¯ï¼Œå¹¶è§£é‡Šäº†å…¶ç”¨é€”ã€‚Ù‹crossref:virtualization[virtualization,Virtualization] has been added with information about installing FreeBSD on virtualization software.Ù}crossref:virtualization[virtualization,è™šæ‹ŸåŒ–] æ·»åŠ äº†æœ‰å…³åœ¨è™šæ‹ŸåŒ–è½¯ä»¶ä¸Šå®‰è£… FreeBSD çš„ä¿¡æ¯ã€‚çš„ä¿¡æ¯ã€‚Ù’crossref:bsdinstall[bsdinstall,Installing FreeBSD] has been added to cover installation of FreeBSD using the new installation utility, bsdinstall.Ùtcrossref:bsdinstall[bsdinstall,å®‰è£… FreeBSD] æ–°å¢äº†ä½¿ç”¨æ–°å®‰è£…ç¨‹åº bsdinstall å®‰è£… FreeBSD çš„å†…å®¹ã€‚µSecond Edition (2004)·ç¬¬äºŒç‰ˆï¼ˆ2004 å¹´ï¼‰ÚThe third edition was the culmination of over two years of work by the dedicated members of the FreeBSD Documentation Project.  The printed edition grew to such a size that it was necessary to publish as two separate volumes.  The following are the major changes in this new edition:Ù½ç¬¬ä¸‰ç‰ˆæ˜¯ FreeBSD æ–‡æ¡£é¡¹ç›®ä¸“æ³¨æˆå‘˜è¶…è¿‡ä¸¤å¹´å·¥ä½œçš„å·…å³°ä¹‹ä½œã€‚å°åˆ·ç‰ˆçš„è§„æ¨¡å¢é•¿åˆ°äº†éœ€è¦åˆ†ä¸ºä¸¤å·å‡ºç‰ˆçš„ç¨‹åº¦ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªæ–°ç‰ˆä¸­çš„ä¸»è¦å˜åŒ–ï¼šÙÇcrossref:config[config-tuning,Configuration and Tuning] has been expanded with new information about the ACPI power and resource management, the `cron` system utility, and more kernel tuning options.Ù£crossref:config[config-tuning ,é…ç½®å’Œè°ƒä¼˜] å¢åŠ äº†å…³äº ACPI ç”µæºå’Œèµ„æºç®¡ç†ã€`cron` ç³»ç»Ÿå®ç”¨ç¨‹åºä»¥åŠæ›´å¤šå†…æ ¸è°ƒä¼˜é€‰é¡¹çš„æ–°ä¿¡æ¯ã€‚Ù´crossref:security[security,Security] has been expanded with new information about virtual private networks (VPNs), file system access control lists (ACLs), and security advisories.Ù™crossref:security[security, Security] å¢åŠ äº†å…³äºè™šæ‹Ÿç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰ã€æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLsï¼‰å’Œå®‰å…¨å…¬å‘Šçš„æ–°ä¿¡æ¯ã€‚Ù¥crossref:mac[mac,Mandatory Access Control] is a new chapter with this edition. It explains what MAC is and how this mechanism can be used to secure a FreeBSD system.Ùœcrossref:mac[mac,Mandatory Access Control] æ˜¯æœ¬ç‰ˆæœ¬çš„æ–°ç« èŠ‚ã€‚å®ƒè§£é‡Šäº† MAC æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™ç§æœºåˆ¶æ¥ä¿æŠ¤ FreeBSD ç³»ç»Ÿã€‚ÙÎcrossref:disks[disks,Storage] has been expanded with new information about USB storage devices, file system snapshots, file system quotas, file and network backed filesystems, and encrypted disk partitions.Ù¶crossref:disks[disks,Storage] å¢åŠ äº†å…³äº USB å­˜å‚¨è®¾å¤‡ã€æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ã€æ–‡ä»¶ç³»ç»Ÿé…é¢ã€æ–‡ä»¶å’Œç½‘ç»œæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿä»¥åŠåŠ å¯†ç£ç›˜åˆ†åŒºçš„æ–°ä¿¡æ¯ã€‚ÙTA troubleshooting section has been added to crossref:ppp-and-slip[ppp-and-slip,PPP].ÙJå‘ crossref:ppp-and-slip[ppp-and-slip,PPP] æ·»åŠ äº†æ•…éšœæ’é™¤éƒ¨åˆ†ã€‚Ù¿crossref:mail[mail,Electronic Mail] has been expanded with new information about using alternative transport agents, SMTP authentication, UUCP, fetchmail, procmail, and other advanced topics.ÙŸcrossref:mail[mail,ç”µå­é‚®ä»¶] æ‰©å±•äº†å…³äºä½¿ç”¨æ›¿ä»£ä¼ è¾“ä»£ç†ã€SMTP èº«ä»½éªŒè¯ã€UUCPã€fetchmailã€procmail å’Œå…¶ä»–é«˜çº§ä¸»é¢˜çš„æ–°ä¿¡æ¯ã€‚Úvcrossref:network-servers[network-servers,Network Servers] is all new with this edition. This chapter includes information about setting up the Apache HTTP Server, ftpd, and setting up a server for Microsoft(R) Windows(R) clients with Samba. Some sections from crossref:advanced-networking[advanced-networking,Advanced Networking] were moved here to improve the presentation.Úgcrossref:network-servers[network-servers,ç½‘ç»œæœåŠ¡å™¨] åœ¨æœ¬ç‰ˆä¸­æ˜¯å…¨æ–°çš„ã€‚æœ¬ç« åŒ…æ‹¬æœ‰å…³è®¾ç½® Apache HTTP æœåŠ¡å™¨ã€ftpd ä»¥åŠä½¿ç”¨ Samba ä¸º Microsoft(R) Windows(R) å®¢æˆ·ç«¯è®¾ç½®æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚ä¸ºäº†æ”¹å–„å‘ˆç°æ•ˆæœï¼Œä¸€äº›æ¥è‡ª crossref:advanced-networking[advanced-networking ,é«˜çº§ç½‘ç»œ] çš„éƒ¨åˆ†å†…å®¹è¢«ç§»è‡³æ­¤å¤„ã€‚Ùêcrossref:advanced-networking[advanced-networking,Advanced Networking] has been expanded with new information about using Bluetooth(R) devices with FreeBSD, setting up wireless networks, and Asynchronous Transfer Mode (ATM) networking.Ù·crossref:advanced-networking[advanced-networking,é«˜çº§ç½‘ç»œ] å¢åŠ äº†å…³äºåœ¨ FreeBSD ä¸Šä½¿ç”¨è“ç‰™è®¾å¤‡ã€è®¾ç½®æ— çº¿ç½‘ç»œå’Œå¼‚æ­¥ä¼ è¾“æ¨¡å¼ï¼ˆATMï¼‰ç½‘ç»œçš„æ–°ä¿¡æ¯ã€‚ÙxA glossary has been added to provide a central location for the definitions of technical terms used throughout the book.Ùcæ·»åŠ æœ¯è¯­è¡¨ï¼Œä»¥æä¾›ä¸€ä¸ªé›†ä¸­çš„ä½ç½®ï¼Œç”¨äºå®šä¹‰æ•´æœ¬ä¹¦ä¸­ä½¿ç”¨çš„æŠ€æœ¯æœ¯è¯­ã€‚Ù`A number of aesthetic improvements have been made to the tables and figures throughout the book.Ù?å¯¹æœ¬ä¹¦ä¸­çš„è¡¨æ ¼å’Œå›¾è¡¨è¿›è¡Œäº†ä¸€äº›ç¾è§‚çš„æ”¹è¿›ã€‚´First Edition (2001)·ç¬¬ä¸€ç‰ˆï¼ˆ2001 å¹´ï¼‰Ù¶The second edition was the culmination of over two years of work by the dedicated members of the FreeBSD Documentation Project.  The following were the major changes in this edition:Ùoç¬¬äºŒç‰ˆæ˜¯ FreeBSD æ–‡æ¡£é¡¹ç›®ä¸“æ³¨æˆå‘˜ä¸¤å¹´å¤šå·¥ä½œçš„å·…å³°ä¹‹ä½œã€‚ä»¥ä¸‹æ˜¯æœ¬ç‰ˆçš„ä¸»è¦å˜åŒ–ï¼šÙ A complete Index has been added.µæ·»åŠ å®Œæ•´ç´¢å¼•ã€‚Ù;All ASCII figures have been replaced by graphical diagrams.Ù=æ‰€æœ‰çš„ ASCII å›¾å½¢éƒ½å·²è¢«æ›¿æ¢ä¸ºå›¾å½¢åŒ–çš„å›¾è¡¨ã€‚ÙA standard synopsis has been added to each chapter to give a quick summary of what information the chapter contains, and what the reader is expected to know.Ù~æ¯ä¸ªç« èŠ‚éƒ½æ·»åŠ äº†ä¸€ä¸ªæ ‡å‡†çš„ç®€ä»‹ï¼Œä»¥ä¾¿å¿«é€Ÿæ¦‚è¿°è¯¥ç« èŠ‚åŒ…å«çš„ä¿¡æ¯ä»¥åŠè¯»è€…åº”è¯¥äº†è§£çš„å†…å®¹ã€‚ÙzThe content has been logically reorganized into three parts: "Getting Started", "System Administration", and "Appendices".Ùoå†…å®¹å·²ç»åœ¨é€»è¾‘ä¸Šé‡æ–°ç»„ç»‡æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šâ€œå…¥é—¨æŒ‡å—â€ï¼Œâ€œç³»ç»Ÿç®¡ç†â€å’Œâ€œé™„å½•â€ã€‚Ùcrossref:basics[basics,FreeBSD Basics] has been expanded to contain additional information about processes, daemons, and signals.Ùƒå¯¹ crossref:basics[basics, FreeBSD åŸºç¡€çŸ¥è¯†] è¿›è¡Œäº†æ‰©å±•ï¼ŒåŒ…å«äº†å…³äºè¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹å’Œä¿¡å·çš„é¢å¤–ä¿¡æ¯ã€‚Ù–crossref:ports[ports,Installing Applications: Packages and Ports] has been expanded to contain additional information about binary package management.Ùˆå¯¹ crossref:ports[ports ,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œç«¯å£] è¿›è¡Œäº†æ‰©å±•ï¼ŒåŒ…å«äº†å…³äºäºŒè¿›åˆ¶åŒ…ç®¡ç†çš„é¢å¤–ä¿¡æ¯ã€‚Ù£crossref:x11[x11,The X Window System] has been completely rewritten with an emphasis on using modern desktop technologies such as KDE and GNOME on XFree86(TM) 4.X.Ù‡crossref:x11[x11,X Window ç³»ç»Ÿ] ç« èŠ‚å®Œå…¨é‡å†™ï¼Œé‡ç‚¹æ˜¯ä½¿ç”¨ç°ä»£æ¡Œé¢æŠ€æœ¯ï¼Œå¦‚ KDE å’Œ GNOME åœ¨ XFree86(TM) 4.X ä¸Šã€‚ÙBcrossref:boot[boot,The FreeBSD Booting Process] has been expanded.Ù@å¯¹ crossref:boot[boot, FreeBSD å¼•å¯¼è¿‡ç¨‹] è¿›è¡Œäº†æ‰©å±•ã€‚Úcrossref:disks[disks,Storage] has been written from what used to be two separate chapters on "Disks" and "Backups". We feel that the topics are easier to comprehend when presented as a single chapter. A section on RAID (both hardware and software) has also been added.Ùücrossref:disks[disks,å­˜å‚¨] ä¸€ç« æ˜¯ç”±åŸæœ¬åˆ†ä¸º"ç£ç›˜"å’Œ"å¤‡ä»½"ä¸¤ä¸ªç« èŠ‚åˆå¹¶è€Œæˆçš„ã€‚æˆ‘ä»¬è®¤ä¸ºå°†è¿™äº›ä¸»é¢˜ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç« èŠ‚å‘ˆç°æ›´å®¹æ˜“ç†è§£ã€‚åŒæ—¶ï¼Œè¿˜æ·»åŠ äº†ä¸€ä¸ªå…³äº RAID ï¼ˆç¡¬ä»¶å’Œè½¯ä»¶ï¼‰çš„éƒ¨åˆ†ã€‚Ùxcrossref:serialcomms[serialcomms,Serial Communications] has been completely reorganized and updated for FreeBSD 4.X/5.X.Ùycrossref:serialcomms[serialcomms,Serial Communications] ç« èŠ‚å®Œå…¨é‡æ–°ç»„ç»‡å’Œæ›´æ–°ï¼Œé€‚ç”¨äº FreeBSD 4.X/5.X ã€‚ÙGcrossref:ppp-and-slip[ppp-and-slip,PPP] has been substantially updated.ÙFcrossref:ppp-and-slip[ppp-and-slip,PPP] ç« èŠ‚è¿›è¡Œäº†é‡å¤§æ›´æ–°ã€‚ÙkMany new sections have been added to crossref:advanced-networking[advanced-networking,Advanced Networking].Ù`crossref:advanced-networking[advanced-networking,é«˜çº§ç½‘ç»œ] ä¸­æ·»åŠ äº†è®¸å¤šæ–°çš„éƒ¨åˆ†ã€‚Ùmcrossref:mail[mail,Electronic Mail] has been expanded to include more information about configuring sendmail.Ùcå¯¹ crossref:mail[mail ,ç”µå­é‚®ä»¶] è¿›è¡Œæ‰©å±•ï¼ŒåŒ…æ‹¬æ›´å¤šå…³äºé…ç½® sendmail çš„ä¿¡æ¯ã€‚Ùcrossref:linuxemu[linuxemu,LinuxÂ® Binary Compatibility] has been expanded to include information about installing Oracle(R) and SAP(R) R/3(R).Ù†å¯¹ crossref:linuxemu[linuxemu, LinuxÂ® äºŒè¿›åˆ¶å…¼å®¹æ€§] è¿›è¡Œäº†æ‰©å±•ï¼ŒåŒ…æ‹¬äº†å®‰è£… Oracle(R) å’Œ SAP(R) R/3(R) çš„ä¿¡æ¯ã€‚Ù<The following new topics are covered in this second edition:Ù'æœ¬ç¬¬äºŒç‰ˆæ¶µç›–äº†ä»¥ä¸‹æ–°ä¸»é¢˜ï¼šÙ8crossref:config[config-tuning,Configuration and Tuning].Ù1crossref:config[config-tuning,é…ç½®å’Œè°ƒä¼˜]ã€‚Ù+crossref:multimedia[multimedia,Multimedia].Ù,crossref:multimedia[multimedia,å¤šåª’ä½“]ã€‚¹Organization of This Bookµæœ¬ä¹¦çš„ç»„ç»‡ç»“æ„ÚiThis book is split into five logically distinct sections.  The first section, _Getting Started_, covers the installation and basic usage of FreeBSD.  It is expected that the reader will follow these chapters in sequence, possibly skipping chapters covering familiar topics.  The second section, _Common Tasks_, covers some frequently used features of FreeBSD.  This section, and all subsequent sections, can be read out of order.  Each chapter begins with a succinct synopsis that describes what the chapter covers and what the reader is expected to already know.  This is meant to allow the casual reader to skip around to find chapters of interest.  The third section, _System Administration_, covers administration topics.  The fourth section, _Network Communication_, covers networking and server topics.  The fifth section contains appendices of reference information.Ú‘æœ¬ä¹¦åˆ†ä¸ºäº”ä¸ªé€»è¾‘ä¸Šç‹¬ç«‹çš„éƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯ _å…¥é—¨_ï¼Œä»‹ç»äº† FreeBSD çš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨ã€‚é¢„è®¡è¯»è€…ä¼šæŒ‰ç…§ç« èŠ‚çš„é¡ºåºé˜…è¯»ï¼Œå¯èƒ½ä¼šè·³è¿‡ç†Ÿæ‚‰çš„ä¸»é¢˜ç« èŠ‚ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ _å¸¸è§ä»»åŠ¡_ï¼Œä»‹ç»äº† FreeBSD çš„ä¸€äº›å¸¸ç”¨åŠŸèƒ½ã€‚è¿™éƒ¨åˆ†ä»¥åŠåç»­çš„éƒ¨åˆ†å¯ä»¥æŒ‰ä»»æ„é¡ºåºé˜…è¯»ã€‚æ¯ä¸ªç« èŠ‚éƒ½ä»¥ç®€æ´çš„æ‘˜è¦å¼€å§‹ï¼Œæè¿°äº†ç« èŠ‚å†…å®¹å’Œè¯»è€…æ‰€éœ€çš„åŸºç¡€çŸ¥è¯†ã€‚è¿™æ ·å¯ä»¥è®©è¯»è€…éšæ„è·³è½¬åˆ°æ„Ÿå…´è¶£çš„ç« èŠ‚ã€‚ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ _ç³»ç»Ÿç®¡ç†_ï¼Œä»‹ç»äº†ç®¡ç†ä¸»é¢˜ã€‚ç¬¬å››éƒ¨åˆ†æ˜¯ _ç½‘ç»œé€šä¿¡_ï¼Œä»‹ç»äº†ç½‘ç»œå’ŒæœåŠ¡å™¨ä¸»é¢˜ã€‚ç¬¬äº”éƒ¨åˆ†åŒ…å«å‚è€ƒä¿¡æ¯çš„é™„å½•ã€‚Ù&_crossref:introduction[,Introduction]_Ù-_crossref:introduction[introduction, å¯¼è¨€]_ÙsIntroduces FreeBSD to a new user. It describes the history of the FreeBSD Project, its goals and development model.Ùcæœ¬æ–‡å‘æ–°ç”¨æˆ·ä»‹ç» FreeBSD ã€‚å®ƒæè¿°äº† FreeBSD é¡¹ç›®çš„å†å²ã€ç›®æ ‡å’Œå¼€å‘æ¨¡å‹ã€‚Ù4_crossref:bsdinstall[bsdinstall,Installing FreeBSD]_Ù1_crossref:bsdinstall[bsdinstall, å®‰è£… FreeBSD]_ÙaWalks a user through the entire installation process of FreeBSD 9._x_ and later using bsdinstall.Ù[ä½¿ç”¨ bsdinstallï¼Œå¼•å¯¼ç”¨æˆ·å®Œæˆ FreeBSD 9._x_åŠæ›´é«˜ç‰ˆæœ¬çš„å®Œæ•´å®‰è£…è¿‡ç¨‹ã€‚Ù(_crossref:basics[basics,FreeBSD Basics]_Ù/_crossref:basics[basics, FreeBSD åŸºç¡€çŸ¥è¯†]_Ù´Covers the basic commands and functionality of the FreeBSD operating system. If you are familiar with Linux(R) or another flavor of UNIX(R) then you can probably skip this chapter.Ù”ä»‹ç»äº† FreeBSD æ“ä½œç³»ç»Ÿçš„åŸºæœ¬å‘½ä»¤å’ŒåŠŸèƒ½ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰ Linux(R) æˆ–å…¶ä»– UNIX(R) çš„å˜ç§ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å¯ä»¥è·³è¿‡æœ¬ç« ã€‚ÙC_crossref:ports[ports,Installing Applications: Packages and Ports]_Ù@_crossref:ports[ports ,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ Ports]_ÙCovers the installation of third-party software with both FreeBSD's innovative "Ports Collection" and standard binary packages.Ùyæœ¬æ–‡ä»‹ç»äº†ä½¿ç”¨ FreeBSD åˆ›æ–°çš„â€œPorts Collectionâ€å’Œæ ‡å‡†äºŒè¿›åˆ¶è½¯ä»¶åŒ…å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶çš„æ–¹æ³•ã€‚Ù'_crossref:x11[x11,The X Window System]_Ù$_crossref:x11[x11, X Window ç³»ç»Ÿ]_Ù’Describes the X Window System in general and using X11 on FreeBSD in particular. Also describes common desktop environments such as KDE and GNOME.Ù“æè¿°äº† X Window System çš„ä¸€èˆ¬æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åœ¨ FreeBSD ä¸Šä½¿ç”¨ X11 çš„æƒ…å†µã€‚è¿˜æè¿°äº†å¸¸è§çš„æ¡Œé¢ç¯å¢ƒï¼Œå¦‚ KDE å’Œ GNOMEã€‚Ù#_crossref:wayland[wayland,Wayland]_Ù$_crossref:wayland[wayland, Wayland]_ÙŸDescribes the Wayland display server in general and using Wayland on FreeBSD in particular. Also describes common compositors such as Wayfire, Hikari and Sway.Ù§æè¿°äº† Wayland æ˜¾ç¤ºæœåŠ¡å™¨çš„ä¸€èˆ¬æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åœ¨ FreeBSD ä¸Šä½¿ç”¨ Wayland çš„æƒ…å†µã€‚è¿˜æè¿°äº†å¸¸è§çš„åˆæˆå™¨ï¼Œå¦‚ Wayfireã€Hikari å’Œ Swayã€‚Ù0_crossref:desktop[desktop,Desktop Applications]_Ù._crossref:desktop[desktop,æ¡Œé¢åº”ç”¨ç¨‹åº]_ÙƒLists some common desktop applications, such as web browsers and productivity suites, and describes how to install them on FreeBSD.Ùåˆ—ä¸¾äº†ä¸€äº›å¸¸è§çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå¦‚ç½‘ç»œæµè§ˆå™¨å’ŒåŠå…¬å¥—ä»¶ï¼Œå¹¶æè¿°äº†å¦‚ä½•åœ¨ FreeBSD ä¸Šå®‰è£…å®ƒä»¬ã€‚Ù,_crossref:multimedia[multimedia,Multimedia]_Ù+_crossref:multimedia[multimedia,å¤šåª’ä½“]_Ù~Shows how to set up sound and video playback support for your system. Also describes some sample audio and video applications.Ùxå±•ç¤ºäº†å¦‚ä½•ä¸ºæ‚¨çš„ç³»ç»Ÿè®¾ç½®éŸ³é¢‘å’Œè§†é¢‘æ’­æ”¾æ”¯æŒã€‚è¿˜ä»‹ç»äº†ä¸€äº›ç¤ºä¾‹éŸ³é¢‘å’Œè§†é¢‘åº”ç”¨ç¨‹åºã€‚ÙD_crossref:kernelconfig[kernelconfig,Configuring the FreeBSD Kernel]_Ù;_crossref:kernelconfig[kernelconfig,é…ç½® FreeBSD å†…æ ¸]_Ù“Explains why you might need to configure a new kernel and provides detailed instructions for configuring, building, and installing a custom kernel.Ù„è§£é‡Šäº†ä¸ºä»€ä¹ˆæ‚¨å¯èƒ½éœ€è¦é…ç½®ä¸€ä¸ªæ–°çš„å†…æ ¸ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„é…ç½®ã€æ„å»ºå’Œå®‰è£…è‡ªå®šä¹‰å†…æ ¸çš„æŒ‡ä»¤ã€‚Ù&_crossref:printing[printing,Printing]_Ù%_crossref:printing[printing ,æ‰“å°]_ÙxDescribes managing printers on FreeBSD, including information about banner pages, printer accounting, and initial setup.Ùxæè¿°äº†åœ¨ FreeBSD ä¸Šç®¡ç†æ‰“å°æœºçš„æ–¹æ³•ï¼ŒåŒ…æ‹¬æœ‰å…³æ¨ªå¹…é¡µé¢ã€æ‰“å°æœºè®¡è´¹å’Œåˆå§‹è®¾ç½®çš„ä¿¡æ¯ã€‚Ù:_crossref:linuxemu[linuxemu,LinuxÂ® Binary Compatibility]_Ù;_crossref:linuxemu[linuxemu , Linux(R) äºŒè¿›åˆ¶å…¼å®¹æ€§]_Ù·Describes the Linux(R) compatibility features of FreeBSD. Also provides detailed installation instructions for many popular Linux(R) applications such as Oracle(R) and Mathematica(R).Ùæè¿°äº† FreeBSD çš„ Linux(R) å…¼å®¹åŠŸèƒ½ã€‚è¿˜æä¾›äº†è®¸å¤šæµè¡Œçš„ Linux(R) åº”ç”¨ç¨‹åºï¼ˆå¦‚ Oracle(R) å’Œ Mathematica(R)ï¼‰çš„è¯¦ç»†å®‰è£…è¯´æ˜ã€‚º_crossref:wine[wine,WINE]_º_crossref:wine[wine,WINE]_ÙÒDescribes WINE and provides detailed installation instructions. Also describes how WINE operates, how to install a GUI helper, how to run Windows(R) applications on FreeBSD, and offers other tips and solutions.ÙÎæè¿°äº† WINE å¹¶æä¾›äº†è¯¦ç»†çš„å®‰è£…è¯´æ˜ã€‚è¿˜æè¿°äº† WINE çš„æ“ä½œæ–¹å¼ï¼Œå¦‚ä½•å®‰è£… GUI åŠ©æ‰‹ï¼Œå¦‚ä½•åœ¨ FreeBSD ä¸Šè¿è¡Œ Windows(R) åº”ç”¨ç¨‹åºï¼Œå¹¶æä¾›å…¶ä»–æç¤ºå’Œè§£å†³æ–¹æ¡ˆã€‚Ù9_crossref:config[config-tuning,Configuration and Tuning]_Ù1_crossref:config[config-tuning ,é…ç½®å’Œè°ƒä¼˜]_ÙÅDescribes the parameters available for system administrators to tune a FreeBSD system for optimum performance. Also describes the various configuration files used in FreeBSD and where to find them.Ù¢æè¿°äº†ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥è°ƒæ•´ FreeBSD ç³»ç»Ÿä»¥è·å¾—æœ€ä½³æ€§èƒ½çš„å‚æ•°ã€‚è¿˜æè¿°äº†åœ¨ FreeBSD ä¸­ä½¿ç”¨çš„å„ç§é…ç½®æ–‡ä»¶ä»¥åŠå®ƒä»¬çš„ä½ç½®ã€‚Ù1_crossref:boot[boot,The FreeBSD Booting Process]_Ù+_crossref:boot[boot, FreeBSD å¼•å¯¼è¿‡ç¨‹]_ÙgDescribes the FreeBSD boot process and explains how to control this process with configuration options.Ù`æè¿°äº† FreeBSD çš„å¯åŠ¨è¿‡ç¨‹ï¼Œå¹¶è§£é‡Šäº†å¦‚ä½•é€šè¿‡é…ç½®é€‰é¡¹æ¥æ§åˆ¶è¿™ä¸ªè¿‡ç¨‹ã€‚Ù&_crossref:security[security,Security]_Ù$_crossref:security[security,å®‰å…¨]_ÙxDescribes many different tools available to help keep your FreeBSD system secure, including Kerberos, IPsec and OpenSSH.Ù€æè¿°äº†è®¸å¤šä¸åŒçš„å·¥å…·ï¼Œå¯ç”¨äºå¸®åŠ©ä¿æŠ¤æ‚¨çš„ FreeBSD ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒåŒ…æ‹¬ Kerberosã€IPsec å’Œ OpenSSHã€‚½_crossref:jails[jails,Jails]_½_crossref:jails[jails,Jails]_ÙlDescribes the jails framework, and the improvements of jails over the traditional chroot support of FreeBSD.Ù^æè¿°äº† FreeBSD ä¸­çš„ jails æ¡†æ¶ä»¥åŠ jails ç›¸å¯¹äºä¼ ç»Ÿçš„ chroot æ”¯æŒçš„æ”¹è¿›ã€‚Ù,_crossref:mac[mac,Mandatory Access Control]_Ù&_crossref:mac[mac,å¼ºåˆ¶è®¿é—®æ§åˆ¶]_ÙnExplains what Mandatory Access Control (MAC) is and how this mechanism can be used to secure a FreeBSD system.Ù‚è§£é‡Šäº†å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼ˆMandatory Access Control,MACï¼‰æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™ç§æœºåˆ¶æ¥ä¿æŠ¤ FreeBSD ç³»ç»Ÿã€‚Ù/_crossref:audit[audit,Security Event Auditing]_Ù*_crossref:audit[audit,å®‰å…¨äº‹ä»¶å®¡è®¡]_Ù‚Describes what FreeBSD Event Auditing is, how it can be installed, configured, and how audit trails can be inspected or monitored.Ùiæè¿°äº†ä»€ä¹ˆæ˜¯ FreeBSD äº‹ä»¶å®¡è®¡ï¼Œå¦‚ä½•å®‰è£…ã€é…ç½®ä»¥åŠå¦‚ä½•æ£€æŸ¥æˆ–ç›‘æ§å®¡è®¡æ—¥å¿—ã€‚¿_crossref:disks[disks,Storage]_¾_crossref:disks[disks,å­˜å‚¨]_Ù´Describes how to manage storage media and filesystems with FreeBSD. This includes physical disks, RAID arrays, optical and tape media, memory-backed disks, and network filesystems.Ù­æè¿°äº†å¦‚ä½•ä½¿ç”¨ FreeBSD ç®¡ç†å­˜å‚¨ä»‹è´¨å’Œæ–‡ä»¶ç³»ç»Ÿã€‚è¿™åŒ…æ‹¬ç‰©ç†ç£ç›˜ã€RAID é˜µåˆ—ã€å…‰ç›˜å’Œç£å¸¦ä»‹è´¨ã€å†…å­˜æ”¯æŒçš„ç£ç›˜å’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿã€‚ÙA_crossref:geom[geom,GEOM: Modular Disk Transformation Framework]_Ù9_crossref:geom[geom, GEOMï¼šæ¨¡å—åŒ–ç£ç›˜è½¬æ¢æ¡†æ¶]_ÙcDescribes what the GEOM framework in FreeBSD is and how to configure various supported RAID levels.Ù]æè¿°äº† FreeBSD ä¸­çš„ GEOM æ¡†æ¶æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•é…ç½®å„ç§æ”¯æŒçš„ RAID çº§åˆ«ã€‚Ù0_crossref:zfs[zfs,The OpenZFS storage platform]_Ù)_crossref:zfs[zfs, OpenZFS å­˜å‚¨å¹³å°]_ÙŒDescribes the OpenZFS storage platform and provides a quick-start guide and information about advanced topics running OpenZFS under FreeBSD.Ùæè¿°äº† OpenZFS å­˜å‚¨å¹³å°ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªå¿«é€Ÿå…¥é—¨æŒ‡å—ï¼Œä»¥åŠå…³äºåœ¨ FreeBSD ä¸‹è¿è¡Œ OpenZFS çš„é«˜çº§ä¸»é¢˜çš„ä¿¡æ¯ã€‚Ù6_crossref:filesystems[filesystems,Other File Systems]_Ù6_crossref:filesystems[filesystems,å…¶ä»–æ–‡ä»¶ç³»ç»Ÿ]_ÙTExamines support for non-native file systems under FreeBSD like ext2, ext3 and ext4.ÙUç ”ç©¶äº† FreeBSD å¯¹éæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ ext2ã€ ext3 å’Œ ext4ï¼‰çš„æ”¯æŒã€‚Ù8_crossref:virtualization[virtualization,Virtualization]_Ù3_crossref:virtualization[virtualization,è™šæ‹ŸåŒ–]_ÙSDescribes what virtualization systems offer, and how they can be used with FreeBSD.ÙQæè¿°äº†è™šæ‹ŸåŒ–ç³»ç»Ÿæä¾›çš„åŠŸèƒ½ä»¥åŠå¦‚ä½•åœ¨ FreeBSD ä¸Šä½¿ç”¨å®ƒä»¬ã€‚Ù>_crossref:l10n[l10n,Localization - i18n/L10n Usage and Setup]_Ù>_crossref:l10n[l10n,æœ¬åœ°åŒ– - i18n/L10n çš„ä½¿ç”¨å’Œè®¾ç½®]_ÙtDescribes how to use FreeBSD in languages other than English. Covers both system and application level localization.Ùnæè¿°äº†å¦‚ä½•åœ¨éè‹±è¯­è¯­è¨€ç¯å¢ƒä¸­ä½¿ç”¨ FreeBSDã€‚æ¶µç›–äº†ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçº§åˆ«çš„æœ¬åœ°åŒ–ã€‚ÙJ_crossref:cutting-edge[updating-upgrading,Updating and Upgrading FreeBSD]_ÙC_crossref:cutting-edge[updating-upgrading,æ›´æ–°å’Œå‡çº§ FreeBSD]_ÚExplains the differences between FreeBSD-STABLE, FreeBSD-CURRENT, and FreeBSD releases. Describes which users would benefit from tracking a development system and outlines that process. Covers the methods users may take to update their system to the latest security release.Ùôè§£é‡Šäº† FreeBSD-STABLEã€FreeBSD-CURRENT å’Œ FreeBSD å‘å¸ƒç‰ˆä¹‹é—´çš„åŒºåˆ«ã€‚æè¿°äº†å“ªäº›ç”¨æˆ·ä¼šä»è·Ÿè¸ªå¼€å‘ç³»ç»Ÿä¸­å—ç›Šï¼Œå¹¶æ¦‚è¿°äº†è¯¥è¿‡ç¨‹ã€‚ä»‹ç»äº†ç”¨æˆ·å¯ä»¥é‡‡å–çš„æ–¹æ³•æ¥æ›´æ–°ç³»ç»Ÿåˆ°æœ€æ–°çš„å®‰å…¨å‘å¸ƒç‰ˆã€‚Ù _crossref:dtrace[dtrace,DTrace]_Ù"_crossref:dtrace[dtrace , DTrace]_Ù¨Describes how to configure and use the DTrace tool from Sun(TM) on FreeBSD. Dynamic tracing can help locate performance issues, by performing real time system analysis.Ù•æè¿°äº†å¦‚ä½•åœ¨ FreeBSD ä¸Šé…ç½®å’Œä½¿ç”¨ Sun(TM) çš„ DTrace å·¥å…·ã€‚é€šè¿‡è¿›è¡Œå®æ—¶ç³»ç»Ÿåˆ†æï¼ŒåŠ¨æ€è·Ÿè¸ªå¯å¸®åŠ©å®šä½æ€§èƒ½é—®é¢˜ã€‚ÙE_crossref:usb-device-mode[usb-device-mode,USB Device Mode / USB OTG]_ÙD_crossref:usb-device-mode[usb-device-mode,USB è®¾å¤‡æ¨¡å¼/USB OTG]_ÙKExplains the use of USB Device Mode and USB On The Go (USB OTG) on FreeBSD.ÙYè§£é‡Šäº†åœ¨ FreeBSD ä¸Šä½¿ç”¨ USB è®¾å¤‡æ¨¡å¼å’Œ USB On The Goï¼ˆUSB OTGï¼‰çš„æ–¹æ³•ã€‚Ù)_crossref:ppp-and-slip[ppp-and-slip,PPP]_Ù)_crossref:ppp-and-slip[ppp-and-slip,PPP]_ÙADescribes how to use PPP to connect to remote systems in FreeBSD.ÙAæè¿°äº†å¦‚ä½•åœ¨ FreeBSD ä¸­ä½¿ç”¨ PPP è¿æ¥åˆ°è¿œç¨‹ç³»ç»Ÿã€‚Ù%_crossref:mail[mail,Electronic Mail]_Ù"_crossref:mail[mail,ç”µå­é‚®ä»¶]_Ù”Explains the different components of an email server and dives into simple configuration topics for the most popular mail server software: sendmail.Ù…è§£é‡Šäº†ç”µå­é‚®ä»¶æœåŠ¡å™¨çš„ä¸åŒç»„ä»¶ï¼Œå¹¶æ·±å…¥æ¢è®¨äº†æœ€æµè¡Œçš„é‚®ä»¶æœåŠ¡å™¨è½¯ä»¶ sendmail çš„ç®€å•é…ç½®ä¸»é¢˜ã€‚Ù;_crossref:network-servers[network-servers,Network Servers]_Ù;_crossref:network-servers[network-servers,ç½‘ç»œæœåŠ¡å™¨]_ÙÔProvides detailed instructions and example configuration files to set up your FreeBSD machine as a network filesystem server, domain name server, network information system server, or time synchronization server.Ù·æä¾›è¯¦ç»†çš„è¯´æ˜å’Œç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼Œä»¥å°†æ‚¨çš„ FreeBSD æœºå™¨è®¾ç½®ä¸ºç½‘ç»œæ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨ã€åŸŸåæœåŠ¡å™¨ã€ç½‘ç»œä¿¡æ¯ç³»ç»ŸæœåŠ¡å™¨æˆ–æ—¶é—´åŒæ­¥æœåŠ¡å™¨ã€‚Ù)_crossref:firewalls[firewalls,Firewalls]_Ù*_crossref:firewalls[firewalls, Firewalls]_Ù£Explains the philosophy behind software-based firewalls and provides detailed information about the configuration of the different firewalls available for FreeBSD.Ùè§£é‡Šäº†åŸºäºè½¯ä»¶çš„é˜²ç«å¢™èƒŒåçš„å“²å­¦ï¼Œå¹¶æä¾›æœ‰å…³å¯ç”¨äº FreeBSD çš„ä¸åŒé˜²ç«å¢™çš„é…ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚ÙG_crossref:advanced-networking[advanced-networking,Advanced Networking]_Ù@_crossref:advanced-networking[advanced-networking,é«˜çº§ç½‘ç»œ]_ÙÂDescribes many networking topics, including sharing an Internet connection with other computers on your LAN, advanced routing topics, wireless networking, Bluetooth(R), ATM, IPv6, and much more.Ù¡æè¿°äº†è®¸å¤šç½‘ç»œä¸»é¢˜ï¼ŒåŒ…æ‹¬åœ¨å±€åŸŸç½‘ä¸Šä¸å…¶ä»–è®¡ç®—æœºå…±äº«äº’è”ç½‘è¿æ¥ã€é«˜çº§è·¯ç”±ä¸»é¢˜ã€æ— çº¿ç½‘ç»œã€è“ç‰™(R)ã€ATMã€IPv6 ç­‰ç­‰ã€‚Ù-_crossref:mirrors[mirrors,Obtaining FreeBSD]_Ù*_crossref:mirrors[mirrors,è·å– FreeBSD]_ÙLists different sources for obtaining FreeBSD media on CDROM or DVD as well as different sites on the Internet that allow you to download and install FreeBSD.Ù€åˆ—å‡ºäº†è·å– FreeBSD å…‰ç›˜æˆ– DVD çš„ä¸åŒæ¥æºï¼Œä»¥åŠå…è®¸æ‚¨ä¸‹è½½å’Œå®‰è£… FreeBSD çš„äº’è”ç½‘ä¸Šçš„ä¸åŒç½‘ç«™ã€‚Ù2_crossref:bibliography[bibliography,Bibliography]_Ù3_crossref:bibliography[bibliography ,å‚è€ƒæ–‡çŒ®]_Ù´This book touches on many different subjects that may leave you hungry for a more detailed explanation. The bibliography lists many excellent books that are referenced in the text.Ùè¿™æœ¬ä¹¦æ¶‰åŠäº†è®¸å¤šä¸åŒçš„ä¸»é¢˜ï¼Œå¯èƒ½ä¼šè®©ä½ æ¸´æœ›æ›´è¯¦ç»†çš„è§£é‡Šã€‚å‚è€ƒä¹¦ç›®åˆ—å‡ºäº†æ–‡æœ¬ä¸­å¼•ç”¨çš„è®¸å¤šä¼˜ç§€ä¹¦ç±ã€‚Ù;_crossref:eresources[eresources,Resources on the Internet]_Ù2_crossref:eresources[eresources ,äº’è”ç½‘èµ„æº]_Ù|Describes the many forums available for FreeBSD users to post questions and engage in technical conversations about FreeBSD.Ùcæè¿°äº†è®¸å¤šå¯ä¾› FreeBSD ç”¨æˆ·å‘å¸ƒé—®é¢˜å’Œå‚ä¸æœ‰å…³ FreeBSD çš„æŠ€æœ¯è®¨è®ºçš„è®ºå›ã€‚Ù(_crossref:pgpkeys[pgpkeys,OpenPGP Keys]_Ù,_crossref:pgpkeys[pgpkeys , OpenPGP å¯†é’¥]_Ù9Lists the PGP fingerprints of several FreeBSD Developers.Ù2åˆ—å‡ºäº†å‡ ä½ FreeBSD å¼€å‘è€…çš„ PGP æŒ‡çº¹ã€‚½Conventions used in this book¸æœ¬ä¹¦ä¸­ä½¿ç”¨çš„çº¦å®šÙdTo provide a consistent and easy to read text, several conventions are followed throughout the book.ÙKä¸ºäº†æä¾›ä¸€è‡´ä¸”æ˜“äºé˜…è¯»çš„æ–‡æœ¬ï¼Œæœ¬ä¹¦éµå¾ªäº†å‡ ä¸ªçº¦å®šã€‚·Typographic Conventions¬æ’ç‰ˆçº¦å®š¨_Italic_¨_æ–œä½“_ÙfAn _italic_ font is used for filenames, URLs, emphasized text, and the first usage of technical terms.ÙTæ–œä½“å­—ç”¨äºæ–‡ä»¶åã€URLã€å¼ºè°ƒçš„æ–‡æœ¬ä»¥åŠæŠ€æœ¯æœ¯è¯­çš„é¦–æ¬¡ä½¿ç”¨ã€‚«`Monospace`¨`ç­‰å®½`Ù±A `monospaced` font is used for error messages, commands, environment variables, names of ports, hostnames, user names, group names, device names, variables, and code fragments.Ùé”™è¯¯æ¶ˆæ¯ã€å‘½ä»¤ã€ç¯å¢ƒå˜é‡ã€ç«¯å£åç§°ã€ä¸»æœºåã€ç”¨æˆ·åã€ç»„åã€è®¾å¤‡åã€å˜é‡å’Œä»£ç ç‰‡æ®µä½¿ç”¨ `ç­‰å®½å­—ä½“`ã€‚¤Bold¦ç²—ä½“Ù;A *bold* font is used for applications, commands, and keys.Ù7åº”ç”¨ç¨‹åºã€å‘½ä»¤å’ŒæŒ‰é”®ä½¿ç”¨ *ç²—ä½“* å­—ä½“ã€‚ªUser Input¬ç”¨æˆ·è¾“å…¥Ù Keys are shown in *bold* to stand out from other text.  Key combinations that are meant to be typed simultaneously are shown with `+` between the keys, such as:Ù~é”®ä»¥ *ç²—ä½“* æ˜¾ç¤ºï¼Œä»¥çªå‡ºæ˜¾ç¤ºä¸å…¶ä»–æ–‡æœ¬çš„åŒºåˆ«ã€‚åŒæ—¶è¾“å…¥çš„é”®ç»„åˆä»¥ `+` ç¬¦å·åˆ†éš”é”®ï¼Œä¾‹å¦‚ï¼š²kbd:[Ctrl+Alt+Del]¶kbd:[Ctrl + Alt + Del]Ù\Meaning the user should type the kbd:[Ctrl], kbd:[Alt], and kbd:[Del] keys at the same time.ÙMæ„æ€æ˜¯ç”¨æˆ·åº”è¯¥åŒæ—¶æŒ‰ä¸‹ kbd:[Ctrl]ã€kbd:[Alt] å’Œ kbd:[Del] é”®ã€‚ÙWKeys that are meant to be typed in sequence will be separated with commas, for example:Ù9éœ€è¦æŒ‰é¡ºåºè¾“å…¥çš„é”®å°†ç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ï¼šºkbd:[Ctrl+X], kbd:[Ctrl+S]¿kbd:[Ctrl + X]ï¼Œkbd:[Ctrl + S]ÙœWould mean that the user is expected to type the kbd:[Ctrl] and kbd:[X] keys simultaneously and then to type the kbd:[Ctrl] and kbd:[S] keys simultaneously.Ùè¿™æ„å‘³ç€ç”¨æˆ·éœ€è¦åŒæ—¶æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ kbd:[Ctrl] å’Œ kbd:[X] é”®ï¼Œç„¶åå†åŒæ—¶æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ kbd:[Ctrl] å’Œ kbd:[S] é”®ã€‚¨Examples¦ç¤ºä¾‹ÙÎExamples starting with [.filename]#C:\># indicate a MS-DOS(R) command.  Unless otherwise noted, these commands may be executed from a "Command Prompt" window in a modern Microsoft(R) Windows(R) environment.Ù¾ä»¥ [.filename]#C:\># å¼€å¤´çš„ç¤ºä¾‹è¡¨ç¤ºä¸€ä¸ª MS-DOS(R) å‘½ä»¤ã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œè¿™äº›å‘½ä»¤å¯ä»¥åœ¨ç°ä»£ Microsoft(R) Windows(R) ç¯å¢ƒä¸­çš„ "Command Prompt" çª—å£ä¸­æ‰§è¡Œã€‚ÙÛExamples starting with # indicate a command that must be invoked as the superuser in FreeBSD.  You can login as `root` to type the command, or login as your normal account and use man:su[1] to gain superuser privileges.ÙÖä»¥ # å¼€å¤´çš„ç¤ºä¾‹è¡¨ç¤ºåœ¨ FreeBSD ä¸­å¿…é¡»ä»¥è¶…çº§ç”¨æˆ·èº«ä»½è°ƒç”¨çš„å‘½ä»¤ã€‚æ‚¨å¯ä»¥ç™»å½•ä¸º `root` æ¥è¾“å…¥å‘½ä»¤ï¼Œæˆ–è€…ç™»å½•ä¸ºæ‚¨çš„æ™®é€šå¸æˆ·å¹¶ä½¿ç”¨ man:su[1] æ¥è·å–è¶…çº§ç”¨æˆ·æƒé™ã€‚ÙÊExamples starting with % indicate a command that should be invoked from a normal user account.  Unless otherwise noted, C-shell syntax is used for setting environment variables and other shell commands.Ùšä»¥ % å¼€å¤´çš„ç¤ºä¾‹è¡¨ç¤ºåº”ä»æ™®é€šç”¨æˆ·å¸æˆ·è°ƒç”¨çš„å‘½ä»¤ã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡å’Œå…¶ä»– shell å‘½ä»¤ä½¿ç”¨ C-shell è¯­æ³•ã€‚¯Acknowledgments¦è‡´è°¢ÙËThe book you are holding represents the efforts of many hundreds of people around the world.  Whether they sent in fixes for typos, or submitted complete chapters, all the contributions have been useful.Ù–ä½ æ‰‹ä¸­çš„è¿™æœ¬ä¹¦ä»£è¡¨äº†å…¨çƒæ•°ç™¾äººçš„åŠªåŠ›ã€‚æ— è®ºä»–ä»¬æ˜¯çº æ­£é”™åˆ«å­—è¿˜æ˜¯æäº¤å®Œæ•´çš„ç« èŠ‚ï¼Œæ‰€æœ‰çš„è´¡çŒ®éƒ½æ˜¯æœ‰ç”¨çš„ã€‚Ú[Several companies have supported the development of this document by paying authors to work on it full-time, paying for publication, etc.  In particular, BSDi (subsequently acquired by http://www.windriver.com[Wind River Systems]) paid members of the FreeBSD Documentation Project to work on improving this book full time leading up to the publication of the first printed edition in March 2000 (ISBN 1-57176-241-8).  Wind River Systems then paid several additional authors to make a number of improvements to the print-output infrastructure and to add additional chapters to the text.  This work culminated in the publication of the second printed edition in November 2001 (ISBN 1-57176-303-1).  In 2003-2004, http://www.freebsdmall.com[FreeBSD Mall, Inc], paid several contributors to improve the Handbook in preparation for the third printed edition.  The third printed edition has been split into two volumes.  Both volumes have been published as The FreeBSD Handbook 3rd Edition Volume 1: User Guide (ISBN 1-57176-327-9) and The FreeBSD Handbook 3rd Edition Volume 2: Administrators Guide (ISBN 1-57176-328-7).Úµå‡ å®¶å…¬å¸é€šè¿‡æ”¯ä»˜ä½œè€…å…¨èŒå·¥ä½œã€å‡ºç‰ˆè´¹ç”¨ç­‰æ–¹å¼æ”¯æŒäº†æœ¬æ–‡æ¡£çš„å¼€å‘ã€‚ç‰¹åˆ«æ˜¯ BSDiï¼ˆåæ¥è¢« Wind River Systems æ”¶è´­ï¼‰æ”¯ä»˜äº† FreeBSD æ–‡æ¡£é¡¹ç›®çš„æˆå‘˜å…¨èŒå·¥ä½œï¼Œä»¥æ”¹è¿›è¿™æœ¬ä¹¦ï¼Œç›´åˆ° 2000 å¹´ 3 æœˆç¬¬ä¸€ç‰ˆå°åˆ·ç‰ˆçš„å‡ºç‰ˆï¼ˆISBN 1-57176-241-8ï¼‰ã€‚éšåï¼Œ http://www.windriver.com[Wind River Systems] æ”¯ä»˜äº†å‡ ä½é¢å¤–çš„ä½œè€…ï¼Œæ”¹è¿›äº†å°åˆ·è¾“å‡ºåŸºç¡€è®¾æ–½ï¼Œå¹¶ä¸ºæ–‡æœ¬æ·»åŠ äº†é¢å¤–çš„ç« èŠ‚ã€‚è¿™é¡¹å·¥ä½œæœ€ç»ˆåœ¨ 2001 å¹´ 11 æœˆå‡ºç‰ˆäº†ç¬¬äºŒç‰ˆå°åˆ·ç‰ˆï¼ˆISBN 1-57176-303-1ï¼‰ã€‚åœ¨ 2003 å¹´è‡³ 2004 å¹´æœŸé—´ï¼Œ http://www.freebsdmall.com[FreeBSD Mall,Inc] æ”¯ä»˜äº†å‡ ä½è´¡çŒ®è€…ï¼Œæ”¹è¿›äº†æ‰‹å†Œï¼Œä¸ºç¬¬ä¸‰ç‰ˆå°åˆ·ç‰ˆåšå‡†å¤‡ã€‚ç¬¬ä¸‰ç‰ˆå°åˆ·ç‰ˆè¢«åˆ†ä¸ºä¸¤å·ã€‚ä¸¤å·éƒ½å·²å‡ºç‰ˆï¼Œåˆ†åˆ«æ˜¯ The FreeBSD Handbook 3rd Edition Volume 1: User Guideï¼ˆISBN 1-57176-327-9ï¼‰å’ŒThe FreeBSD Handbook 3rd Edition Volume 2: Administrators Guideï¼ˆISBN 1-57176-328-7ï¼‰ã€‚ÙÃFreeBSD provides two complementary technologies for installing third-party software: the FreeBSD Ports Collection, for installing from source, and packages, for installing from pre-built binariesÙ¶FreeBSD æä¾›äº†ä¸¤ç§äº’è¡¥çš„æŠ€æœ¯æ¥å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼šFreeBSD Ports Collection ç”¨äºä»æºä»£ç å®‰è£…ï¼Œè€ŒåŒ…ï¼ˆpackagesï¼‰ç”¨äºä»é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…ã€‚Ù6Chapter 4. Installing Applications: Packages and PortsÙ1ç¬¬å››ç«  å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ PortsÙ+Installing Applications: Packages and PortsÙ'å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ PortsÚ}FreeBSD is bundled with a rich collection of system tools as part of the base system.  In addition, FreeBSD provides two complementary technologies for installing third-party software: the FreeBSD Ports Collection, for installing from source, and packages, for installing from pre-built binaries.  Either method may be used to install software from local media or from the network.ÚCFreeBSD æ†ç»‘äº†ä¸°å¯Œçš„ç³»ç»Ÿå·¥å…·ä½œä¸ºåŸºæœ¬ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚æ­¤å¤–ï¼ŒFreeBSD è¿˜æä¾›äº†ä¸¤ç§äº’è¡¥çš„æŠ€æœ¯æ¥å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼šFreeBSD Ports Collection ç”¨äºä»æºä»£ç å®‰è£…ï¼Œè€Œè½¯ä»¶åŒ…åˆ™ç”¨äºä»é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…ã€‚å¯ä»¥ä½¿ç”¨ä»»ä¸€æ–¹æ³•ä»æœ¬åœ°åª’ä½“æˆ–ç½‘ç»œå®‰è£…è½¯ä»¶ã€‚Ù1The difference between binary packages and ports.Ù(äºŒè¿›åˆ¶åŒ…å’Œ ports ä¹‹é—´çš„åŒºåˆ«ã€‚ÙAHow to find third-party software that has been ported to FreeBSD.Ù9å¦‚ä½•æ‰¾åˆ°å·²ç»ç§»æ¤åˆ° FreeBSD çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚Ù(How to manage binary packages using pkg.Ù,å¦‚ä½•ä½¿ç”¨ pkg ç®¡ç†äºŒè¿›åˆ¶è½¯ä»¶åŒ…ã€‚ÙIHow to build third-party software from source using the Ports Collection.ÙBå¦‚ä½•ä½¿ç”¨ Ports Collection ä»æºä»£ç æ„å»ºç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚ÙYHow to find the files installed with the application for post-installation configuration.ÙEå¦‚ä½•æ‰¾åˆ°åº”ç”¨ç¨‹åºå®‰è£…åçš„æ–‡ä»¶ï¼Œä»¥è¿›è¡Œåç»­é…ç½®ã€‚Ù,What to do if a software installation fails.Ù-å¦‚æœè½¯ä»¶å®‰è£…å¤±è´¥ï¼Œåº”è¯¥æ€ä¹ˆåŠã€‚Ù!Overview of Software Installation²è½¯ä»¶å®‰è£…æ¦‚è¿°ÚA FreeBSD _port_ is a collection of files designed to automate the process of compiling an application from source code.  The files that comprise a port contain all the necessary information to automatically download, extract, patch, compile, and install the application.ÙÛFreeBSD çš„ `ports` æ˜¯ä¸€ç»„æ–‡ä»¶ï¼Œæ—¨åœ¨è‡ªåŠ¨åŒ–ä»æºä»£ç ç¼–è¯‘åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚ç»„æˆ ports çš„æ–‡ä»¶åŒ…å«äº†è‡ªåŠ¨ä¸‹è½½ã€æå–ã€æ‰“è¡¥ä¸ã€ç¼–è¯‘å’Œå®‰è£…åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å¿…è¦ä¿¡æ¯ã€‚Ù“If the software has not already been adapted and tested on FreeBSD, the source code might need editing in order for it to install and run properly.Ù{å¦‚æœè½¯ä»¶å°šæœªåœ¨ FreeBSD ä¸Šè¿›è¡Œé€‚é…å’Œæµ‹è¯•ï¼Œæºä»£ç å¯èƒ½éœ€è¦è¿›è¡Œç¼–è¾‘ï¼Œä»¥ä¾¿æ­£ç¡®å®‰è£…å’Œè¿è¡Œã€‚ÙÚHowever, over link:https://www.FreeBSD.org/ports/[{numports}] third-party applications have already been ported to FreeBSD.  When feasible, these applications are made available for download as pre-compiled _packages_.ÙØç„¶è€Œï¼Œåœ¨ link:https://www.FreeBSD.org/ports/[{numports}] ä¸Šå·²ç»æœ‰è®¸å¤šç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºè¢«ç§»æ¤åˆ°äº† FreeBSDã€‚åœ¨å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œè¿™äº›åº”ç”¨ç¨‹åºä¼šä»¥é¢„ç¼–è¯‘çš„è½¯ä»¶åŒ…å½¢å¼æä¾›ä¸‹è½½ã€‚ÙIPackages can be manipulated with the FreeBSD package management commands.Ù?å¯ä»¥ä½¿ç”¨ FreeBSD è½¯ä»¶åŒ…ç®¡ç†å‘½ä»¤æ¥æ“ä½œè½¯ä»¶åŒ…ã€‚ÙÍBoth packages and ports understand dependencies.  If a package or port is used to install an application and a dependent library is not already installed, the library will automatically be installed first.ÙªåŒ…å’Œ ports éƒ½èƒ½ç†è§£ä¾èµ–å…³ç³»ã€‚å¦‚æœä½¿ç”¨åŒ…æˆ– ports æ¥å®‰è£…ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ‰€ä¾èµ–çš„åº“å°šæœªå®‰è£…ï¼Œé‚£ä¹ˆè¯¥åº“å°†ä¼šè‡ªåŠ¨è¢«å…ˆå®‰è£…ã€‚ÙßA FreeBSD package contains pre-compiled copies of all the commands for an application, as well as any configuration files and documentation.  A package can be manipulated with the man:pkg[8] commands, such as `pkg install`.Ù¶ä¸€ä¸ª FreeBSD è½¯ä»¶åŒ…åŒ…å«äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„é¢„ç¼–è¯‘å‰¯æœ¬ï¼Œä»¥åŠä»»ä½•é…ç½®æ–‡ä»¶å’Œæ–‡æ¡£ã€‚å¯ä»¥ä½¿ç”¨ man:pkg[8] å‘½ä»¤æ¥æ“ä½œè½¯ä»¶åŒ…ï¼Œä¾‹å¦‚ `pkg install`ã€‚Ù¶While the two technologies are similar, packages and ports each have their own strengths.  Select the technology that meets your requirements for installing a particular application.Ù‚è™½ç„¶è¿™ä¸¤ç§æŠ€æœ¯ç›¸ä¼¼ï¼Œä½†è½¯ä»¶åŒ…å’Œ ports å„æœ‰å„çš„ä¼˜åŠ¿ã€‚é€‰æ‹©ç¬¦åˆæ‚¨å®‰è£…ç‰¹å®šåº”ç”¨ç¨‹åºéœ€æ±‚çš„æŠ€æœ¯ã€‚°Package Benefits¬åŒ…çš„å¥½å¤„Ù}A compressed package tarball is typically smaller than the compressed tarball containing the source code for the application.Ù]é€šå¸¸ï¼Œå‹ç¼©çš„è½¯ä»¶åŒ… tarball æ¯”åŒ…å«åº”ç”¨ç¨‹åºæºä»£ç çš„å‹ç¼© tarball è¦å°ã€‚ÙPackages do not require compilation time. For large applications, such as Firefox, KDE Plasma, or GNOME, this can be important on a slow system.Ù‰åŒ…ä¸éœ€è¦ç¼–è¯‘æ—¶é—´ã€‚å¯¹äºå¤§å‹åº”ç”¨ç¨‹åºï¼Œå¦‚ Firefox ã€KDE Plasma æˆ– GNOMEï¼Œåœ¨æ…¢é€Ÿç³»ç»Ÿä¸Šè¿™ä¸€ç‚¹å¯èƒ½å¾ˆé‡è¦ã€‚ÙcPackages do not require any understanding of the process involved in compiling software on FreeBSD.ÙEåœ¨ FreeBSD ä¸Šç¼–è¯‘è½¯ä»¶çš„è¿‡ç¨‹ä¸­ï¼ŒåŒ…ä¸éœ€è¦ä»»ä½•ç†è§£ã€‚­Port Benefits®Port çš„å¥½å¤„Ù·Packages are normally compiled with conservative options because they have to run on the maximum number of systems. By compiling from the port, one can change the compilation options.Ù²é€šå¸¸æƒ…å†µä¸‹ï¼Œè½¯ä»¶åŒ…ä¼šä½¿ç”¨ä¿å®ˆçš„é€‰é¡¹è¿›è¡Œç¼–è¯‘ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦åœ¨å°½å¯èƒ½å¤šçš„ç³»ç»Ÿä¸Šè¿è¡Œã€‚é€šè¿‡ä» ports è¿›è¡Œç¼–è¯‘ï¼Œå¯ä»¥æ›´æ”¹ç¼–è¯‘é€‰é¡¹ã€‚Ù°Some applications have compile-time options relating to which features are installed. For example, NGINX(R) can be configured with a wide variety of different built-in options.Ùä¸€äº›åº”ç”¨ç¨‹åºå…·æœ‰ä¸å®‰è£…çš„åŠŸèƒ½ç›¸å…³çš„ç¼–è¯‘æ—¶é€‰é¡¹ã€‚ä¾‹å¦‚ï¼ŒNGINX(R) å¯ä»¥é…ç½®å¤šç§ä¸åŒçš„å†…ç½®é€‰é¡¹ã€‚ÚeIn some cases, multiple packages will exist for the same application to specify certain settings. For example, NGINX(R) is available as a `nginx` package and a `nginx-lite` package, depending on whether or not Xorg is installed. Creating multiple packages rapidly becomes impossible if an application has more than one or two different compile-time options.ÚKåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†æŒ‡å®šç‰¹å®šçš„è®¾ç½®ï¼ŒåŒä¸€ä¸ªåº”ç”¨ç¨‹åºå¯èƒ½ä¼šå­˜åœ¨å¤šä¸ªè½¯ä»¶åŒ…ã€‚ä¾‹å¦‚ï¼ŒNGINX(R) æœ‰ä¸€ä¸ª `nginx` è½¯ä»¶åŒ…å’Œä¸€ä¸ª `nginx-lite` è½¯ä»¶åŒ…ï¼Œå–å†³äºæ˜¯å¦å®‰è£…äº† Xorgã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºæœ‰è¶…è¿‡ä¸€ä¸¤ä¸ªä¸åŒçš„ç¼–è¯‘é€‰é¡¹ï¼Œåˆ›å»ºå¤šä¸ªè½¯ä»¶åŒ…å°†å¾ˆå¿«å˜å¾—ä¸å¯èƒ½ã€‚ÙThe licensing conditions of some software forbid binary distribution. Such software must be distributed as source code which must be compiled by the end-user.Ù„ä¸€äº›è½¯ä»¶çš„è®¸å¯æ¡ä»¶ç¦æ­¢äºŒè¿›åˆ¶åˆ†å‘ã€‚è¿™ç±»è½¯ä»¶å¿…é¡»ä»¥æºä»£ç çš„å½¢å¼åˆ†å‘ï¼Œå¹¶ç”±æœ€ç»ˆç”¨æˆ·è¿›è¡Œç¼–è¯‘ã€‚Ù|Some people do not trust binary distributions or prefer to read through source code in order to look for potential problems.Ù]æœ‰äº›äººä¸ä¿¡ä»»äºŒè¿›åˆ¶å‘è¡Œç‰ˆï¼Œæˆ–è€…æ›´å–œæ¬¢é˜…è¯»æºä»£ç ä»¥å¯»æ‰¾æ½œåœ¨é—®é¢˜ã€‚Ù7Source code is needed in order to apply custom patches.Ù6ä¸ºäº†åº”ç”¨è‡ªå®šä¹‰è¡¥ä¸ï¼Œéœ€è¦æä¾›æºä»£ç ã€‚Ù^To keep track of updated ports, subscribe to the {freebsd-ports} and the {freebsd-ports-bugs}.ÙRè¦è·Ÿè¸ªæ›´æ–°çš„ ports ï¼Œè¯·è®¢é˜… {freebsd-ports} å’Œ {freebsd-ports-bugs} ã€‚ÙaBefore installing an application, check https://vuxml.freebsd.org/[] for related security issues.Ùiåœ¨å®‰è£…åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè¯·æ£€æŸ¥ https://vuxml.freebsd.org/[] æ˜¯å¦å­˜åœ¨ç›¸å…³çš„å®‰å…¨é—®é¢˜ã€‚ÙNTo audit installed packages against known vulnerabilities, run `pkg audit -F`.ÙTè¦å¯¹å·²å®‰è£…çš„è½¯ä»¶åŒ…è¿›è¡Œå·²çŸ¥æ¼æ´çš„å®¡è®¡ï¼Œè¯·è¿è¡Œ `pkg audit -F`ã€‚Ù{The remainder of this chapter explains how to use packages and ports to install and manage third-party software on FreeBSD.Ùmæœ¬ç« çš„å…¶ä½™éƒ¨åˆ†å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨è½¯ä»¶åŒ…å’Œ ports åœ¨ FreeBSD ä¸Šå®‰è£…å’Œç®¡ç†ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚°Finding Software¬å¯»æ‰¾è½¯ä»¶ÙzFreeBSD's list of available applications is growing all the time.  There are a number of ways to find software to install:ÙbFreeBSD çš„å¯ç”¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸æ–­å¢é•¿ã€‚æœ‰å¤šç§æ–¹æ³•å¯ä»¥æ‰¾åˆ°è¦å®‰è£…çš„è½¯ä»¶ï¼šÙÜThe FreeBSD web site maintains an up-to-date searchable list of all the available applications, at link:https://www.FreeBSD.org/ports/[Ports Portal]. The ports can be searched by application name or by software category.ÙÁFreeBSD ç½‘ç«™ç»´æŠ¤ç€ä¸€ä¸ªæœ€æ–°çš„å¯æœç´¢çš„åº”ç”¨ç¨‹åºåˆ—è¡¨ï¼Œä½äº link:https://www.FreeBSD.org/ports/[Ports Portal]ã€‚å¯ä»¥é€šè¿‡åº”ç”¨ç¨‹åºåç§°æˆ–è½¯ä»¶ç±»åˆ«æ¥æœç´¢ portsã€‚Ú2Dan Langille maintains https://www.freshports.org/[FreshPorts] which provides a comprehensive search utility and also tracks changes to the applications in the Ports Collection. Registered users can create a customized watch list in order to receive an automated email when their watched ports are updated.ÚDan Langille ç»´æŠ¤ç€ https://www.freshports.org/[FreshPorts]ï¼Œè¯¥ç½‘ç«™æä¾›äº†ä¸€ä¸ªå…¨é¢çš„æœç´¢å·¥å…·ï¼Œå¹¶è·Ÿè¸ª Ports Collection ä¸­åº”ç”¨ç¨‹åºçš„å˜åŒ–ã€‚æ³¨å†Œç”¨æˆ·å¯ä»¥åˆ›å»ºä¸€ä¸ªå®šåˆ¶çš„ç›‘è§†åˆ—è¡¨ï¼Œä»¥ä¾¿åœ¨æ‰€ç›‘è§†çš„ ports æ›´æ–°æ—¶æ”¶åˆ°è‡ªåŠ¨é‚®ä»¶é€šçŸ¥ã€‚ÚIf finding a particular application becomes challenging, try searching a site like https://sourceforge.net/[SourceForge] or https://github.com/[GitHub] then check back at the link:https://www.FreeBSD.org/ports/[Ports Portal] to see if the application has been ported.Úå¦‚æœæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„åº”ç”¨ç¨‹åºå˜å¾—å›°éš¾ï¼Œå¯ä»¥å°è¯•åœ¨ https://sourceforge.net/[SourceForge] æˆ–è€… https://github.com/[GitHub] è¿™æ ·çš„ç½‘ç«™ä¸Šè¿›è¡Œæœç´¢ï¼Œç„¶åå†å›åˆ° link:https://www.FreeBSD.org/ports/[Ports Portal] æŸ¥çœ‹è¯¥åº”ç”¨ç¨‹åºæ˜¯å¦å·²ç»è¢«ç§»æ¤ã€‚ÙTSearch the binary package repository for an application using the man:pkg[8] commandÙNä½¿ç”¨ man:pkg[8] å‘½ä»¤åœ¨äºŒè¿›åˆ¶è½¯ä»¶åŒ…ä»“åº“ä¸­æœç´¢ä¸€ä¸ªåº”ç”¨ç¨‹åºÙ'Using pkg for Binary Package ManagementÙ#ä½¿ç”¨ pkg è¿›è¡ŒäºŒè¿›åˆ¶åŒ…ç®¡ç†Ùqman:pkg[8] provides an interface for manipulating	packages: registering, adding, removing and upgrading packages.Ùhman:pkg[8] æä¾›äº†ä¸€ä¸ªç”¨äºæ“ä½œè½¯ä»¶åŒ…çš„æ¥å£ï¼šæ³¨å†Œã€æ·»åŠ ã€åˆ é™¤å’Œå‡çº§è½¯ä»¶åŒ…ã€‚Ù…For sites wishing to only use prebuilt binary packages from the FreeBSD mirrors, managing packages with man:pkg[8] can be sufficient.Ùå¯¹äºåªå¸Œæœ›ä½¿ç”¨ FreeBSD é•œåƒç«™ç‚¹æä¾›çš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶åŒ…çš„ç½‘ç«™ï¼Œä½¿ç”¨ man:pkg[8] æ¥ç®¡ç†è½¯ä»¶åŒ…å¯èƒ½å·²ç»è¶³å¤Ÿäº†ã€‚ÙxHowever, for those sites building from source a separate <<ports-upgrading-tools, port management tool>> will be needed.Ùgç„¶è€Œï¼Œå¯¹äºé‚£äº›ä»æºä»£ç æ„å»ºç½‘ç«™çš„ç”¨æˆ·ï¼Œå°†éœ€è¦ä½¿ç”¨å•ç‹¬çš„ ports ç®¡ç†å·¥å…·ã€‚ÙêSince man:pkg[8] only works with binary packages, it is not a replacement for such tools.  Those tools can be used to install software from both binary packages and the Ports Collection, while man:pkg[8] installs only binary packages.ÙÛç”±äº man:pkg[8] åªèƒ½ç”¨äºäºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼Œå®ƒå¹¶ä¸èƒ½æ›¿ä»£è¿™äº›å·¥å…·ã€‚è¿™äº›å·¥å…·å¯ä»¥ç”¨äºå®‰è£…æ¥è‡ªäºŒè¿›åˆ¶è½¯ä»¶åŒ…å’Œ Ports Collection çš„è½¯ä»¶ï¼Œè€Œ man:pkg[8] åªèƒ½å®‰è£…äºŒè¿›åˆ¶è½¯ä»¶åŒ…ã€‚¸Getting Started with pkg°å¼€å§‹ä½¿ç”¨ pkgÙ½All supported versions of FreeBSD now contain `/usr/sbin/pkg` a.k.a man:pkg[7].  This is a small placeholder that has just the minimum functionality required to install the real man:pkg[8].Ùµæ‰€æœ‰æ”¯æŒçš„ FreeBSD ç‰ˆæœ¬ç°åœ¨éƒ½åŒ…å« `/usr/sbin/pkg`ï¼Œä¹Ÿè¢«ç§°ä¸º man:pkg[7] ã€‚è¿™æ˜¯ä¸€ä¸ªå°çš„å ä½ç¬¦ï¼ŒåªåŒ…å«å®‰è£…çœŸæ­£çš„ man:pkg[8] æ‰€éœ€çš„æœ€å°åŠŸèƒ½ã€‚ÙPAn Internet working connection is required for the bootstrap process to succeed.Ù?åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸€ä¸ªäº’è”ç½‘è¿æ¥æ‰èƒ½æˆåŠŸã€‚¼Run man:pkg[8] command line:¾è¿è¡Œ man:pkg[8] å‘½ä»¤è¡Œï¼šÙñman:pkg[7] will intercept the command, and if you confirm that is your intention, download the man:pkg[8] tarball, install man:pkg[8] from it, bootstrap the local package database and then proceed to run the command you originally requested.ÙÏman:pkg[7] å°†æ‹¦æˆªè¯¥å‘½ä»¤ï¼Œå¦‚æœæ‚¨ç¡®è®¤è¿™æ˜¯æ‚¨çš„æ„å›¾ï¼Œå°†ä¸‹è½½ man:pkg[8] tarball ï¼Œå¹¶ä»ä¸­å®‰è£… man:pkg[8]ï¼Œå¼•å¯¼æœ¬åœ°è½¯ä»¶åŒ…æ•°æ®åº“ï¼Œç„¶åç»§ç»­è¿è¡Œæ‚¨æœ€åˆè¯·æ±‚çš„å‘½ä»¤ã€‚ÚMore recent versions of man:pkg[7] understand `pkg -N` as a test to see if man:pkg[8] is installed without triggering the installation, and conversely, pkg bootstrap[-f] to install man:pkg[8] (or force it to be reinstalled) without performing any other actions.Ùûè¾ƒæ–°ç‰ˆæœ¬çš„ man:pkg[7] å¯ä»¥ç†è§£ `pkg -N` ä½œä¸ºä¸€ç§æµ‹è¯•ï¼Œç”¨äºæ£€æŸ¥æ˜¯å¦å®‰è£…äº† man:pkg[8]ï¼Œè€Œä¸è§¦å‘å®‰è£…æ“ä½œã€‚ç›¸åï¼Œpkg bootstrap[-f] ç”¨äºå®‰è£… man:pkg[8]ï¼ˆæˆ–å¼ºåˆ¶é‡æ–°å®‰è£…ï¼‰ï¼Œè€Œä¸æ‰§è¡Œä»»ä½•å…¶ä»–æ“ä½œã€‚Ù¾Usage information for pkg is available in the man:pkg[8] manual page or by running `pkg` without additional arguments.  Additional pkg configuration options are described in man:pkg.conf[5].ÙÄå¯ä»¥é€šè¿‡æŸ¥çœ‹ man:pkg[8] æ‰‹å†Œé¡µé¢æˆ–è€…åœ¨è¿è¡Œ `pkg` å‘½ä»¤æ—¶ä¸æ·»åŠ é¢å¤–å‚æ•°æ¥è·å– pkg çš„ä½¿ç”¨ä¿¡æ¯ã€‚æœ‰å…³å…¶ä»– pkg é…ç½®é€‰é¡¹çš„æè¿°ï¼Œè¯·å‚é˜… man:pkg.conf[5] ã€‚ÙJEach pkg command argument is documented in a command-specific manual page.ÙJæ¯ä¸ª pkg å‘½ä»¤å‚æ•°éƒ½åœ¨ç‰¹å®šå‘½ä»¤çš„æ‰‹å†Œé¡µä¸­æœ‰è¯¦ç»†è¯´æ˜ã€‚ÙITo read the manual page for `pkg install`, for example, run this command:ÙHä¾‹å¦‚ï¼Œè¦é˜…è¯» `pkg install` çš„æ‰‹å†Œé¡µï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÚThe rest of this section demonstrates common binary package management tasks which can be performed using man:pkg[8].  Each demonstrated command provides many switches to customize its use.  Refer to a command's help or man page for details and more examples.Ùòæœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†æ¼”ç¤ºäº†ä½¿ç”¨ man:pkg[8] æ‰§è¡Œçš„å¸¸è§äºŒè¿›åˆ¶åŒ…ç®¡ç†ä»»åŠ¡ã€‚æ¯ä¸ªæ¼”ç¤ºçš„å‘½ä»¤éƒ½æä¾›äº†è®¸å¤šå¼€å…³æ¥è‡ªå®šä¹‰å…¶ä½¿ç”¨æ–¹å¼ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯å’Œæ›´å¤šç¤ºä¾‹ï¼Œè¯·å‚é˜…å‘½ä»¤çš„å¸®åŠ©æˆ– man é¡µé¢ã€‚Ù#Quarterly and Latest Ports Branches¿å­£åº¦å’Œæœ€æ–°çš„ ports åˆ†æ”¯ÚÔThe `Quarterly` branch provides users with a more predictable and stable experience for port and package installation and upgrades.  This is done essentially by only allowing non-feature updates.  Quarterly branches aim to receive security fixes (that may be version updates, or backports of commits), bug fixes and ports compliance or framework changes.  The Quarterly branch is cut from HEAD at the beginning of every (yearly) quarter in January, April, July, and October.  Branches are named according to the year (YYYY) and quarter (Q1-4) they are created in.  For example, the quarterly branch created in January 2023, is named 2023Q1.  And the `Latest` branch provides the latest versions of the packages to the users.ÚO`Quarterly` åˆ†æ”¯ä¸ºç”¨æˆ·æä¾›äº†æ›´å¯é¢„æµ‹å’Œç¨³å®šçš„ ports å’Œè½¯ä»¶åŒ…å®‰è£…å’Œå‡çº§ä½“éªŒã€‚è¿™ä¸»è¦é€šè¿‡åªå…è®¸éåŠŸèƒ½æ€§æ›´æ–°æ¥å®ç°ã€‚å­£åº¦åˆ†æ”¯æ—¨åœ¨æ¥æ”¶å®‰å…¨ä¿®å¤ï¼ˆå¯èƒ½æ˜¯ç‰ˆæœ¬æ›´æ–°æˆ–æäº¤çš„å›æº¯ï¼‰ã€é”™è¯¯ä¿®å¤å’Œ ports åˆè§„æ€§æˆ–æ¡†æ¶æ›´æ”¹ã€‚å­£åº¦åˆ†æ”¯åœ¨æ¯å¹´çš„ä¸€æœˆã€å››æœˆã€ä¸ƒæœˆå’Œåæœˆçš„å­£åº¦åˆä» HEAD ä¸­åˆ‡å‡ºã€‚åˆ†æ”¯çš„å‘½åæ–¹å¼æ ¹æ®å®ƒä»¬åˆ›å»ºçš„å¹´ä»½ï¼ˆYYYYï¼‰å’Œå­£åº¦ï¼ˆQ1-4ï¼‰ã€‚ä¾‹å¦‚ï¼Œ 2023 å¹´ 1 æœˆåˆ›å»ºçš„å­£åº¦åˆ†æ”¯è¢«å‘½åä¸º 2023Q1ã€‚è€Œ `Latest` åˆ†æ”¯ä¸ºç”¨æˆ·æä¾›äº†è½¯ä»¶åŒ…çš„æœ€æ–°ç‰ˆæœ¬ã€‚ÙITo switch man:pkg[8] from Quarterly to Latest run the following commands:ÙKè¦å°† man:pkg[8] ä»å­£åº¦ç‰ˆåˆ‡æ¢åˆ°æœ€æ–°ç‰ˆï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ`Then run this command to update the local package repositories catalogues for the Latest branch:Ù`ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–°æœ¬åœ°è½¯ä»¶åŒ…ä»“åº“ç›®å½•ï¼Œä»¥è·å–æœ€æ–°åˆ†æ”¯çš„å†…å®¹ï¼š­Configure pkgªé…ç½® pkgÙ”man:pkg.conf[5] is the system-wide configuration file used by the man:pkg[8] tools.  The default location of this file is `/usr/local/etc/pkg.conf`.Ù~man:pkg.conf[5] æ˜¯ man:pkg[8] å·¥å…·ä½¿ç”¨çš„ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶çš„é»˜è®¤ä½ç½®æ˜¯ `/usr/local/etc/pkg.conf`ã€‚Ù¥FreeBSD does not need to have a `pkg.conf` file.  Many installations will work well with no `pkg.conf` at all or with an empty `pkg.conf` (other than comment lines).Ù­FreeBSD ä¸éœ€è¦æœ‰ `pkg.conf` æ–‡ä»¶ã€‚è®¸å¤šå®‰è£…å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½• `pkg.conf` æ–‡ä»¶æˆ–åªæœ‰ç©ºçš„ `pkg.conf` æ–‡ä»¶ï¼ˆé™¤äº†æ³¨é‡Šè¡Œï¼‰çš„æƒ…å†µä¸‹æ­£å¸¸å·¥ä½œã€‚ÙDLines in the file beginning with a "#" are	comments and are ignored.Ù-ä»¥"#"å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Šï¼Œä¼šè¢«å¿½ç•¥ã€‚Ù The file is in UCL format.  For more information on the syntax of man:libucl[3], please visit the link:https://github.com/vstakhov/libucl[official UCL website].Ù•è¯¥æ–‡ä»¶é‡‡ç”¨ UCL æ ¼å¼ã€‚æœ‰å…³ man:libucl[3] è¯­æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—® link:https://github.com/vstakhov/libucl[official UCL website] ã€‚ÙQThe following types of options are recognized - boolean, string and list options.ÙKè¯†åˆ«ä»¥ä¸‹ç±»å‹çš„é€‰é¡¹ - å¸ƒå°”å‹ã€å­—ç¬¦ä¸²å‹å’Œåˆ—è¡¨å‹é€‰é¡¹ã€‚ÙA boolean option is marked as enabled if one of the following values is specified in the configuration file - YES, TRUE and ON.Ùoå¦‚æœåœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº†ä»¥ä¸‹å€¼ä¹‹ä¸€ - YES ã€TRUE å’Œ ONï¼Œåˆ™å°†å¸ƒå°”é€‰é¡¹æ ‡è®°ä¸ºå·²å¯ç”¨ã€‚²Searching Packages¯æœç´¢è½¯ä»¶åŒ…Ù2To search a package man:pkg-search[8] can be used:ÙCè¦æœç´¢ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ man:pkg-search[8] å‘½ä»¤ï¼šÙ Installing and Fetching Packages¸å®‰è£…å’Œè·å–è½¯ä»¶åŒ…ÙßTo install a binary package man:pkg-install[8] can be used.  This command uses repository data to determine which version of the software to install and if it has any uninstalled dependencies.  For example, to install curl:ÙÑè¦å®‰è£…ä¸€ä¸ªäºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ man:pkg-install[8] å‘½ä»¤ã€‚è¯¥å‘½ä»¤ä½¿ç”¨å­˜å‚¨åº“æ•°æ®æ¥ç¡®å®šè¦å®‰è£…çš„è½¯ä»¶çš„ç‰ˆæœ¬ä»¥åŠæ˜¯å¦æœ‰æœªå®‰è£…çš„ä¾èµ–é¡¹ã€‚ä¾‹å¦‚ï¼Œè¦å®‰è£… curl ï¼šÙ{The new package and any additional packages that were installed as dependencies can be seen in the installed packages list:Ùræ–°çš„è½¯ä»¶åŒ…ä»¥åŠä½œä¸ºä¾èµ–é¡¹å®‰è£…çš„ä»»ä½•å…¶ä»–è½¯ä»¶åŒ…éƒ½å¯ä»¥åœ¨å·²å®‰è£…è½¯ä»¶åŒ…åˆ—è¡¨ä¸­çœ‹åˆ°ï¼šÙyTo fetch a package and install it later or in another place use man:pkg-fetch[8].  For example, to download `nginx-lite`:Ù‡è¦è·å–ä¸€ä¸ªè½¯ä»¶åŒ…å¹¶ç¨åå®‰è£…å®ƒæˆ–åœ¨å¦ä¸€ä¸ªåœ°æ–¹å®‰è£…ï¼Œè¯·ä½¿ç”¨ man:pkg-fetch[8]ã€‚ä¾‹å¦‚ï¼Œè¦ä¸‹è½½ `nginx-lite`ï¼šÙ(`-d`: used to fetch all the dependenciesÙ%`-d`ï¼šç”¨äºè·å–æ‰€æœ‰çš„ä¾èµ–é¡¹Ù,`-o`: used to specify the download directory¿`-o`ï¼šç”¨äºæŒ‡å®šä¸‹è½½ç›®å½•ÙMTo install the downloaded packages man:pkg-install[8] can be used as follows:Ù\è¦å®‰è£…ä¸‹è½½çš„è½¯ä»¶åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ man:pkg-install[8] å‘½ä»¤ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼šÙ.Obtaining Information About Installed PackagesÙ!è·å–å·²å®‰è£…è½¯ä»¶åŒ…çš„ä¿¡æ¯ÙİInformation about the packages installed on a system can be viewed by running man:pkg-info[8] which, when run without any switches, will list the package version for either all installed packages or the specified package.Ù¼å¯ä»¥é€šè¿‡è¿è¡Œ man:pkg-info[8] æ¥æŸ¥çœ‹ç³»ç»Ÿä¸Šå®‰è£…çš„è½¯ä»¶åŒ…çš„ä¿¡æ¯ã€‚å½“ä¸å¸¦ä»»ä½•å¼€å…³è¿è¡Œæ—¶ï¼Œå®ƒå°†åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…è½¯ä»¶åŒ…æˆ–æŒ‡å®šè½¯ä»¶åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚Ù;For example, to see which version of pkg is installed, run:Ù8ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹å·²å®‰è£…çš„ pkg ç‰ˆæœ¬ï¼Œè¯·è¿è¡Œï¼š¼Upgrading Installed Packages»å‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…ÙUInstalled packages can be upgraded to their latest versions using man:pkg-upgrade[8]:ÙSå·²å®‰è£…çš„è½¯ä»¶åŒ…å¯ä»¥ä½¿ç”¨ man:pkg-upgrade[8] å‘½ä»¤å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚Ù‡This command will compare the installed versions with those available in the repository catalogue and upgrade them from the repository.Ùlè¯¥å‘½ä»¤å°†æ¯”è¾ƒå·²å®‰è£…çš„ç‰ˆæœ¬ä¸å­˜å‚¨åº“ç›®å½•ä¸­å¯ç”¨çš„ç‰ˆæœ¬ï¼Œå¹¶ä»å­˜å‚¨åº“ä¸­å‡çº§å®ƒä»¬ã€‚»Auditing Installed Packages»å®¡æ ¸å·²å®‰è£…çš„è½¯ä»¶åŒ…ÚSoftware vulnerabilities are regularly discovered in third-party applications.  To address this, pkg includes a built-in auditing mechanism.  To determine if there are any known vulnerabilities for the software installed on the system, use man:pkg-audit[8]:ÙÜç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºç»å¸¸ä¼šå‘ç°è½¯ä»¶æ¼æ´ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œpkg åŒ…å«äº†ä¸€ä¸ªå†…ç½®çš„å®¡è®¡æœºåˆ¶ã€‚è¦ç¡®å®šç³»ç»Ÿä¸Šå®‰è£…çš„è½¯ä»¶æ˜¯å¦å­˜åœ¨å·²çŸ¥çš„æ¼æ´ï¼Œè¯·ä½¿ç”¨ man:pkg-audit[8] å‘½ä»¤ã€‚±Removing Packages¯ç§»é™¤è½¯ä»¶åŒ…ÙIPackages that are no longer needed can be removed with man:pkg-delete[8].ÙLä¸å†éœ€è¦çš„è½¯ä»¶åŒ…å¯ä»¥ä½¿ç”¨ man:pkg-delete[8] å‘½ä»¤è¿›è¡Œåˆ é™¤ã€‚¬For example:©ä¾‹å¦‚ï¼šÙ&Automatically Removing Unused PackagesÙ!è‡ªåŠ¨åˆ é™¤æœªä½¿ç”¨çš„è½¯ä»¶åŒ…ÙÜRemoving a package may leave behind dependencies which are no longer required.  Unneeded packages that were installed as dependencies (leaf packages) can be automatically detected and removed using man:pkg-autoremove[8]:Ù¼åˆ é™¤ä¸€ä¸ªè½¯ä»¶åŒ…å¯èƒ½ä¼šç•™ä¸‹ä¸å†éœ€è¦çš„ä¾èµ–é¡¹ã€‚å¯ä»¥ä½¿ç”¨ man:pkg-autoremove[8] è‡ªåŠ¨æ£€æµ‹å’Œåˆ é™¤ä½œä¸ºä¾èµ–é¡¹å®‰è£…çš„ä¸éœ€è¦çš„è½¯ä»¶åŒ…ï¼ˆå¶å­è½¯ä»¶åŒ…ï¼‰ã€‚ÙÈPackages installed as dependencies are called _automatic_ packages.  Non-automatic packages, i.e the packages that were explicity installed not as a dependency to another package, can be listed using:ÙÁä½œä¸ºä¾èµ–å®‰è£…çš„è½¯ä»¶åŒ…è¢«ç§°ä¸º _è‡ªåŠ¨_ è½¯ä»¶åŒ…ã€‚éè‡ªåŠ¨è½¯ä»¶åŒ…ï¼Œå³æ˜ç¡®å®‰è£…è€Œä¸æ˜¯ä½œä¸ºå…¶ä»–è½¯ä»¶åŒ…çš„ä¾èµ–é¡¹å®‰è£…çš„è½¯ä»¶åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºï¼šÚ`pkg prime-list` is an alias command declared in `/usr/local/etc/pkg.conf`.  There are many others that can be used to query the package database of the system.  For instance, command `pkg prime-origins` can be used to get the origin port directory of the list mentioned above:Ùó`pkg prime-list` æ˜¯åœ¨ `/usr/local/etc/pkg.conf` ä¸­å£°æ˜çš„ä¸€ä¸ªåˆ«åå‘½ä»¤ã€‚ç³»ç»Ÿä¸­è¿˜æœ‰è®¸å¤šå…¶ä»–å‘½ä»¤å¯ä»¥ç”¨æ¥æŸ¥è¯¢è½¯ä»¶åŒ…æ•°æ®åº“ã€‚ä¾‹å¦‚ï¼Œå‘½ä»¤ `pkg prime-origins` å¯ä»¥ç”¨æ¥è·å–ä¸Šè¿°åˆ—è¡¨çš„æº ports ç›®å½•ã€‚Ù›This list can be used to rebuild all packages installed on a system using build tools such as package:ports-mgmt/poudriere[] or package:ports-mgmt/synth[].Ù¡è¿™ä¸ªåˆ—è¡¨å¯ä»¥ç”¨äºä½¿ç”¨æ„å»ºå·¥å…·ï¼ˆå¦‚ package:ports-mgmt/poudriere[] æˆ– package:ports-mgmt/synth[]ï¼‰é‡æ–°æ„å»ºç³»ç»Ÿä¸Šå®‰è£…çš„æ‰€æœ‰è½¯ä»¶åŒ…ã€‚Ù<Marking an installed package as automatic can be done using:ÙHå°†å·²å®‰è£…çš„è½¯ä»¶åŒ…æ ‡è®°ä¸ºè‡ªåŠ¨å®‰è£…å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼šÙbOnce a package is a leaf package and is marked as automatic, it gets selected by `pkg autoremove`.Ùrä¸€æ—¦ä¸€ä¸ªåŒ…æ˜¯ä¸€ä¸ªå¶å­åŒ…å¹¶ä¸”è¢«æ ‡è®°ä¸ºè‡ªåŠ¨å®‰è£…ï¼Œå®ƒå°†è¢« `pkg autoremove` å‘½ä»¤é€‰æ‹©åˆ é™¤ã€‚ÙBMarking an installed package as _not_ automatic can be done using:ÙOå°†å·²å®‰è£…çš„è½¯ä»¶åŒ…æ ‡è®°ä¸º _é_ è‡ªåŠ¨å®‰è£…å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š·Removing Stale Packages¸ç§»é™¤è¿‡æœŸçš„è½¯ä»¶åŒ…ÚBy default, pkg stores binary packages in a cache directory defined by `PKG_CACHEDIR` in man:pkg.conf[5].  Only copies of the latest installed packages are kept. Older versions of pkg kept all previous packages.  To remove these outdated binary packages, run:Úé»˜è®¤æƒ…å†µä¸‹ï¼Œpkg å°†äºŒè¿›åˆ¶è½¯ä»¶åŒ…å­˜å‚¨åœ¨ç”± man:pkg.conf[5] ä¸­çš„ `PKG_CACHEDIR` å®šä¹‰çš„ç¼“å­˜ç›®å½•ä¸­ã€‚åªä¿ç•™æœ€æ–°å®‰è£…çš„è½¯ä»¶åŒ…çš„å‰¯æœ¬ã€‚æ—§ç‰ˆæœ¬çš„ pkg ä¼šä¿ç•™æ‰€æœ‰å…ˆå‰çš„è½¯ä»¶åŒ…ã€‚è¦åˆ é™¤è¿™äº›è¿‡æ—¶çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼Œè¯·è¿è¡Œï¼šÙ+The entire cache may be cleared by running:Ù6å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ¸…é™¤æ•´ä¸ªç¼“å­˜ï¼š¾Locking and Unlocking Packages¸é”å®šå’Œè§£é”è½¯ä»¶åŒ…Úkman:pkg-lock[8] is used to lock packages against reinstallation, modification or deletion.  man:pkg-unlock[8] unlocks the named packages.  Either variant only has an effect on currently installed packages.  Consequently it is impossible to block installation of a new package by using this mechanism, unless such an installation implies updating a locked package.Ú'man:pkg-lock[8] ç”¨äºé”å®šåŒ…ï¼Œé˜²æ­¢é‡æ–°å®‰è£…ã€ä¿®æ”¹æˆ–åˆ é™¤ã€‚man:pkg-unlock[8] ç”¨äºè§£é”æŒ‡å®šçš„åŒ…ã€‚æ— è®ºå“ªç§å˜ä½“ï¼Œéƒ½åªå¯¹å½“å‰å·²å®‰è£…çš„åŒ…äº§ç”Ÿå½±å“ã€‚å› æ­¤ï¼Œé™¤éå®‰è£…æ–°åŒ…æ„å‘³ç€æ›´æ–°å·²é”å®šçš„åŒ…ï¼Œå¦åˆ™æ— æ³•é€šè¿‡æ­¤æœºåˆ¶é˜»æ­¢æ–°åŒ…çš„å®‰è£…ã€‚Ù"For example, to lock `nginx-lite`:Ù"ä¾‹å¦‚ï¼Œè¦é”å®š `nginx-lite`ï¼š»And to unlock `nginx-lite`:¹è¦è§£é” `nginx-lite`ï¼šºModifying Package Metadata¸ä¿®æ”¹è½¯ä»¶åŒ…å…ƒæ•°æ®ÚBSoftware within the FreeBSD Ports Collection can undergo major version number changes.  To address this, pkg has a built-in command to update package origins.  This can be useful, for example, if package:lang/python3[] is renamed to package:lang/python311[] so that package:lang/python3[] can now represent version `3.11`.ÚUFreeBSD Ports Collection ä¸­çš„è½¯ä»¶å¯èƒ½ä¼šç»å†ä¸»ç‰ˆæœ¬å·çš„æ›´æ”¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œpkg æœ‰ä¸€ä¸ªå†…ç½®å‘½ä»¤æ¥æ›´æ–°è½¯ä»¶åŒ…çš„æ¥æºã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå¦‚æœ package:lang/python3[] è¢«é‡å‘½åä¸º package:lang/python311[] ï¼Œé‚£ä¹ˆ package:lang/python3[] ç°åœ¨å¯ä»¥è¡¨ç¤ºç‰ˆæœ¬ `3.11`ã€‚Ù8To change the package origin for the above example, run:ÙBè¦æ›´æ”¹ä¸Šé¢ç¤ºä¾‹çš„è½¯ä»¶åŒ…æ¥æºï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙRAs another example, to update package:lang/ruby31[] to package:lang/ruby32[], run:Ùiå¦ä¸€ä¸ªä¾‹å­æ˜¯ï¼Œè¦å°† package:lang/ruby31[] æ›´æ–°ä¸º package:lang/ruby32[]ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ·When changing package origins, it is important to reinstall packages that are dependent on the package with the modified origin.  To force a reinstallation of dependent packages, run:Ùåœ¨æ›´æ”¹è½¯ä»¶åŒ…æ¥æºæ—¶ï¼Œé‡è¦çš„æ˜¯é‡æ–°å®‰è£…ä¾èµ–äºå·²ä¿®æ”¹æ¥æºçš„è½¯ä»¶åŒ…ã€‚è¦å¼ºåˆ¶é‡æ–°å®‰è£…ä¾èµ–è½¯ä»¶åŒ…ï¼Œè¯·è¿è¡Œï¼šºUsing the Ports Collection³ä½¿ç”¨ Ports é›†åˆÙÃThe Ports Collection is a set of `Makefiles`, patches, and description files.  Each set of these files is used to compile and install an individual application on FreeBSD, and is called a _port_.Ù¦Ports Collection æ˜¯ä¸€ç»„ `Makefiles`ã€è¡¥ä¸å’Œæè¿°æ–‡ä»¶ã€‚æ¯ç»„è¿™äº›æ–‡ä»¶ç”¨äºåœ¨ FreeBSD ä¸Šç¼–è¯‘å’Œå®‰è£…å•ä¸ªåº”ç”¨ç¨‹åºï¼Œè¢«ç§°ä¸ºä¸€ä¸ª _ports_ã€‚ÙTBy default, the Ports Collection itself is stored as a subdirectory of `/usr/ports`.ÙRé»˜è®¤æƒ…å†µä¸‹ï¼ŒPorts Collection æœ¬èº«å­˜å‚¨åœ¨ `/usr/ports` çš„å­ç›®å½•ä¸­ã€‚Ú›Before installing and using the Ports Collection, please be aware that it is generally ill-advised to use the Ports Collection in conjunction with the binary packages provided via pkg to install software.  pkg, by default, tracks quarterly branch-releases of the ports tree and not HEAD.  Dependencies could be different for a port in HEAD compared to its counterpart in a quarterly branch release and this could result in conflicts between dependencies installed by pkg and those from the Ports Collection.  If the Ports Collection and pkg must be used in conjunction, then be sure that your Ports Collection and pkg are on the same branch release of the ports tree.Ú*åœ¨å®‰è£…å’Œä½¿ç”¨ Ports Collection ä¹‹å‰ï¼Œè¯·æ³¨æ„é€šå¸¸ä¸å»ºè®®ä½¿ç”¨ Ports Collection ä¸é€šè¿‡ pkg æä¾›çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…ä¸€èµ·å®‰è£…è½¯ä»¶ã€‚ pkg é»˜è®¤è·Ÿè¸ª ports æ ‘çš„å­£åº¦åˆ†æ”¯å‘å¸ƒï¼Œè€Œä¸æ˜¯ HEAD ã€‚ä¸å­£åº¦åˆ†æ”¯å‘å¸ƒä¸­çš„å¯¹åº” ports ç›¸æ¯”ï¼Œ HEAD ä¸­çš„ ports çš„ä¾èµ–å…³ç³»å¯èƒ½ä¸åŒï¼Œè¿™å¯èƒ½å¯¼è‡´ pkg å®‰è£…çš„ä¾èµ–å…³ç³»ä¸ Ports Collection ä¸­çš„ä¾èµ–å…³ç³»å‘ç”Ÿå†²çªã€‚å¦‚æœå¿…é¡»åŒæ—¶ä½¿ç”¨ Ports Collection å’Œ pkg ï¼Œè¯·ç¡®ä¿æ‚¨çš„ Ports Collection å’Œ pkg ä½äºç›¸åŒçš„ ports æ ‘åˆ†æ”¯å‘å¸ƒä¸Šã€‚ÚPThe Ports Collection contains directories for software categories.  Inside each category are subdirectories for individual applications.  Each application subdirectory contains a set of files that tells FreeBSD how to compile and install that program, called a _ports skeleton_.  Each port skeleton includes these files and directories:ÚPorts é›†åˆåŒ…å«äº†è½¯ä»¶ç±»åˆ«çš„ç›®å½•ã€‚æ¯ä¸ªç±»åˆ«ä¸­éƒ½æœ‰é’ˆå¯¹ä¸ªåˆ«åº”ç”¨ç¨‹åºçš„å­ç›®å½•ã€‚æ¯ä¸ªåº”ç”¨ç¨‹åºå­ç›®å½•åŒ…å«ä¸€ç»„æ–‡ä»¶ï¼Œå‘Šè¯‰ FreeBSD å¦‚ä½•ç¼–è¯‘å’Œå®‰è£…è¯¥ç¨‹åºï¼Œç§°ä¸º _ports skeleton_ã€‚æ¯ä¸ª ports éª¨æ¶åŒ…æ‹¬ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼šÙ‚*Makefile*: contains statements that specify how the application should be compiled and where its components should be installed.
Ù_*Makefile*ï¼šåŒ…å«æŒ‡å®šåº”ç”¨ç¨‹åºå¦‚ä½•ç¼–è¯‘ä»¥åŠå…¶ç»„ä»¶åº”å®‰è£…åœ¨ä½•å¤„çš„è¯­å¥ã€‚
Ùe*distinfo*: contains the names and checksums of the files that must be downloaded to build the port.
ÙN*distinfo*ï¼šåŒ…å«æ„å»º ports æ‰€éœ€ä¸‹è½½çš„æ–‡ä»¶çš„åç§°å’Œæ ¡éªŒå’Œã€‚
Ù¬*files/*: this directory contains any patches needed for the program to compile and install on FreeBSD. This directory may also contain other files used to build the port.
Ù*files/*ï¼šè¿™ä¸ªç›®å½•åŒ…å«äº†åœ¨ FreeBSD ä¸Šç¼–è¯‘å’Œå®‰è£…ç¨‹åºæ‰€éœ€çš„è¡¥ä¸æ–‡ä»¶ã€‚è¿™ä¸ªç›®å½•ä¹Ÿå¯èƒ½åŒ…å«å…¶ä»–ç”¨äºæ„å»º ports çš„æ–‡ä»¶ã€‚
ÙB*pkg-descr*: provides a more detailed description of the program.
Ù0*pkg-descr*ï¼šæä¾›ç¨‹åºçš„æ›´è¯¦ç»†æè¿°ã€‚
Ù“*pkg-plist*: a list of all the files that will be installed by the port. It also tells the ports system which files to remove upon deinstallation.
Ù†*pkg-plist*ï¼šä¸€ä¸ªåŒ…å«æ‰€æœ‰å°†ç”± ports å®‰è£…çš„æ–‡ä»¶çš„åˆ—è¡¨ã€‚å®ƒè¿˜å‘Šè¯‰ ports ç³»ç»Ÿåœ¨å¸è½½æ—¶è¦åˆ é™¤å“ªäº›æ–‡ä»¶ã€‚
ÙËSome ports include `pkg-message` or other files to handle special situations.  For more details on these files, and on ports in general, refer to the extref:{porters-handbook}[FreeBSD Porter's Handbook].ÙÁä¸€äº› ports åŒ…æ‹¬ `pkg-message` æˆ–å…¶ä»–æ–‡ä»¶æ¥å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚æœ‰å…³è¿™äº›æ–‡ä»¶ä»¥åŠ ports çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ extref:{porters-handbook}[FreeBSD Porter's Handbook]ã€‚Ù¾The port does not include the actual source code, also known as a `distfile`.  The extract portion of building a port will automatically save the downloaded source to `/usr/ports/distfiles`.Ùš ports ä¸åŒ…å«å®é™…çš„æºä»£ç ï¼Œä¹Ÿç§°ä¸º `distfile` ã€‚æ„å»º ports çš„æå–éƒ¨åˆ†å°†è‡ªåŠ¨å°†ä¸‹è½½çš„æºä»£ç ä¿å­˜åˆ° `/usr/ports/distfiles`ã€‚¿Installing the Ports Collection³å®‰è£… Ports é›†åˆÙÎBefore an application can be compiled using a port, the Ports Collection must first be installed.  If it was not installed during the installation of FreeBSD, use one of the following methods to install it:Ù¡åœ¨ä½¿ç”¨ ports ç¼–è¯‘åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œå¿…é¡»å…ˆå®‰è£… ports é›†åˆã€‚å¦‚æœåœ¨å®‰è£… FreeBSD æ—¶æ²¡æœ‰å®‰è£…å®ƒï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€è¿›è¡Œå®‰è£…ï¼š¸*Procedure: Git Method*
¶*è¿‡ç¨‹ï¼šGit æ–¹æ³•*
Ú
If more control over the ports tree is needed or if local changes need to be maintained, or if running FreeBSD-CURRENT, Git can be used to obtain the Ports Collection.  Refer to extref:{committers-guide}[the Git Primer, git-primer] for a detailed description of Git.Ùÿå¦‚æœéœ€è¦å¯¹ ports æ ‘è¿›è¡Œæ›´å¤šçš„æ§åˆ¶ï¼Œæˆ–è€…éœ€è¦ç»´æŠ¤æœ¬åœ°æ›´æ”¹ï¼Œæˆ–è€…æ­£åœ¨è¿è¡Œ FreeBSD-CURRENTï¼Œå¯ä»¥ä½¿ç”¨ Git æ¥è·å– Ports Collectionã€‚æœ‰å…³ Git çš„è¯¦ç»†æè¿°ï¼Œè¯·å‚é˜… extref:{committers-guide}[Git Primer,git-primer]ã€‚ÙGit must be installed before it can be used to check out the ports tree. If a copy of the ports tree is already present, install Git like this:Ùåœ¨ä½¿ç”¨ Git æ£€å‡º ports æ ‘ä¹‹å‰ï¼Œå¿…é¡»å…ˆå®‰è£… Git ã€‚å¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ª ports æ ‘çš„å‰¯æœ¬ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ–¹å¼å®‰è£… Git ï¼šÙoIf the ports tree is not available, or pkg is being used to manage packages, Git can be installed as a package:Ùtå¦‚æœ ports æ ‘ä¸å¯ç”¨ï¼Œæˆ–è€…æ­£åœ¨ä½¿ç”¨ pkg æ¥ç®¡ç†è½¯ä»¶åŒ…ï¼Œå¯ä»¥å°† Git ä½œä¸ºä¸€ä¸ªè½¯ä»¶åŒ…å®‰è£…ï¼šÙ6Check out a copy of the HEAD branch of the ports tree:Ù+æ£€å‡º ports æ ‘çš„ HEAD åˆ†æ”¯çš„å‰¯æœ¬ï¼šÙ+Or, check out a copy of a quarterly branch:Ù-æˆ–è€…ï¼Œæ£€å‡ºä¸€ä¸ªå­£åº¦åˆ†æ”¯çš„å‰¯æœ¬ï¼šÙ>As needed, update `/usr/ports` after the initial Git checkout:ÙBåœ¨åˆå§‹çš„ Git æ£€å‡ºä¹‹åï¼Œæ ¹æ®éœ€è¦æ›´æ–° `/usr/ports`ã€‚Ù?As needed, switch `/usr/ports` to a different quarterly branch:ÙAæ ¹æ®éœ€è¦ï¼Œå°† `/usr/ports` åˆ‡æ¢åˆ°ä¸åŒçš„å­£åº¦åˆ†æ”¯ï¼š°Installing Ports¬å®‰è£… PortsÙÓThis section provides basic instructions on using the Ports Collection to install or remove software.  The detailed description of available `make` targets and environment variables is available in man:ports[7].Ù¥æœ¬èŠ‚æä¾›äº†ä½¿ç”¨ Ports Collection å®‰è£…æˆ–åˆ é™¤è½¯ä»¶çš„åŸºæœ¬è¯´æ˜ã€‚æœ‰å…³å¯ç”¨çš„ `make` ç›®æ ‡å’Œç¯å¢ƒå˜é‡çš„è¯¦ç»†æè¿°ï¼Œè¯·å‚é˜… man:ports[7]ã€‚ÚTBefore compiling any port, be sure to update the Ports Collection as described in the previous section.  Since the installation of any third-party software can introduce security vulnerabilities, it is recommended to first check https://vuxml.freebsd.org/[] for known security issues related to the port.  Alternatively, run `pkg audit -F` before installing a new port.  This command can be configured to automatically perform a security audit and an update of the vulnerability database during the daily security system check. For more information, refer to man:pkg-audit[8] and man:periodic[8].Úìåœ¨ç¼–è¯‘ä»»ä½• ports ä¹‹å‰ï¼Œè¯·ç¡®ä¿æŒ‰ç…§å‰ä¸€èŠ‚ä¸­çš„æè¿°æ›´æ–° Ports Collectionã€‚ç”±äºå®‰è£…ä»»ä½•ç¬¬ä¸‰æ–¹è½¯ä»¶éƒ½å¯èƒ½å¼•å…¥å®‰å…¨æ¼æ´ï¼Œå»ºè®®é¦–å…ˆåœ¨ https://vuxml.freebsd.org/[] ä¸Šæ£€æŸ¥ä¸è¯¥ ports ç›¸å…³çš„å·²çŸ¥å®‰å…¨é—®é¢˜ã€‚æˆ–è€…ï¼Œåœ¨å®‰è£…æ–° ports ä¹‹å‰è¿è¡Œ `pkg audit -F`ã€‚æ­¤å‘½ä»¤å¯ä»¥é…ç½®ä¸ºåœ¨æ¯æ—¥å®‰å…¨ç³»ç»Ÿæ£€æŸ¥æœŸé—´è‡ªåŠ¨æ‰§è¡Œå®‰å…¨å®¡è®¡å’Œæ¼æ´æ•°æ®åº“çš„æ›´æ–°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:pkg-audit[8] å’Œ man:periodic[8]ã€‚ÙhUsing the Ports Collection assumes a working Internet connection.  It also requires superuser privilege.Ù[ä½¿ç”¨ Ports é›†åˆéœ€è¦ä¸€ä¸ªæ­£å¸¸çš„äº’è”ç½‘è¿æ¥ã€‚å®ƒè¿˜éœ€è¦è¶…çº§ç”¨æˆ·æƒé™ã€‚Ù£To compile and install the port, change to the directory of the port to be installed, then type `make install` at the prompt.  Messages will indicate the progress:Ù‹è¦ç¼–è¯‘å’Œå®‰è£… portsï¼Œè¯·åˆ‡æ¢åˆ°è¦å®‰è£…çš„ ports çš„ç›®å½•ï¼Œç„¶ååœ¨æç¤ºç¬¦ä¸‹é”®å…¥ `make install`ã€‚æ¶ˆæ¯å°†æŒ‡ç¤ºè¿›åº¦ï¼šÙ³Since `lsof` is a program that runs with increased privileges, a security warning is displayed as it is installed.  Once the installation is complete, the prompt will be returned.Ù’ç”±äº `lsof` æ˜¯ä¸€ä¸ªä»¥å¢åŠ æƒé™è¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤åœ¨å®‰è£…æ—¶ä¼šæ˜¾ç¤ºä¸€ä¸ªå®‰å…¨è­¦å‘Šã€‚å®‰è£…å®Œæˆåï¼Œæç¤ºç¬¦å°†ä¼šè¿”å›ã€‚Ú­Some shells keep a cache of the commands that are available in the directories listed in the `PATH` environment variable, to speed up lookup operations for the executable file of these commands.  Users of the `tcsh` shell should type `rehash` so that a newly installed command can be used without specifying its full path.  Use `hash -r` instead for the `sh` shell.  Refer to the documentation for the shell for more information.Úsä¸€äº› shell ä¼šåœ¨ `PATH` ç¯å¢ƒå˜é‡æ‰€åˆ—ç›®å½•ä¸­ä¿ç•™ä¸€ä¸ªå‘½ä»¤ç¼“å­˜ï¼Œä»¥åŠ å¿«å¯¹è¿™äº›å‘½ä»¤å¯æ‰§è¡Œæ–‡ä»¶çš„æŸ¥æ‰¾æ“ä½œã€‚ä½¿ç”¨ `tcsh` shell çš„ç”¨æˆ·åº”è¯¥è¾“å…¥ `rehash` å‘½ä»¤ï¼Œä»¥ä¾¿å¯ä»¥åœ¨ä¸æŒ‡å®šå®Œæ•´è·¯å¾„çš„æƒ…å†µä¸‹ä½¿ç”¨æ–°å®‰è£…çš„å‘½ä»¤ã€‚å¯¹äº `sh` shellï¼Œè¯·ä½¿ç”¨ `hash -r` å‘½ä»¤ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… shell çš„æ–‡æ¡£ã€‚ÙüDuring installation, a working subdirectory is created which contains all the temporary files used during compilation.  Removing this directory saves disk space and minimizes the chance of problems later when upgrading to the newer version of the port:Ùîåœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå·¥ä½œå­ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ç¼–è¯‘è¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶ã€‚åˆ é™¤æ­¤ç›®å½•å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´ï¼Œå¹¶åœ¨ä»¥åå‡çº§åˆ°æ–°ç‰ˆæœ¬çš„ ports æ—¶æœ€å¤§ç¨‹åº¦åœ°å‡å°‘é—®é¢˜çš„å¯èƒ½æ€§ã€‚ÙRTo save this extra step, instead use `make install clean` when compiling the port.ÙXä¸ºäº†é¿å…è¿™ä¸ªé¢å¤–çš„æ­¥éª¤ï¼Œç¼–è¯‘ ports æ—¶å¯ä»¥ä½¿ç”¨ `make install clean`ã€‚¾Customizing Ports Installation¶è‡ªå®šä¹‰ ports å®‰è£…Ú\Some ports provide build options which can be used to enable or disable application components, provide security options, or allow for other customizations.  Examples include package:www/firefox[] and package:security/gpgme[].  If the port depends upon other ports which have configurable options, it may pause several times for user interaction as the default behavior is to prompt the user to select options from a menu.  To avoid this and do all of the configuration in one batch, run `make config-recursive` within the port skeleton.  Then, run `make install [clean]` to compile and install the port.Ú1ä¸€äº› ports æä¾›æ„å»ºé€‰é¡¹ï¼Œå¯ä»¥ç”¨äºå¯ç”¨æˆ–ç¦ç”¨åº”ç”¨ç¨‹åºç»„ä»¶ï¼Œæä¾›å®‰å…¨é€‰é¡¹æˆ–å…è®¸å…¶ä»–è‡ªå®šä¹‰ã€‚ç¤ºä¾‹åŒ…æ‹¬ package:www/firefox[] å’Œ package:security/gpgme[]ã€‚å¦‚æœè¯¥ ports ä¾èµ–äºå…·æœ‰å¯é…ç½®é€‰é¡¹çš„å…¶ä»– portsï¼Œåˆ™é»˜è®¤è¡Œä¸ºæ˜¯æç¤ºç”¨æˆ·ä»èœå•ä¸­é€‰æ‹©é€‰é¡¹ï¼Œå› æ­¤å¯èƒ½ä¼šå¤šæ¬¡æš‚åœä»¥è¿›è¡Œç”¨æˆ·äº¤äº’ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¹¶åœ¨ä¸€ä¸ªæ‰¹å¤„ç†ä¸­è¿›è¡Œæ‰€æœ‰é…ç½®ï¼Œè¯·åœ¨ ports éª¨æ¶ä¸­è¿è¡Œ `make config-recursive`ã€‚ç„¶åï¼Œè¿è¡Œ `make install [clean]` æ¥ç¼–è¯‘å’Œå®‰è£…è¯¥ portsã€‚Ú?When using `config-recursive`, the list of ports to configure are gathered by the `all-depends-list` target.  It is recommended to run `make config-recursive` until all dependent ports options have been defined, and ports options screens no longer appear, to be certain that all dependency options have been configured.Úå½“ä½¿ç”¨ `config-recursive` æ—¶ï¼Œè¦é…ç½®çš„ ports åˆ—è¡¨æ˜¯é€šè¿‡ `all-depends-list` ç›®æ ‡æ”¶é›†çš„ã€‚å»ºè®®è¿è¡Œ `make config-recursive` ç›´åˆ°æ‰€æœ‰ä¾èµ– ports é€‰é¡¹éƒ½è¢«å®šä¹‰ï¼Œå¹¶ä¸” ports é€‰é¡¹å±å¹•ä¸å†å‡ºç°ï¼Œä»¥ç¡®ä¿æ‰€æœ‰ä¾èµ–é€‰é¡¹éƒ½å·²é…ç½®ã€‚ÚÒThere are several ways to revisit a port's build options menu in order to add, remove, or change these options after a port has been built.  One method is to `cd` into the directory containing the port and type `make config`.  Another option is to use `make showconfig`.  Another option is to execute `make rmconfig` which will remove all selected options and allow you to start over.  All of these options, and others, are explained in great detail in man:ports[7].ÚÁåœ¨æ„å»º ports åï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥é‡æ–°è®¿é—® ports çš„æ„å»ºé€‰é¡¹èœå•ï¼Œä»¥æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ”¹è¿™äº›é€‰é¡¹ã€‚ä¸€ç§æ–¹æ³•æ˜¯è¿›å…¥åŒ…å« ports çš„ç›®å½•ï¼Œç„¶åè¾“å…¥ `make config` å‘½ä»¤ã€‚å¦ä¸€ç§é€‰æ‹©æ˜¯ä½¿ç”¨ `make showconfig` å‘½ä»¤ã€‚è¿˜å¯ä»¥æ‰§è¡Œ `make rmconfig` å‘½ä»¤ï¼Œè¯¥å‘½ä»¤å°†åˆ é™¤æ‰€æœ‰å·²é€‰æ‹©çš„é€‰é¡¹ï¼Œå¹¶å…è®¸æ‚¨é‡æ–°å¼€å§‹ã€‚æ‰€æœ‰è¿™äº›é€‰é¡¹ä»¥åŠå…¶ä»–é€‰é¡¹éƒ½åœ¨ man:ports[7] ä¸­è¯¦ç»†è§£é‡Šã€‚ÚBThe ports system uses man:fetch[1] to download the source files, which supports various environment variables.  The `FTP_PASSIVE_MODE`, `FTP_PROXY`, and `FTP_PASSWORD` variables may need to be set if the FreeBSD system is behind a firewall or FTP/HTTP proxy.  See man:fetch[3] for the complete list of supported variables.Ú)ports ç³»ç»Ÿä½¿ç”¨ man:fetch[1] æ¥ä¸‹è½½æºæ–‡ä»¶ï¼Œè¯¥å·¥å…·æ”¯æŒå„ç§ç¯å¢ƒå˜é‡ã€‚å¦‚æœ FreeBSD ç³»ç»Ÿä½äºé˜²ç«å¢™æˆ– FTP/HTTP ä»£ç†åé¢ï¼Œå¯èƒ½éœ€è¦è®¾ç½® `FTP_PASSIVE_MODE`ã€`FTP_PROXY` å’Œ `FTP_PASSWORD` å˜é‡ã€‚æœ‰å…³æ”¯æŒçš„å˜é‡çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… man:fetch[3]ã€‚ÚŞFor users who cannot be connected to the Internet all the time, `make fetch` can be run within `/usr/ports`, to fetch all distfiles, or within a category, such as `/usr/ports/net`, or within the specific port skeleton.  Note that if a port has any dependencies, running this command in a category or ports skeleton will _not_ fetch the distfiles of ports from another category.  Instead, use `make fetch-recursive` to also fetch the distfiles for all the dependencies of a port.Úôå¯¹äºä¸èƒ½å§‹ç»ˆè¿æ¥åˆ°äº’è”ç½‘çš„ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ `/usr/ports` ç›®å½•ä¸‹è¿è¡Œ `make fetch` å‘½ä»¤ï¼Œä»¥è·å–æ‰€æœ‰çš„ distfilesï¼Œæˆ–è€…åœ¨æŸä¸ªåˆ†ç±»ç›®å½•ï¼ˆä¾‹å¦‚ `/usr/ports/net`ï¼‰æˆ–ç‰¹å®šçš„ ports éª¨æ¶ä¸­è¿è¡Œã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ª ports æœ‰ä»»ä½•ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆåœ¨åˆ†ç±»ç›®å½•æˆ– ports éª¨æ¶ä¸­è¿è¡Œæ­¤å‘½ä»¤å°†ä¸ä¼šè·å–æ¥è‡ªå…¶ä»–åˆ†ç±»çš„ ports çš„ distfilesã€‚ç›¸åï¼Œä½¿ç”¨ `make fetch-recursive` å‘½ä»¤ä¹Ÿå¯ä»¥è·å– ports çš„æ‰€æœ‰ä¾èµ–é¡¹çš„ distfilesã€‚ÙâIn rare cases, such as when an organization has a local distfiles repository, the `MASTER_SITES` variable can be used to override the download locations specified in the `Makefile`.  When using, specify the alternate location:ÙÂåœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œä¾‹å¦‚å½“ç»„ç»‡æ‹¥æœ‰æœ¬åœ°çš„ distfiles ä»“åº“æ—¶ï¼Œ`MASTER_SITES` å˜é‡å¯ä»¥ç”¨äºè¦†ç›– `Makefile` ä¸­æŒ‡å®šçš„ä¸‹è½½ä½ç½®ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œè¯·æŒ‡å®šæ›¿ä»£ä½ç½®ï¼šÙoThe `WRKDIRPREFIX` and `PREFIX` variables can override the default working and target directories. For example:Ù^`WRKDIRPREFIX` å’Œ `PREFIX` å˜é‡å¯ä»¥è¦†ç›–é»˜è®¤çš„å·¥ä½œç›®å½•å’Œç›®æ ‡ç›®å½•ã€‚ä¾‹å¦‚ï¼šÙ]will compile the port in `/usr/home/example/ports` and install everything under `/usr/local`.Ùoå°† ports ç¼–è¯‘åœ¨ `/usr/home/example/ports` ç›®å½•ä¸‹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹å®‰è£…åœ¨ `/usr/local` ç›®å½•ä¸‹ã€‚ÙWwill compile the port in `/usr/ports` and install it in `/usr/home/example/local`. And:Ùcå°† ports ç¼–è¯‘åœ¨ `/usr/ports` ä¸­ï¼Œå¹¶å°†å…¶å®‰è£…åœ¨ `/usr/home/example/local` ä¸­ã€‚å¹¶ä¸”ï¼šµwill combine the two.²å°†ä¸¤è€…åˆå¹¶ã€‚Ù”These can also be set as environmental variables.  Refer to the manual page for your shell for instructions on how to set an environmental variable.Ù‚è¿™äº›ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ã€‚è¯·å‚è€ƒæ‚¨æ‰€ä½¿ç”¨çš„ shell çš„æ‰‹å†Œé¡µé¢ï¼Œäº†è§£å¦‚ä½•è®¾ç½®ç¯å¢ƒå˜é‡çš„æŒ‡ä»¤ã€‚¸Removing Installed Ports¹ç§»é™¤å·²å®‰è£…çš„ ports ÙŠInstalled ports can be uninstalled using `pkg delete`.  Examples for using this command can be found in the man:pkg-delete[8] manual page.Ù„ä½¿ç”¨ `pkg delete` å‘½ä»¤å¯ä»¥å¸è½½å·²å®‰è£…çš„ portsã€‚æœ‰å…³ä½¿ç”¨æ­¤å‘½ä»¤çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜… man:pkg-delete[8] æ‰‹å†Œé¡µã€‚ÙBAlternately, `make deinstall` can be run in the port\'s directory:ÙFæˆ–è€…ï¼Œå¯ä»¥åœ¨ ports çš„ç›®å½•ä¸­è¿è¡Œ `make deinstall` å‘½ä»¤ï¼šÚ(It is recommended to read the messages as the port is uninstalled.  If the port has any applications that depend upon it, this information will be displayed but the uninstallation will proceed.  In such cases, it may be better to reinstall the application in order to prevent broken dependencies.Ùòå»ºè®®åœ¨å¸è½½ ports ä¹‹å‰é˜…è¯»æ¶ˆæ¯ã€‚å¦‚æœè¯¥ ports æœ‰ä»»ä½•ä¾èµ–äºå®ƒçš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›ä¿¡æ¯å°†è¢«æ˜¾ç¤ºï¼Œä½†å¸è½½å°†ç»§ç»­è¿›è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‡æ–°å®‰è£…åº”ç”¨ç¨‹åºå¯èƒ½æ›´å¥½ï¼Œä»¥é˜²æ­¢ä¾èµ–å…³ç³»ç ´è£‚ã€‚¯Upgrading Ports¬å‡çº§ portsÙ·Over time, newer versions of software become available in the Ports Collection.  This section describes how to determine which software can be upgraded and how to perform the upgrade.Ù¡éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒPorts Collection ä¸­ä¼šæœ‰æ›´æ–°ç‰ˆæœ¬çš„è½¯ä»¶å¯ç”¨ã€‚æœ¬èŠ‚ä»‹ç»äº†å¦‚ä½•ç¡®å®šå¯ä»¥å‡çº§çš„è½¯ä»¶ä»¥åŠå¦‚ä½•æ‰§è¡Œå‡çº§æ“ä½œã€‚ÚTo determine if newer versions of installed ports are available, ensure that the latest version of the ports tree is installed, using the updating command described in <<ports-using-git-method, "Git Method">>.  The following command will list the installed ports which are out of date:Ùéè¦ç¡®å®šå·²å®‰è£…çš„ ports æ˜¯å¦æœ‰æ›´æ–°ç‰ˆæœ¬å¯ç”¨ï¼Œè¯·ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„ ports æ ‘ï¼Œä½¿ç”¨åœ¨ <<ports-using-git-method, "Git Method">> ä¸­æè¿°çš„æ›´æ–°å‘½ä»¤ã€‚ä»¥ä¸‹å‘½ä»¤å°†åˆ—å‡ºå·²è¿‡æ—¶çš„å·²å®‰è£… portsï¼šÚ5Before attempting an upgrade, read `/usr/ports/UPDATING` from the top of the file to the date closest to the last time ports were upgraded or the system was installed.  This file describes various issues and additional steps users may encounter and need to perform when updating a port, including such things as file format changes, changes in locations of configuration files, or any incompatibilities with previous versions.  Make note of any instructions which match any of the ports that need upgrading and follow these instructions when performing the upgrade.Ú·åœ¨å°è¯•å‡çº§ä¹‹å‰ï¼Œè¯·ä»æ–‡ä»¶é¡¶éƒ¨å¼€å§‹é˜…è¯» `/usr/ports/UPDATING`ï¼Œç›´åˆ°æœ€æ¥è¿‘ä¸Šæ¬¡å‡çº§ ports æˆ–å®‰è£…ç³»ç»Ÿçš„æ—¥æœŸã€‚è¯¥æ–‡ä»¶æè¿°äº†åœ¨æ›´æ–° ports æ—¶ç”¨æˆ·å¯èƒ½é‡åˆ°çš„å„ç§é—®é¢˜å’Œéœ€è¦æ‰§è¡Œçš„é¢å¤–æ­¥éª¤ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ ¼å¼æ›´æ”¹ã€é…ç½®æ–‡ä»¶ä½ç½®æ›´æ”¹æˆ–ä¸å…ˆå‰ç‰ˆæœ¬ä¸å…¼å®¹çš„ä»»ä½•é—®é¢˜ã€‚è¯·æ³¨æ„ä»»ä½•ä¸éœ€è¦å‡çº§çš„ ports åŒ¹é…çš„è¯´æ˜ï¼Œå¹¶åœ¨æ‰§è¡Œå‡çº§æ—¶éµå¾ªè¿™äº›è¯´æ˜ã€‚Ù!Tools to Upgrade and Manage Ports¿å‡çº§å’Œç®¡ç† ports çš„å·¥å…·ÙvThe Ports Collection contains several utilities to perform the actual upgrade.  Each has its strengths and weaknesses.ÙhPorts Collection åŒ…å«å¤šä¸ªå®é™…æ‰§è¡Œå‡çº§çš„å®ç”¨å·¥å…·ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚ÙfHistorically, most installations used either Portmaster or Portupgrade.  Synth is a newer alternative.Ùsä»å†å²ä¸Šçœ‹ï¼Œå¤§å¤šæ•°å®‰è£…ä½¿ç”¨çš„æ˜¯ Portmaster æˆ– Portupgrade ã€‚Synth æ˜¯ä¸€ç§è¾ƒæ–°çš„æ›¿ä»£æ–¹æ¡ˆã€‚Ù­The choice of which tool is best for a particular system is up to the system administrator.  It is recommended practice to back up your data before using any of these tools.Ù~é€‰æ‹©å“ªç§å·¥å…·æœ€é€‚åˆç‰¹å®šç³»ç»Ÿæ˜¯ç”±ç³»ç»Ÿç®¡ç†å‘˜å†³å®šçš„ã€‚åœ¨ä½¿ç”¨è¿™äº›å·¥å…·ä¹‹å‰ï¼Œå»ºè®®å…ˆå¤‡ä»½æ•°æ®ã€‚Ù Upgrading Ports Using Portmaster¾ä½¿ç”¨ Portmaster å‡çº§ PortsÙñpackage:ports-mgmt/portmaster[] is a very small utility for upgrading installed ports.  It is designed to use the tools installed with the FreeBSD base system without depending on other ports or databases.  To install this utility as a port:Ùğpackage:ports-mgmt/portmaster[] æ˜¯ä¸€ä¸ªéå¸¸å°çš„å·¥å…·ï¼Œç”¨äºå‡çº§å·²å®‰è£…çš„ portsã€‚å®ƒæ—¨åœ¨ä½¿ç”¨å®‰è£…åœ¨ FreeBSD åŸºæœ¬ç³»ç»Ÿä¸­çš„å·¥å…·ï¼Œè€Œä¸ä¾èµ–å…¶ä»– ports æˆ–æ•°æ®åº“ã€‚è¦å°†æ­¤å®ç”¨ç¨‹åºå®‰è£…ä¸ºä¸€ä¸ª portsï¼šÙ,Portmaster defines four categories of ports:Ù-Portmaster å®šä¹‰äº†å››ä¸ª ports çš„åˆ†ç±»ï¼šÙJRoot port: has no dependencies and is not a dependency of any other ports.ÙJRoot portsï¼šæ²¡æœ‰ä¾èµ–é¡¹ï¼Œä¹Ÿä¸æ˜¯ä»»ä½•å…¶ä»– ports çš„ä¾èµ–é¡¹ã€‚Ù@Trunk port: has no dependencies, but other ports depend upon it.Ù?Trunk portsï¼šæ²¡æœ‰ä¾èµ–é¡¹ï¼Œä½†å…¶ä»– ports ä¾èµ–äºå®ƒã€‚Ù=Branch port: has dependencies and other ports depend upon it.Ù@Branch portsï¼šå…·æœ‰ä¾èµ–å…³ç³»ï¼Œå…¶ä»– ports ä¾èµ–äºå®ƒã€‚Ù>Leaf port: has dependencies but no other ports depend upon it.ÙGLeaf portsï¼šå…·æœ‰ä¾èµ–å…³ç³»ï¼Œä½†æ²¡æœ‰å…¶ä»– ports ä¾èµ–äºå®ƒã€‚Ù0To list these categories and search for updates:Ù'è¦åˆ—å‡ºè¿™äº›ç±»åˆ«å¹¶æœç´¢æ›´æ–°ï¼šÙ3This command is used to upgrade all outdated ports:Ù0è¿™ä¸ªå‘½ä»¤ç”¨äºå‡çº§æ‰€æœ‰è¿‡æ—¶çš„ portsï¼šÚÔBy default, Portmaster makes a backup package before deleting the existing port.  If the installation of the new version is successful, Portmaster deletes the backup.  Using `-b` instructs Portmaster not to automatically delete the backup.  Adding `-i` starts Portmaster in interactive mode, prompting for confirmation before upgrading each port.  Many other options are available.  Read through the manual page for man:portmaster[8] for details regarding their usage.Ú«é»˜è®¤æƒ…å†µä¸‹ï¼ŒPortmaster åœ¨åˆ é™¤ç°æœ‰ ports ä¹‹å‰ä¼šåˆ›å»ºä¸€ä¸ªå¤‡ä»½åŒ…ã€‚å¦‚æœæ–°ç‰ˆæœ¬çš„å®‰è£…æˆåŠŸï¼ŒPortmaster ä¼šåˆ é™¤å¤‡ä»½ã€‚ä½¿ç”¨ `-b` æŒ‡ä»¤å¯ä»¥è®© Portmaster ä¸è‡ªåŠ¨åˆ é™¤å¤‡ä»½ã€‚æ·»åŠ  `-i` å¯ä»¥å¯åŠ¨ Portmaster çš„äº¤äº’æ¨¡å¼ï¼Œåœ¨å‡çº§æ¯ä¸ª ports ä¹‹å‰æç¤ºç¡®è®¤ã€‚è¿˜æœ‰è®¸å¤šå…¶ä»–é€‰é¡¹å¯ç”¨ã€‚è¯·é˜…è¯» man:portmaster[8] çš„æ‰‹å†Œé¡µé¢ï¼Œäº†è§£æœ‰å…³å®ƒä»¬ä½¿ç”¨çš„è¯¦ç»†ä¿¡æ¯ã€‚Ù`If errors are encountered during the upgrade process, add `-f` to upgrade and rebuild all ports:ÙZå¦‚æœåœ¨å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°é”™è¯¯ï¼Œè¯·åœ¨å‡çº§å’Œé‡å»ºæ‰€æœ‰ ports æ—¶æ·»åŠ  `-f`ã€‚ÙØPortmaster can also be used to install new ports on the system, upgrading all dependencies before building and installing the new port.  To use this function, specify the location of the port in the Ports Collection:Ù¾Portmaster è¿˜å¯ä»¥ç”¨äºåœ¨ç³»ç»Ÿä¸Šå®‰è£…æ–°çš„ portsï¼Œåœ¨æ„å»ºå’Œå®‰è£…æ–°çš„ ports ä¹‹å‰å‡çº§æ‰€æœ‰ä¾èµ–é¡¹ã€‚è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·æŒ‡å®š Ports Collection ä¸­ ports çš„ä½ç½®ï¼šÙWMore information about package:ports-mgmt/portmaster[] may be found in its `pkg-descr`.Ù[æœ‰å…³ package:ports-mgmt/portmaster[] çš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨å…¶ `pkg-descr` ä¸­æ‰¾åˆ°ã€‚Ù!Upgrading Ports Using PortupgradeÙ ä½¿ç”¨ Portupgrade å‡çº§ ports ÙØpackage:ports-mgmt/portupgrade[] is another utility that can be used to upgrade ports.  It installs a suite of applications which can be used to manage ports.  However, it is dependent upon Ruby. To install the port:ÙÇpackage:ports-mgmt/portupgrade[] æ˜¯å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥å‡çº§ ports çš„å®ç”¨å·¥å…·ã€‚å®ƒå®‰è£…äº†ä¸€å¥—å¯ä»¥ç”¨æ¥ç®¡ç† ports çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œå®ƒä¾èµ–äº Rubyã€‚è¦å®‰è£…è¯¥ portsï¼šÙ¦Before performing an upgrade using this utility, it is recommended to scan the list of installed ports using `pkgdb -F` and to fix all the inconsistencies it reports.Ù‹åœ¨ä½¿ç”¨æ­¤å·¥å…·è¿›è¡Œå‡çº§ä¹‹å‰ï¼Œå»ºè®®ä½¿ç”¨ `pkgdb -F` æ‰«æå·²å®‰è£…çš„ ports åˆ—è¡¨ï¼Œå¹¶ä¿®å¤å®ƒæŠ¥å‘Šçš„æ‰€æœ‰ä¸ä¸€è‡´æ€§ã€‚Ù¥To upgrade all the outdated ports installed on the system, use `portupgrade -a`.  Alternately, include `-i` to be asked for confirmation of every individual upgrade:Ùè¦å‡çº§ç³»ç»Ÿä¸Šå®‰è£…çš„æ‰€æœ‰è¿‡æ—¶ portsï¼Œè¯·ä½¿ç”¨ `portupgrade -a`ã€‚æˆ–è€…ï¼ŒåŠ å…¥ `-i` ä»¥ä¾¿åœ¨æ¯æ¬¡å•ç‹¬å‡çº§æ—¶è¦æ±‚ç¡®è®¤ï¼šÙÌTo upgrade only a specified application instead of all available ports, use `portupgrade _pkgname_`.  It is very important to include `-R` to first upgrade all the ports required by the given application:ÙÃè¦å‡çº§æŒ‡å®šçš„åº”ç”¨ç¨‹åºè€Œä¸æ˜¯æ‰€æœ‰å¯ç”¨çš„ portsï¼Œè¯·ä½¿ç”¨ `portupgrade _pkgname_`ã€‚éå¸¸é‡è¦çš„æ˜¯è¦åŒ…æ‹¬ `-R` é€‰é¡¹ï¼Œä»¥å…ˆå‡çº§ç»™å®šåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ portsï¼šÚ•If `-P` is included, Portupgrade searches for available packages in the local directories listed in `PKG_PATH`.  If none are available locally, it then fetches packages from a remote site.  If packages can not be found locally or fetched remotely, Portupgrade will use ports.  To avoid using ports entirely, specify `-PP`.  This last set of options tells Portupgrade to abort if no packages are available:Úå¦‚æœåŒ…å«äº† `-P` é€‰é¡¹ï¼ŒPortupgrade ä¼šåœ¨ `PKG_PATH` åˆ—å‡ºçš„æœ¬åœ°ç›®å½•ä¸­æœç´¢å¯ç”¨çš„è½¯ä»¶åŒ…ã€‚å¦‚æœæœ¬åœ°æ²¡æœ‰å¯ç”¨çš„è½¯ä»¶åŒ…ï¼Œå®ƒä¼šä»è¿œç¨‹ç«™ç‚¹è·å–è½¯ä»¶åŒ…ã€‚å¦‚æœæ— æ³•åœ¨æœ¬åœ°æˆ–è¿œç¨‹è·å–è½¯ä»¶åŒ…ï¼ŒPortupgrade å°†ä½¿ç”¨ portsã€‚ä¸ºäº†å®Œå…¨é¿å…ä½¿ç”¨ portsï¼Œå¯ä»¥æŒ‡å®š `-PP` é€‰é¡¹ã€‚æœ€åä¸€ç»„é€‰é¡¹å‘Šè¯‰ Portupgrade å¦‚æœæ²¡æœ‰å¯ç”¨çš„è½¯ä»¶åŒ…åˆ™ä¸­æ­¢æ“ä½œã€‚ÙŞTo just fetch the port distfiles, or packages, if `-P` is specified, without building or installing anything, use `-F`.  For further information on all of the available switches, refer to the manual page for `portupgrade`.ÙĞå¦‚æœæŒ‡å®šäº† `-P`ï¼Œåªéœ€è·å– ports  distfiles æˆ–è½¯ä»¶åŒ…ï¼Œè€Œä¸éœ€è¦æ„å»ºæˆ–å®‰è£…ä»»ä½•å†…å®¹ï¼Œè¯·ä½¿ç”¨ `-F ã€‚æœ‰å…³æ‰€æœ‰å¯ç”¨å¼€å…³çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… `portupgrade` çš„æ‰‹å†Œé¡µã€‚ÙXMore information about package:ports-mgmt/portupgrade[] may be found in its `pkg-descr`.Ù\æœ‰å…³ package:ports-mgmt/portupgrade[] çš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨å…¶ `pkg-descr` ä¸­æ‰¾åˆ°ã€‚´Ports and Disk Spaceµports å’Œç£ç›˜ç©ºé—´Ú³Using the Ports Collection will use up disk space over time.  After building and installing a port, running `make clean` within the ports skeleton will clean up the temporary `work` directory.  If Portmaster is used to install a port, it will automatically remove this directory unless `-K` is specified.  If Portupgrade is installed, this command will remove all `work` directories found within the local copy of the Ports Collection:Úˆä½¿ç”¨ Ports Collection ä¼šéšç€æ—¶é—´çš„æ¨ç§»å ç”¨ç£ç›˜ç©ºé—´ã€‚åœ¨æ„å»ºå’Œå®‰è£… ports ä¹‹åï¼Œåœ¨ ports éª¨æ¶ä¸­è¿è¡Œ `make clean` å°†æ¸…ç†ä¸´æ—¶çš„ `work` ç›®å½•ã€‚å¦‚æœä½¿ç”¨ Portmaster å®‰è£… portsï¼Œå®ƒä¼šè‡ªåŠ¨åˆ é™¤æ­¤ç›®å½•ï¼Œé™¤éæŒ‡å®šäº† `-K` é€‰é¡¹ã€‚å¦‚æœå®‰è£…äº† Portupgradeï¼Œæ­¤å‘½ä»¤å°†åˆ é™¤åœ¨æœ¬åœ° Ports Collection å‰¯æœ¬ä¸­æ‰¾åˆ°çš„æ‰€æœ‰ `work` ç›®å½•ï¼šÙ»In addition, outdated source distribution files accumulate in `/usr/ports/distfiles` over time.  To use Portupgrade to delete all the distfiles that are no longer referenced by any ports:Ù¹æ­¤å¤–ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿‡æ—¶çš„æºä»£ç åˆ†å‘æ–‡ä»¶ä¼šåœ¨ `/usr/ports/distfiles` ä¸­ç´¯ç§¯ã€‚è¦ä½¿ç”¨ Portupgrade åˆ é™¤æ‰€æœ‰ä¸å†è¢«ä»»ä½• ports å¼•ç”¨çš„åˆ†å‘æ–‡ä»¶ï¼šÙbPortupgrade can remove all distfiles not referenced by any port currently installed on the system:Ù`Portupgrade å¯ä»¥åˆ é™¤ç³»ç»Ÿä¸Šå½“å‰æœªå®‰è£…ä»»ä½• ports å¼•ç”¨çš„æ‰€æœ‰ distfiles æ–‡ä»¶ã€‚Ù If Portmaster is installed, use:Ù)å¦‚æœå·²å®‰è£… Portmasterï¼Œè¯·ä½¿ç”¨ï¼šÙhBy default, this command is interactive and prompts the user to confirm if a distfile should be deleted.ÙZé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‘½ä»¤æ˜¯äº¤äº’å¼çš„ï¼Œå¹¶æç¤ºç”¨æˆ·ç¡®è®¤æ˜¯å¦åˆ é™¤ distfileã€‚Ù‹In addition to these commands, package:ports-mgmt/pkg_cutleaves[] automates the task of removing installed ports that are no longer needed.Ùé™¤äº†è¿™äº›å‘½ä»¤ä¹‹å¤–ï¼Œpackage:ports-mgmt/pkg_cutleaves[] è¿˜å¯ä»¥è‡ªåŠ¨åŒ–åˆ é™¤ä¸å†éœ€è¦çš„å·²å®‰è£… ports çš„ä»»åŠ¡ã€‚Ù Building Packages with poudriereÙ ä½¿ç”¨ poudriere æ„å»ºè½¯ä»¶åŒ…Úûpoudriere is a `BSD`-licensed utility for creating and testing FreeBSD packages.  It uses FreeBSD jails to set up isolated compilation environments.  These jails can be used to build packages for versions of FreeBSD that are different from the system on which it is installed, and also to build packages for i386 if the host is an amd64 system.  Once the packages are built, they are in a layout identical to the official mirrors.  These packages are usable by man:pkg[8] and other package management tools.ÚÜpoudriere æ˜¯ä¸€ä¸ªä½¿ç”¨ BSD è®¸å¯è¯çš„å®ç”¨å·¥å…·ï¼Œç”¨äºåˆ›å»ºå’Œæµ‹è¯• FreeBSD è½¯ä»¶åŒ…ã€‚å®ƒä½¿ç”¨ FreeBSD jails æ¥è®¾ç½®éš”ç¦»çš„ç¼–è¯‘ç¯å¢ƒã€‚è¿™äº› jails å¯ä»¥ç”¨äºä¸ºä¸å®‰è£…å®ƒçš„ç³»ç»Ÿä¸åŒçš„ FreeBSD ç‰ˆæœ¬æ„å»ºè½¯ä»¶åŒ…ï¼Œä¹Ÿå¯ä»¥ç”¨äºåœ¨ä¸»æœºæ˜¯ amd64 ç³»ç»Ÿçš„æƒ…å†µä¸‹æ„å»º i386 çš„è½¯ä»¶åŒ…ã€‚ä¸€æ—¦è½¯ä»¶åŒ…æ„å»ºå®Œæˆï¼Œå®ƒä»¬çš„å¸ƒå±€ä¸å®˜æ–¹é•œåƒå®Œå…¨ç›¸åŒã€‚è¿™äº›è½¯ä»¶åŒ…å¯ä»¥è¢« man:pkg[8] å’Œå…¶ä»–è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ä½¿ç”¨ã€‚Úpoudriere is installed using the package:ports-mgmt/poudriere[] package or port.  The installation includes a sample configuration file `/usr/local/etc/poudriere.conf.sample`.  Copy this file to `/usr/local/etc/poudriere.conf`.  Edit the copied file to suit the local configuration.Úpoudriere æ˜¯ä½¿ç”¨ package:ports-mgmt/poudriere[] åŒ…æˆ– ports è¿›è¡Œå®‰è£…çš„ã€‚å®‰è£…è¿‡ç¨‹ä¸­åŒ…å«ä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ `/usr/local/etc/poudriere.conf.sample`ã€‚å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ° `/usr/local/etc/poudriere.conf`ã€‚ç¼–è¾‘å¤åˆ¶çš„æ–‡ä»¶ä»¥é€‚åº”æœ¬åœ°é…ç½®ã€‚ÚøWhile `ZFS` is not required on the system running poudriere, it is beneficial.  When `ZFS` is used, `ZPOOL` must be specified in `/usr/local/etc/poudriere.conf` and `FREEBSD_HOST` should be set to a nearby mirror.  Defining `CCACHE_DIR` enables the use of package:devel/ccache[] to cache compilation and reduce build times for frequently-compiled code.  It may be convenient to put poudriere datasets in an isolated tree mounted at `/poudriere`.  Defaults for the other configuration values are adequate.ÚÊè™½ç„¶åœ¨è¿è¡Œ poudriere çš„ç³»ç»Ÿä¸Šä¸éœ€è¦ `ZFS`ï¼Œä½†å®ƒæ˜¯æœ‰ç›Šçš„ã€‚å½“ä½¿ç”¨ `ZFS` æ—¶ï¼Œå¿…é¡»åœ¨ `/usr/local/etc/poudriere.conf` ä¸­æŒ‡å®š `ZPOOL`ï¼Œå¹¶å°† `FREEBSD_HOST` è®¾ç½®ä¸ºé™„è¿‘çš„é•œåƒã€‚å®šä¹‰ `CCACHE_DIR` å¯ä»¥å¯ç”¨ `package:devel/ccache[]` æ¥ç¼“å­˜ç¼–è¯‘å¹¶å‡å°‘é¢‘ç¹ç¼–è¯‘ä»£ç çš„æ„å»ºæ—¶é—´ã€‚å°† poudriere æ•°æ®é›†æ”¾åœ¨æŒ‚è½½åœ¨ `/poudriere` çš„éš”ç¦»æ ‘ä¸­å¯èƒ½å¾ˆæ–¹ä¾¿ã€‚å…¶ä»–é…ç½®å€¼çš„é»˜è®¤è®¾ç½®æ˜¯è¶³å¤Ÿçš„ã€‚ÚThe number of processor cores detected is used to define how many builds will run in parallel.  Supply enough virtual memory, either with `RAM` or swap space.  If virtual memory runs out, the compilation jails will stop and be torn down, resulting in weird error messages.Ùòæ£€æµ‹åˆ°çš„å¤„ç†å™¨æ ¸å¿ƒæ•°é‡ç”¨äºå®šä¹‰å¹¶è¡Œè¿è¡Œçš„æ„å»ºæ•°é‡ã€‚è¯·æä¾›è¶³å¤Ÿçš„è™šæ‹Ÿå†…å­˜ï¼Œå¯ä»¥æ˜¯ RAM æˆ–è€…äº¤æ¢ç©ºé—´ã€‚å¦‚æœè™šæ‹Ÿå†…å­˜è€—å°½ï¼Œç¼–è¯‘ç¯å¢ƒå°†åœæ­¢å¹¶è¢«é”€æ¯ï¼Œå¯¼è‡´å‡ºç°å¥‡æ€ªçš„é”™è¯¯ä¿¡æ¯ã€‚¿Initialize Jails and Port Trees¾åˆå§‹åŒ– Jails å’Œ Port TreesÚYAfter configuration, initialize poudriere so that it installs a jail with the required FreeBSD tree and a ports tree.  Specify a name for the jail using `-j` and the FreeBSD version with `-v`.  On systems running FreeBSD/amd64, the architecture can be set with `-a` to either `i386` or `amd64`.  The default is the architecture shown by `uname`.Ú@é…ç½®å®Œæˆåï¼Œåˆå§‹åŒ– poudriereï¼Œä»¥ä¾¿å®‰è£…ä¸€ä¸ªåŒ…å«æ‰€éœ€ FreeBSD æ ‘å’Œ ports æ ‘çš„ jailã€‚ä½¿ç”¨ `-j` æŒ‡å®š jail çš„åç§°ï¼Œå¹¶ä½¿ç”¨ `-v` æŒ‡å®š FreeBSD ç‰ˆæœ¬ã€‚åœ¨è¿è¡Œ FreeBSD/amd64 çš„ç³»ç»Ÿä¸Šï¼Œå¯ä»¥ä½¿ç”¨ `-a` å°†æ¶æ„è®¾ç½®ä¸º `i386` æˆ– `amd64`ã€‚é»˜è®¤æ¶æ„ä¸º `uname` æ˜¾ç¤ºçš„æ¶æ„ã€‚ÚZOn a single computer, poudriere can build ports with multiple configurations, in multiple jails, and from different port trees.  Custom configurations for these combinations are called _sets_.  See the CUSTOMIZATION section of man:poudriere[8] for details after package:ports-mgmt/poudriere[] or package:ports-mgmt/poudriere-devel[] is installed.ÚSåœ¨ä¸€å°è®¡ç®—æœºä¸Šï¼Œpoudriere å¯ä»¥ä½¿ç”¨å¤šä¸ªé…ç½®ï¼Œåœ¨å¤šä¸ª jail ä¸­ï¼Œä»ä¸åŒçš„ ports æ ‘æ„å»º portsã€‚è¿™äº›ç»„åˆçš„è‡ªå®šä¹‰é…ç½®è¢«ç§°ä¸º _é›†åˆ_ã€‚åœ¨å®‰è£…äº† package:ports-mgmt/poudriere[] æˆ– package:ports-mgmt/poudriere-devel[] ä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹ man:poudriere[8] çš„ CUSTOMIZATION éƒ¨åˆ†è·å–è¯¦ç»†ä¿¡æ¯ã€‚ÚxThe basic configuration shown here puts a single jail-, port-, and set-specific `make.conf` in `/usr/local/etc/poudriere.d`.  The filename in this example is created by combining the jail name, port name, and set name: `13amd64-local-workstation-make.conf`.  The system `make.conf` and this new file are combined at build time to create the `make.conf` used by the build jail.ÚŠè¿™é‡Œæ˜¾ç¤ºçš„åŸºæœ¬é…ç½®å°†ä¸€ä¸ªå•ç‹¬çš„ jailã€ port å’Œ set ç‰¹å®šçš„ `make.conf` æ”¾ç½®åœ¨ `/usr/local/etc/poudriere.d` ç›®å½•ä¸‹ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ–‡ä»¶åæ˜¯é€šè¿‡ç»„åˆ jail åç§°ã€ port åç§°å’Œ set åç§°åˆ›å»ºçš„ï¼š`13amd64-local-workstation-make.conf`ã€‚ç³»ç»Ÿçš„ `make.conf` å’Œè¿™ä¸ªæ–°æ–‡ä»¶åœ¨æ„å»ºæ—¶ä¼šåˆå¹¶ï¼Œä»¥åˆ›å»ºæ„å»º jail ä½¿ç”¨çš„ `make.conf` æ–‡ä»¶ã€‚Ù›Packages to be built are entered in `13amd64-local-workstation-pkglist` (ports with extref:{porters-handbook}flavors[FLAVORS] can be defined with @FLAVOR):Ù®è¦æ„å»ºçš„è½¯ä»¶åŒ…åº”è¯¥åœ¨ `13amd64-local-workstation-pkglist` æ–‡ä»¶ä¸­è¾“å…¥ï¼ˆå…·æœ‰ @FLAVOR çš„ extref:{porters-handbook}flavors[FLAVORS] çš„ ports å¯ä»¥å®šä¹‰ï¼‰ã€‚Ù@Options and dependencies for the specified ports are configured:Ù.å·²é…ç½®æŒ‡å®š ports çš„é€‰é¡¹å’Œä¾èµ–é¡¹ï¼šÙ@Finally, packages are built and a package repository is created:Ù3æœ€åï¼Œæ„å»ºè½¯ä»¶åŒ…å¹¶åˆ›å»ºè½¯ä»¶åŒ…ä»“åº“ï¼šÙÎWhile running, pressing kbd:[Ctrl+t] displays the current state of the build.  poudriere also builds files in `/poudriere/logs/bulk/jailname` that can be used with a web server to display build information.Ù×åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ä¸‹ kbd:[Ctrl+t] é”®å¯ä»¥æ˜¾ç¤ºæ„å»ºçš„å½“å‰çŠ¶æ€ã€‚poudriere è¿˜ä¼šåœ¨ `/poudriere/logs/bulk/jailname` ç›®å½•ä¸­æ„å»ºæ–‡ä»¶ï¼Œå¯ä»¥ä¸ Web æœåŠ¡å™¨ä¸€èµ·ä½¿ç”¨ä»¥æ˜¾ç¤ºæ„å»ºä¿¡æ¯ã€‚ÙdAfter completion, the new packages are now available for installation from the poudriere repository.ÙJå®Œæˆåï¼Œæ–°çš„è½¯ä»¶åŒ…ç°åœ¨å¯ä»¥ä» poudriere ä»“åº“è¿›è¡Œå®‰è£…ã€‚ÙFor more information on using poudriere, see man:poudriere[8] and the main web site, https://github.com/freebsd/poudriere/wiki[].Ù‚æœ‰å…³ä½¿ç”¨ poudriere çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:poudriere[8] å’Œä¸»è¦ç½‘ç«™ https://github.com/freebsd/poudriere/wiki[]ã€‚Ù5Configuring pkg Clients to Use a poudriere RepositoryÙ.é…ç½® pkg å®¢æˆ·ç«¯ä»¥ä½¿ç”¨ poudriere ä»“åº“ÚOWhile it is possible to use both a custom repository along side of the official repository, sometimes it is useful to disable the official repository.  This is done by creating a configuration file that overrides and disables the official configuration file.  Create `/usr/local/etc/pkg/repos/FreeBSD.conf` that contains the following:Úè™½ç„¶å¯ä»¥åŒæ—¶ä½¿ç”¨è‡ªå®šä¹‰ä»“åº“å’Œå®˜æ–¹ä»“åº“ï¼Œä½†æœ‰æ—¶ç¦ç”¨å®˜æ–¹ä»“åº“æ˜¯æœ‰ç”¨çš„ã€‚è¿™å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥è¦†ç›–å’Œç¦ç”¨å®˜æ–¹é…ç½®æ–‡ä»¶æ¥å®ç°ã€‚åˆ›å»º `/usr/local/etc/pkg/repos/FreeBSD.conf` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼šÙóUsually it is easiest to serve a poudriere repository to the client machines via HTTP.  Set up a webserver to serve up the package directory, for instance: `/usr/local/poudriere/data/packages/13amd64`, where `13amd64` is the name of the build.ÙŞé€šå¸¸ï¼Œé€šè¿‡ HTTP å°† poudriere ä»“åº“æä¾›ç»™å®¢æˆ·æœºæœ€ä¸ºç®€å•ã€‚è®¾ç½®ä¸€ä¸ª web æœåŠ¡å™¨æ¥æä¾›è½¯ä»¶åŒ…ç›®å½•ï¼Œä¾‹å¦‚ï¼š `/usr/local/poudriere/data/packages/13amd64`ï¼Œå…¶ä¸­ `13amd64` æ˜¯æ„å»ºçš„åç§°ã€‚Ù¬If the URL to the package repository is: `http://pkg.example.com/13amd64`, then the repository configuration file in `/usr/local/etc/pkg/repos/custom.conf` would look like:Ù¡å¦‚æœè½¯ä»¶åŒ…ä»“åº“çš„ URL æ˜¯ï¼š`http://pkg.example.com/13amd64`ï¼Œé‚£ä¹ˆä½äº `/usr/local/etc/pkg/repos/custom.conf` çš„ä»“åº“é…ç½®æ–‡ä»¶å°†å¦‚ä¸‹æ‰€ç¤ºï¼šÙŠIf exposing the package repository to the internet is not desired, the `file://` protocol can be used to point to the repository directly:Ùkå¦‚æœä¸å¸Œæœ›å°†è½¯ä»¶åŒ…ä»“åº“æš´éœ²åœ¨äº’è”ç½‘ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ `file://` åè®®ç›´æ¥æŒ‡å‘ä»“åº“ï¼šÙ Post-Installation Considerations¸å®‰è£…åçš„è€ƒè™‘äº‹é¡¹ÚRegardless of whether the software was installed from a binary package or port, most third-party applications require some level of configuration after installation.  The following commands and locations can be used to help determine what was installed with the application.ÙĞæ— è®ºè½¯ä»¶æ˜¯ä»äºŒè¿›åˆ¶åŒ…è¿˜æ˜¯ ports å®‰è£…çš„ï¼Œå¤§å¤šæ•°ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºåœ¨å®‰è£…åéƒ½éœ€è¦è¿›è¡Œä¸€å®šç¨‹åº¦çš„é…ç½®ã€‚ä»¥ä¸‹å‘½ä»¤å’Œä½ç½®å¯ç”¨äºå¸®åŠ©ç¡®å®šåº”ç”¨ç¨‹åºå®‰è£…äº†ä»€ä¹ˆã€‚ÚÈMost applications install at least one default configuration file in `/usr/local/etc`. In cases where an application has a large number of configuration files, a subdirectory will be created to hold them. Often, sample configuration files are installed which end with a suffix such as `.sample`. The configuration files should be reviewed and possibly edited to meet the system's needs. To edit a sample file, first copy it without the `.sample` extension.Ú™å¤§å¤šæ•°åº”ç”¨ç¨‹åºéƒ½ä¼šåœ¨ `/usr/local/etc` ç›®å½•ä¸‹å®‰è£…è‡³å°‘ä¸€ä¸ªé»˜è®¤é…ç½®æ–‡ä»¶ã€‚åœ¨åº”ç”¨ç¨‹åºæœ‰å¤§é‡é…ç½®æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå­ç›®å½•æ¥å­˜æ”¾å®ƒä»¬ã€‚é€šå¸¸ï¼Œä¼šå®‰è£…ä¸€äº›ä»¥ `.sample` åç¼€ç»“å°¾çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ã€‚åº”è¯¥å®¡æŸ¥å¹¶å¯èƒ½ç¼–è¾‘è¿™äº›é…ç½®æ–‡ä»¶ä»¥æ»¡è¶³ç³»ç»Ÿçš„éœ€æ±‚ã€‚è¦ç¼–è¾‘ç¤ºä¾‹æ–‡ä»¶ï¼Œé¦–å…ˆå°†å…¶å¤åˆ¶å¹¶å»æ‰ `.sample` æ‰©å±•åã€‚Ù¿Applications which provide documentation will install it into `/usr/local/share/doc` and many applications also install manual pages. This documentation should be consulted before continuing.Ù®æä¾›æ–‡æ¡£çš„åº”ç”¨ç¨‹åºä¼šå°†æ–‡æ¡£å®‰è£…åˆ° `/usr/local/share/doc` ç›®å½•ä¸‹ï¼Œè®¸å¤šåº”ç”¨ç¨‹åºè¿˜ä¼šå®‰è£…æ‰‹å†Œé¡µã€‚åœ¨ç»§ç»­ä¹‹å‰ï¼Œåº”è¯¥å…ˆæŸ¥é˜…è¿™äº›æ–‡æ¡£ã€‚ÚSome applications run services which must be added to `/etc/rc.conf` before starting the application. These applications usually install a startup script in `/usr/local/etc/rc.d`. See crossref:config[configtuning-starting-services,Starting Services] for more information.Úä¸€äº›åº”ç”¨ç¨‹åºè¿è¡Œçš„æœåŠ¡åœ¨å¯åŠ¨åº”ç”¨ç¨‹åºä¹‹å‰å¿…é¡»æ·»åŠ åˆ° `/etc/rc.conf` ä¸­ã€‚è¿™äº›åº”ç”¨ç¨‹åºé€šå¸¸ä¼šåœ¨ `/usr/local/etc/rc.d` ä¸­å®‰è£…ä¸€ä¸ªå¯åŠ¨è„šæœ¬ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:config[configtuning-starting-services,å¯åŠ¨æœåŠ¡]ã€‚ÙËBy design, applications do not run their startup script upon installation, nor do they run their stop script upon deinstallation or upgrade.  This decision is left to the individual system administrator.Ù«æ ¹æ®è®¾è®¡ï¼Œåº”ç”¨ç¨‹åºåœ¨å®‰è£…æ—¶ä¸ä¼šè¿è¡Œå¯åŠ¨è„šæœ¬ï¼Œä¹Ÿä¸ä¼šåœ¨å¸è½½æˆ–å‡çº§æ—¶è¿è¡Œåœæ­¢è„šæœ¬ã€‚è¿™ä¸ªå†³å®šç•™ç»™äº†ä¸ªåˆ«ç³»ç»Ÿç®¡ç†å‘˜æ¥å†³å®šã€‚Ù^Users of man:csh[1] should run `rehash` to rebuild the known binary list in the shells `PATH`.Ù|ä½¿ç”¨ man:csh[1] çš„ç”¨æˆ·åº”è¯¥è¿è¡Œ `rehash` å‘½ä»¤æ¥é‡æ–°æ„å»º shell çš„ `PATH` ä¸­å·²çŸ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶åˆ—è¡¨ã€‚ÙeUse `pkg info` to determine which files, man pages, and binaries were installed with the application.Ùdä½¿ç”¨ `pkg info` å‘½ä»¤æ¥ç¡®å®šåº”ç”¨ç¨‹åºå®‰è£…äº†å“ªäº›æ–‡ä»¶ã€man é¡µé¢å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚¹Dealing with Broken Portsµå¤„ç†æŸåçš„ portsÙ9When a port does not build or install, try the following:Ù=å½“ ports æ— æ³•æ„å»ºæˆ–å®‰è£…æ—¶ï¼Œè¯·å°è¯•ä»¥ä¸‹æ“ä½œï¼šÙ³Search to see if there is a fix pending for the port in the link:https://www.FreeBSD.org/support/[Problem Report database]. If so, implementing the proposed fix may fix the issue.ÙÂæœç´¢ä¸€ä¸‹ link:https://www.FreeBSD.org/support/[Problem Report database] ä¸­çš„ ports æ˜¯å¦æœ‰å¾…ä¿®å¤çš„é—®é¢˜æŠ¥å‘Šã€‚å¦‚æœæœ‰çš„è¯ï¼Œå®æ–½å»ºè®®çš„ä¿®å¤å¯èƒ½ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ÙòAsk the maintainer of the port for help. Type `make maintainer` in the ports skeleton or read the port's `Makefile` to find the maintainer's email address. Remember to include the output leading up to the error in the email to the maintainer.Ùêå‘ ports çš„ç»´æŠ¤è€…å¯»æ±‚å¸®åŠ©ã€‚åœ¨ ports éª¨æ¶ä¸­é”®å…¥ `make maintainer`ï¼Œæˆ–è€…é˜…è¯» ports çš„ `Makefile` ä»¥æ‰¾åˆ°ç»´æŠ¤è€…çš„ç”µå­é‚®ä»¶åœ°å€ã€‚è®°å¾—åœ¨å‘é€ç»™ç»´æŠ¤è€…çš„ç”µå­é‚®ä»¶ä¸­åŒ…å«é”™è¯¯ä¹‹å‰çš„è¾“å‡ºã€‚Ú4Some ports are not maintained by an individual but instead by a group maintainer represented by a extref:{mailing-list-faq}[mailing list].  Many, but not all, of these addresses look like mailto:freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org].  Please take this into account when sending an email.Úä¸€äº› ports ä¸æ˜¯ç”±ä¸ªäººç»´æŠ¤ï¼Œè€Œæ˜¯ç”±ä¸€ä¸ªç”±é‚®ä»¶åˆ—è¡¨è¡¨ç¤ºçš„å›¢é˜Ÿç»´æŠ¤è€…ç»´æŠ¤ã€‚å…¶ä¸­è®¸å¤šï¼ˆä½†ä¸æ˜¯å…¨éƒ¨ï¼‰åœ°å€çœ‹èµ·æ¥åƒ mailto:freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org]ã€‚åœ¨å‘é€ç”µå­é‚®ä»¶æ—¶ï¼Œè¯·è€ƒè™‘è¿™ä¸€ç‚¹ã€‚ÚIn particular, ports maintained by mailto:ports@FreeBSD.org[ports@FreeBSD.org] are not maintained by a specific individual.  Instead, any fixes and support come from the general community who subscribe to that mailing list. More volunteers are always needed!ÙÜç‰¹åˆ«æ˜¯ï¼Œç”± mailto:ports@FreeBSD.org[ports@FreeBSD.org] ç»´æŠ¤çš„ ports ä¸ç”±ç‰¹å®šä¸ªäººç»´æŠ¤ã€‚ç›¸åï¼Œä»»ä½•ä¿®å¤å’Œæ”¯æŒéƒ½æ¥è‡ªè®¢é˜…è¯¥é‚®ä»¶åˆ—è¡¨çš„å¹¿å¤§ç¤¾åŒºã€‚æˆ‘ä»¬å§‹ç»ˆéœ€è¦æ›´å¤šçš„å¿—æ„¿è€…ï¼ÙIf there is no response to the email, use Bugzilla to submit a bug report using the instructions in extref:{problem-reports}[Writing FreeBSD Problem Reports].Ùµå¦‚æœæ²¡æœ‰æ”¶åˆ°é‚®ä»¶å›å¤ï¼Œè¯·æŒ‰ç…§ extref:{problem-reports}[Writing FreeBSD Problem Reports,ç¼–å†™ FreeBSD é—®é¢˜æŠ¥å‘Š] ä¸­çš„è¯´æ˜ï¼Œä½¿ç”¨ Bugzilla æäº¤é”™è¯¯æŠ¥å‘Šã€‚ÙºFix it! The extref:{porters-handbook}[Porter's Handbook] includes detailed information on the ports infrastructure so that you can fix the occasional broken port or even submit your own!ÙÂä¿®å¤å®ƒï¼ extref:{porters-handbook}[Porter's Handbook] åŒ…å«äº†æœ‰å…³ ports åŸºç¡€è®¾æ–½çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä¿®å¤å¶å°”å‡ºç°çš„æŸå portsï¼Œç”šè‡³æäº¤æ‚¨è‡ªå·±çš„ portsï¼ÙRInstall the package instead of the port using the instructions in <<pkgng-intro>>.ÙMæŒ‰ç…§ <<pkgng-intro>> ä¸­çš„è¯´æ˜å®‰è£…è½¯ä»¶åŒ…ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ portsã€‚¹FreeBSD Handbook Colophon´FreeBSD æ‰‹å†Œåè®°¨Colophon¦åè®°Ù…This book is the combined work of hundreds of contributors to "The FreeBSD Documentation Project".  The text is authored in AsciiDoc.Ùxè¿™æœ¬ä¹¦æ˜¯ç”±ã€ŠFreeBSD æ–‡æ¡£é¡¹ç›®ã€‹çš„æ•°ç™¾åè´¡çŒ®è€…å…±åŒå®Œæˆçš„ã€‚è¯¥æ–‡æœ¬ä½¿ç”¨ AsciiDoc æ ¼å¼ç¼–å†™ã€‚ÙƒThis chapter describes how to install and configure Wayland and compositors on FreeBSD, which provides a graphical user environmentÙiæœ¬ç« ä»‹ç»äº†å¦‚ä½•åœ¨ FreeBSD ä¸Šå®‰è£…å’Œé…ç½® Wayland å’Œåˆæˆå™¨ï¼Œä»¥æä¾›å›¾å½¢ç”¨æˆ·ç¯å¢ƒã€‚²Chapter 6. Wayland±ç¬¬å…­ç«  Wayland²Wayland on FreeBSDºåœ¨ FreeBSD ä¸Šçš„ Wayland°Wayland Synopsis®Wayland æ¦‚è¿°ÚİWayland is a new display server, but it differs from Xorg in several important ways.  First, Wayland is only a protocol that acts as an intermediary between clients using a different mechanism which removes the dependency on an X server.  Xorg includes both the X11 protocol, used to run remote displays and the X server will accept connections and display windows.  Under Wayland, the compositor or window manager provides the display server instead of a traditional X server.Ú¯Wayland æ˜¯ä¸€ä¸ªæ–°çš„æ˜¾ç¤ºæœåŠ¡å™¨ï¼Œä½†å®ƒä¸ Xorg åœ¨å‡ ä¸ªé‡è¦æ–¹é¢æœ‰æ‰€ä¸åŒã€‚é¦–å…ˆï¼ŒWayland åªæ˜¯ä¸€ä¸ªåè®®ï¼Œå……å½“å®¢æˆ·ç«¯ä¹‹é—´çš„ä¸­ä»‹ï¼Œä½¿ç”¨ä¸åŒçš„æœºåˆ¶æ¥æ¶ˆé™¤å¯¹ X æœåŠ¡å™¨çš„ä¾èµ–ã€‚Xorg æ—¢åŒ…æ‹¬ç”¨äºè¿è¡Œè¿œç¨‹æ˜¾ç¤ºçš„ X11 åè®®ï¼Œä¹ŸåŒ…æ‹¬ X æœåŠ¡å™¨å°†æ¥å—è¿æ¥å’Œæ˜¾ç¤ºçª—å£ã€‚åœ¨ Wayland ä¸‹ï¼Œåˆæˆå™¨æˆ–çª—å£ç®¡ç†å™¨æä¾›æ˜¾ç¤ºæœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„ X æœåŠ¡å™¨ã€‚Ú2Since Wayland is not an X server, traditional X screen connections will need to utilize other methods such as VNC or RDP for remote desktop management.  Second, Wayland can manage composite communications between clients and a compositor as a separate entity which does not need to support the X protocols.Úç”±äº Wayland ä¸æ˜¯ä¸€ä¸ª X æœåŠ¡å™¨ï¼Œä¼ ç»Ÿçš„ X å±å¹•è¿æ¥éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå¦‚ VNC æˆ– RDP æ¥è¿›è¡Œè¿œç¨‹æ¡Œé¢ç®¡ç†ã€‚å…¶æ¬¡ï¼ŒWayland å¯ä»¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å®ä½“æ¥ç®¡ç†å®¢æˆ·ç«¯å’Œåˆæˆå™¨ä¹‹é—´çš„å¤åˆé€šä¿¡ï¼Œè€Œä¸éœ€è¦æ”¯æŒ X åè®®ã€‚Ú Wayland is relatively new, and not all software has been updated to run natively without `Xwayland` support.  Because Wayland does not provide the X server, and expects compositors to provide that support, X11 window managers that do not yet support Wayland will require that `Xwayland` is not started with the `-rootless` parameter.  The `-rootless` parameter, when removed, will restore X11 window manager support.ÚpWayland ç›¸å¯¹è¾ƒæ–°ï¼Œä¸æ˜¯æ‰€æœ‰çš„è½¯ä»¶éƒ½å·²ç»æ›´æ–°ä»¥åœ¨æ²¡æœ‰ `Xwayland` æ”¯æŒçš„æƒ…å†µä¸‹æœ¬åœ°è¿è¡Œã€‚å› ä¸º Wayland ä¸æä¾› X æœåŠ¡å™¨ï¼Œå¹¶ä¸”æœŸæœ›åˆæˆå™¨æä¾›è¯¥æ”¯æŒï¼Œå°šä¸æ”¯æŒ Wayland çš„ X11 çª—å£ç®¡ç†å™¨å°†è¦æ±‚ä¸ä½¿ç”¨ `-rootless` å‚æ•°å¯åŠ¨ `Xwayland` ã€‚ç§»é™¤ `-rootless` å‚æ•°åï¼Œå°†æ¢å¤ X11 çª—å£ç®¡ç†å™¨çš„æ”¯æŒã€‚ÙÏThe current NVIDIA(R) driver should work with most wlroots compositors, but it may be a little unstable and not support all features at this time.  Volunteers to help work on the NVIDIA(R) DRM are requested.Ùİå½“å‰çš„ NVIDIA(R) é©±åŠ¨ç¨‹åºåº”è¯¥èƒ½å¤Ÿä¸å¤§å¤šæ•° wlroots åˆæˆå™¨é…åˆä½¿ç”¨ï¼Œä½†å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸ç¨³å®šæ€§ï¼Œå¹¶ä¸”åœ¨æ­¤æ—¶å¯èƒ½ä¸æ”¯æŒæ‰€æœ‰åŠŸèƒ½ã€‚æˆ‘ä»¬è¯·æ±‚å¿—æ„¿è€…å¸®åŠ©æ”¹è¿› NVIDIA(R) DRM ã€‚ÙëCurrently, a lot of software will function with minimal issues on Wayland, including Firefox.  And a few desktops are also available, such as the Compiz Fusion replacement, known as Wayfire, and the i3 window manager replacement, Sway.ÙÈç›®å‰ï¼Œè®¸å¤šè½¯ä»¶åœ¨ Wayland ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œï¼ŒåŒ…æ‹¬ Firefoxã€‚è¿˜æœ‰ä¸€äº›å¯ç”¨çš„æ¡Œé¢ç¯å¢ƒï¼Œæ¯”å¦‚ Compiz Fusion çš„æ›¿ä»£å“ Wayfireï¼Œä»¥åŠ i3 çª—å£ç®¡ç†å™¨çš„æ›¿ä»£å“ Sway ã€‚ÙıAs of May, 2021, plasma5-kwin does support Wayland on FreeBSD.  To use Plasma under Wayland, use the `startplasma-wayland` parameter to `ck-launch-session` and tie in dbus with: `ck-launch-session dbus-run-session startplasma-wayland` to get it working.Ú2æˆªè‡³ 2021 å¹´ 5 æœˆï¼Œ plasma5-kwin åœ¨ FreeBSD ä¸Šæ”¯æŒ Waylandã€‚è¦åœ¨ Wayland ä¸‹ä½¿ç”¨ Plasmaï¼Œè¯·ä½¿ç”¨ `ck-launch-session` çš„ `startplasma-wayland` å‚æ•°ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† dbus ä¸å…¶ç»‘å®šï¼š`ck-launch-session dbus-run-session startplasma-wayland`ã€‚è¿™æ ·å¯ä»¥ä½¿å…¶æ­£å¸¸å·¥ä½œã€‚Ú±For compositors, a kernel supporting the man:evdev[4] driver must exist to utilize the keybinding functionality.  This is built into the [.filename]#GENERIC# kernel by default; however, if it has been customized and man:evdev[4] support was stripped out, the man:evdev[4] module will need to be loaded.  In addition, users of `Wayland` will need to be members of the `video` group.  To quickly make this change, use the `pw` command:Úå¯¹äºåˆæˆå™¨æ¥è¯´ï¼Œå¿…é¡»å­˜åœ¨æ”¯æŒ man:evdev[4] é©±åŠ¨ç¨‹åºçš„å†…æ ¸æ‰èƒ½åˆ©ç”¨æŒ‰é”®ç»‘å®šåŠŸèƒ½ã€‚è¿™åœ¨é»˜è®¤æƒ…å†µä¸‹å·²ç»å†…ç½®åœ¨ [.filename]#GENERIC# å†…æ ¸ä¸­ï¼›ç„¶è€Œï¼Œå¦‚æœå†…æ ¸è¢«å®šåˆ¶å¹¶ä¸”å»é™¤äº† man:evdev[4] æ”¯æŒï¼Œé‚£ä¹ˆå°±éœ€è¦åŠ è½½ man:evdev[4] æ¨¡å—ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ `Wayland` çš„ç”¨æˆ·è¿˜éœ€è¦æ˜¯ `video` ç»„çš„æˆå‘˜ã€‚è¦å¿«é€Ÿè¿›è¡Œæ­¤æ›´æ”¹ï¼Œè¯·ä½¿ç”¨ `pw` å‘½ä»¤ï¼šÚKInstalling Wayland is simple; there is not a great deal of configuration for the protocol itself.  Most of the composition will depend on the chosen compositor.  By installing `seatd` now, a step is skipped as part of the compositor installation and configuration as `seatd` is needed to provide non-root access to certain devices.Úå®‰è£… Wayland å¾ˆç®€å•ï¼›åè®®æœ¬èº«æ²¡æœ‰å¤ªå¤šçš„é…ç½®ã€‚å¤§éƒ¨åˆ†çš„ç»„åˆå°†å–å†³äºæ‰€é€‰æ‹©çš„åˆæˆå™¨ã€‚é€šè¿‡ç°åœ¨å®‰è£… `seatd`ï¼Œå¯ä»¥è·³è¿‡åˆæˆå™¨å®‰è£…å’Œé…ç½®ä¸€éƒ¨åˆ†çš„æ­¥éª¤ï¼Œå› ä¸º `seatd` éœ€è¦æä¾›å¯¹æŸäº›è®¾å¤‡çš„é root è®¿é—®æƒé™ã€‚ÙîAll of the compositors described here should work with package:graphics/drm-kmod[] open source drivers; however, the NVIDIA(R) graphics cards may have issues when using the proprietary drivers.  Begin by installing the following packages:ÙÖè¿™é‡Œæè¿°çš„æ‰€æœ‰åˆæˆå™¨éƒ½åº”è¯¥ä¸ package:graphics/drm-kmod[] å¼€æºé©±åŠ¨ç¨‹åºé…åˆä½¿ç”¨ï¼›ç„¶è€Œï¼Œä½¿ç”¨ä¸“æœ‰é©±åŠ¨ç¨‹åºæ—¶ï¼Œ NVIDIA(R) æ˜¾å¡å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚é¦–å…ˆå®‰è£…ä»¥ä¸‹è½¯ä»¶åŒ…ï¼šÚJOnce the protocol and supporting packages have been installed, a compositor must create the user interface.  Several compositors will be covered in the following sections.  All compositors using Wayland will need a runtime directory defined in the environment, which can be achieved with the following command in the bourne shell:Úä¸€æ—¦åè®®å’Œæ”¯æŒåŒ…è¢«å®‰è£…ï¼Œåˆæˆå™¨å¿…é¡»åˆ›å»ºç”¨æˆ·ç•Œé¢ã€‚æ¥ä¸‹æ¥çš„å‡ èŠ‚å°†ä»‹ç»å‡ ç§åˆæˆå™¨ã€‚æ‰€æœ‰ä½¿ç”¨ Wayland çš„åˆæˆå™¨éƒ½éœ€è¦åœ¨ç¯å¢ƒä¸­å®šä¹‰ä¸€ä¸ªè¿è¡Œæ—¶ç›®å½•ï¼Œå¯ä»¥é€šè¿‡åœ¨ Bourne shell ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®ç°ï¼šÚIt is important to note that most compositors will search the XDG_RUNTIME_DIR directory for the configuration files.  In the examples included here, a parameter will be used to specify a configuration file in [.filename]#~/.config# to keep temporary files and configuration files separate.  It is recommended that an alias be configured for each compositor to load the designated configuration file.ÚNéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤§å¤šæ•°åˆæˆå™¨ä¼šåœ¨ XDG_RUNTIME_DIR ç›®å½•ä¸­æœç´¢é…ç½®æ–‡ä»¶ã€‚åœ¨è¿™é‡ŒåŒ…å«çš„ç¤ºä¾‹ä¸­ï¼Œå°†ä½¿ç”¨ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®šä¸€ä¸ªé…ç½®æ–‡ä»¶åœ¨ [.filename]# ~ /.config# ä¸­ï¼Œä»¥ä¾¿å°†ä¸´æ—¶æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶åˆ†å¼€å­˜æ”¾ã€‚å»ºè®®ä¸ºæ¯ä¸ªåˆæˆå™¨é…ç½®ä¸€ä¸ªåˆ«åï¼Œä»¥åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ã€‚Ú5It has been reported that ZFS users may experience issues with some Wayland clients because they need access to `posix_fallocate()` in the runtime directory.  While the author could not reproduce this issue on their ZFS system, a recommended workaround is not to use ZFS for the runtime directory and instead use `tmpfs` for the [.filename]#/var/run# directory.  In this case, the `tmpfs` file system is used for [.filename]#/var/run# and mounted through the command `mount -t tmpfs tmpfs /var/run` command and then make this change persist across reboots through [.filename]#/etc/fstab#.  The XDG_RUNTIME_DIR environment variable could be configured to use [.filename]#/var/run/user/$UID# and avoid potential pitfalls with ZFS.  Consider that scenario when reviewing the configuration examples in the following sections.ÚÙæ®æŠ¥é“ï¼ŒZFS ç”¨æˆ·å¯èƒ½ä¼šåœ¨æŸäº› Wayland å®¢æˆ·ç«¯ä¸Šé‡åˆ°é—®é¢˜ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦åœ¨è¿è¡Œæ—¶ç›®å½•ä¸­è®¿é—® `posix_fallocate()` å‡½æ•°ã€‚å°½ç®¡ä½œè€…æ— æ³•åœ¨ä»–ä»¬çš„ ZFS ç³»ç»Ÿä¸Šé‡ç°æ­¤é—®é¢˜ï¼Œä½†å»ºè®®çš„è§£å†³æ–¹æ³•æ˜¯ä¸è¦å°† ZFS ç”¨äºè¿è¡Œæ—¶ç›®å½•ï¼Œè€Œæ˜¯ä½¿ç”¨ `tmpfs` ä½œä¸º [.filename]#/var/run# ç›®å½•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šè¿‡å‘½ä»¤ `mount -t tmpfs tmpfs /var/run` å°† `tmpfs` æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ° [.filename]#/var/run#ï¼Œç„¶åé€šè¿‡ [.filename]#/etc/fstab# ä½¿æ­¤æ›´æ”¹åœ¨é‡æ–°å¯åŠ¨åæŒä¹…åŒ–ã€‚å¯ä»¥é…ç½® XDG_RUNTIME_DIR ç¯å¢ƒå˜é‡ä»¥ä½¿ç”¨ [.filename]#/var/run/user/$UID#ï¼Œé¿å…ä¸ ZFS å¯èƒ½å­˜åœ¨çš„é—®é¢˜ã€‚åœ¨æŸ¥çœ‹ä»¥ä¸‹éƒ¨åˆ†çš„é…ç½®ç¤ºä¾‹æ—¶ï¼Œè¯·è€ƒè™‘è¿™ç§æƒ…å†µã€‚ÚªThe seatd daemon helps manage access to shared system devices for non-root users in compositors; this includes graphics cards.  For traditional X11 managers, `seatd` is not needed, such as both Plasma and GNOME, but for the Wayland compositors discussed here, it will need enabled on the system and be running before starting a compositor environment.  To enable and start the `seatd` daemon now, and on system initialization:Ú†seatd å®ˆæŠ¤è¿›ç¨‹å¸®åŠ©åœ¨åˆæˆå™¨ä¸­ç®¡ç†é root ç”¨æˆ·å¯¹å…±äº«ç³»ç»Ÿè®¾å¤‡çš„è®¿é—®ï¼ŒåŒ…æ‹¬å›¾å½¢å¡ã€‚å¯¹äºä¼ ç»Ÿçš„ X11 ç®¡ç†å™¨ï¼Œå¦‚ Plasma å’Œ GNOMEï¼Œä¸éœ€è¦ä½¿ç”¨ `seatd`ï¼Œä½†å¯¹äºè¿™é‡Œè®¨è®ºçš„ Wayland åˆæˆå™¨ï¼Œåœ¨å¯åŠ¨åˆæˆå™¨ç¯å¢ƒä¹‹å‰ï¼Œéœ€è¦åœ¨ç³»ç»Ÿä¸Šå¯ç”¨å¹¶è¿è¡Œå®ƒã€‚è¦ç«‹å³å¯ç”¨å’Œå¯åŠ¨ `seatd` å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶åœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶å¯åŠ¨ï¼šÙõAfterward, a compositor, which is similar to an X11 desktop, will need to be installed for the GUI environment.  Three are discussed here, including basic configuration options, setting up a screen lock, and recommendations for more information.ÙÒä¹‹åï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªç±»ä¼¼äº X11 æ¡Œé¢çš„åˆæˆå™¨ (compositor) æ¥åˆ›å»º GUI ç¯å¢ƒã€‚è¿™é‡Œè®¨è®ºäº†ä¸‰ç§åˆæˆå™¨ï¼ŒåŒ…æ‹¬åŸºæœ¬é…ç½®é€‰é¡¹ã€è®¾ç½®å±å¹•é”å®šä»¥åŠè·å–æ›´å¤šä¿¡æ¯çš„å»ºè®®ã€‚¶The Wayfire Compositor±Wayfire åˆæˆå™¨Ú=Wayfire is a compositor that aims to be lightweight and customizable.  Several features are available, and it brings back several elements from the previously released Compiz Fusion desktop.  All of the parts look beautiful on modern hardware. To get Wayfire up and running, begin by installing the required packages:ÚWayfire æ˜¯ä¸€ä¸ªæ—¨åœ¨è½»é‡åŒ–å’Œå¯å®šåˆ¶åŒ–çš„åˆæˆå™¨ã€‚å®ƒæä¾›äº†å¤šç§åŠŸèƒ½ï¼Œå¹¶ä¸”è¿˜æ¢å¤äº†ä¹‹å‰å‘å¸ƒçš„ Compiz Fusion æ¡Œé¢çš„ä¸€äº›å…ƒç´ ã€‚æ‰€æœ‰çš„éƒ¨åˆ†åœ¨ç°ä»£ç¡¬ä»¶ä¸Šçœ‹èµ·æ¥éƒ½å¾ˆæ¼‚äº®ã€‚è¦å¯åŠ¨å’Œè¿è¡Œ Wayfireï¼Œè¯·å…ˆå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼šÚ¿The `alacritty` package provides a terminal emulator.  Still, it is not completely required as other terminal emulators such as `kitty`, and XFCE-4 `Terminal` have been tested and verified to work under the Wayfire compositor.  Wayfire configuration is relatively simple; it uses a file that should be reviewed for any customizations.  To begin, copy the example file over to the runtime environment configuration directory and then edit the file:Ú`alacritty` è½¯ä»¶åŒ…æä¾›äº†ä¸€ä¸ªç»ˆç«¯ä»¿çœŸå™¨ã€‚ç„¶è€Œï¼Œå¹¶ä¸å®Œå…¨éœ€è¦å®ƒï¼Œå› ä¸ºå…¶ä»–ç»ˆç«¯ä»¿çœŸå™¨å¦‚ `kitty` å’Œ XFCE-4 `Terminal` å·²ç»åœ¨ Wayfire åˆæˆå™¨ä¸‹è¿›è¡Œäº†æµ‹è¯•å’ŒéªŒè¯ã€‚ Wayfire çš„é…ç½®ç›¸å¯¹ç®€å•ï¼›å®ƒä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶ï¼Œåº”è¯¥å¯¹å…¶ä¸­çš„ä»»ä½•è‡ªå®šä¹‰è¿›è¡Œå®¡æŸ¥ã€‚è¦å¼€å§‹ï¼Œå°†ç¤ºä¾‹æ–‡ä»¶å¤åˆ¶åˆ°è¿è¡Œæ—¶ç¯å¢ƒé…ç½®ç›®å½•ï¼Œç„¶åç¼–è¾‘è¯¥æ–‡ä»¶ï¼šÙåThe defaults for most users should be fine.  Within the configuration file, items like the famous `cube` are pre-configured, and there are instructions to help with the available settings.  A few primary settings of note include:Ùìå¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´ï¼Œé»˜è®¤è®¾ç½®åº”è¯¥æ˜¯å¯ä»¥çš„ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œåƒè‘—åçš„ `cube` è¿™æ ·çš„é¡¹ç›®å·²ç»é¢„å…ˆé…ç½®å¥½äº†ï¼Œå¹¶ä¸”æœ‰è¯´æ˜æ¥å¸®åŠ©è®¾ç½®å¯ç”¨çš„é€‰é¡¹ã€‚ä¸€äº›å€¼å¾—æ³¨æ„çš„ä¸»è¦è®¾ç½®åŒ…æ‹¬ï¼šÚ In this example, from the configuration file, the screen's output should be the listed mode at the listed hertz.  For example, the mode should be set to `widthxheight@refresh_rate`.  The position places the output at a specific pixel location specified.  The default should be fine for most users.  Finally, transform sets a background transform, and scale will scale the output to the specified scale factor.  The defaults for these options are generally acceptable; for more information, see the documentation.Úáåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä»é…ç½®æ–‡ä»¶ä¸­ï¼Œå±å¹•çš„è¾“å‡ºåº”è¯¥æ˜¯åˆ—è¡¨ä¸­åˆ—å‡ºçš„æ¨¡å¼å’Œåˆ—è¡¨ä¸­åˆ—å‡ºçš„èµ«å…¹ã€‚ä¾‹å¦‚ï¼Œæ¨¡å¼åº”è¯¥è®¾ç½®ä¸º `widthxheight@refresh_rate`ã€‚ä½ç½®å°†è¾“å‡ºæ”¾ç½®åœ¨æŒ‡å®šçš„åƒç´ ä½ç½®ä¸Šã€‚é»˜è®¤å€¼å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´åº”è¯¥æ˜¯å¯ä»¥æ¥å—çš„ã€‚æœ€åï¼Œ transform è®¾ç½®äº†èƒŒæ™¯å˜æ¢ï¼Œ scale å°†è¾“å‡ºæŒ‰æŒ‡å®šçš„æ¯”ä¾‹å› å­è¿›è¡Œç¼©æ”¾ã€‚è¿™äº›é€‰é¡¹çš„é»˜è®¤å€¼é€šå¸¸æ˜¯å¯ä»¥æ¥å—çš„ï¼›æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æ–‡æ¡£ã€‚Ú_As mentioned, Wayland is new, and not all applications work with the protocol yet.  At this time, `sddm` does not appear to support starting and managing compositors in Wayland.  The `swaylock` utility has been used instead in these examples. The configuration file contains options to run `swayidle` and `swaylock` for idle and locking of the screen.ÚGå¦‚å‰æ‰€è¿°ï¼ŒWayland æ˜¯ä¸€ç§æ–°çš„åè®®ï¼Œè¿˜ä¸æ˜¯æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½èƒ½ä¸ä¹‹å…¼å®¹ã€‚ç›®å‰ï¼Œ`sddm` ä¼¼ä¹ä¸æ”¯æŒåœ¨ Wayland ä¸­å¯åŠ¨å’Œç®¡ç†åˆæˆå™¨ã€‚åœ¨è¿™äº›ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨äº† `swaylock` å®ç”¨ç¨‹åºã€‚é…ç½®æ–‡ä»¶ä¸­åŒ…å«äº†è¿è¡Œ `swayidle` å’Œ `swaylock` æ¥å¤„ç†å±å¹•ç©ºé—²å’Œé”å®šçš„é€‰é¡¹ã€‚ÙNThis option to define the action to take when the system is idle is listed as:ÙTå½“ç³»ç»Ÿå¤„äºç©ºé—²çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥å®šä¹‰è¦æ‰§è¡Œçš„æ“ä½œã€‚Ù=And the lock timeout is configured using the following lines:Ù0é”å®šè¶…æ—¶æ˜¯é€šè¿‡ä»¥ä¸‹è¡Œè¿›è¡Œé…ç½®çš„ï¼šÙ‹The first option will lock the screen after 300 seconds, and after another 300, the screen will shut off through the `dpms_timeout` option.Ùqç¬¬ä¸€ä¸ªé€‰é¡¹å°†åœ¨ 300 ç§’åé”å®šå±å¹•ï¼Œå†è¿‡ 300 ç§’åï¼Œå±å¹•å°†é€šè¿‡ `dpms_timeout` é€‰é¡¹å…³é—­ã€‚ÚOne final thing to note is the <super> key.  Most of the configuration mentions this key, and it is the traditional `Windows` key on the keyboard.  Most keyboards have this super key available; however, it should be remapped within this configuration file if it is not available.  For example, to lock the screen, press and hold the super key, the kbd:[shift] key, and press the kbd:[escape] key.  nless the mappings have changed, this will execute the swaylock application.  The default configuration for `swaylock` will show a grey screen; however, the application is highly customizable and well documented.  In addition, since the swaylock-effects is the version that was installed, there are several options available such as the blur effect, which can be seen using the following command:Ú®éœ€è¦æ³¨æ„çš„æœ€åä¸€ä»¶äº‹æ˜¯ <super> é”®ã€‚å¤§å¤šæ•°é…ç½®éƒ½æåˆ°äº†è¿™ä¸ªé”®ï¼Œå®ƒæ˜¯é”®ç›˜ä¸Šçš„ä¼ ç»Ÿ `Windows` é”®ã€‚å¤§å¤šæ•°é”®ç›˜éƒ½æœ‰è¿™ä¸ªè¶…çº§é”®å¯ç”¨ï¼›ç„¶è€Œï¼Œå¦‚æœè¯¥é”®ä¸å¯ç”¨ï¼Œåº”åœ¨æ­¤é…ç½®æ–‡ä»¶ä¸­é‡æ–°æ˜ å°„å®ƒã€‚ä¾‹å¦‚ï¼Œè¦é”å®šå±å¹•ï¼Œè¯·æŒ‰ä½è¶…çº§é”®ï¼Œkbd:[shift] é”®ï¼Œç„¶åæŒ‰ä¸‹ kbd:[escape] é”®ã€‚é™¤éæ˜ å°„å·²æ›´æ”¹ï¼Œå¦åˆ™è¿™å°†æ‰§è¡Œ swaylock åº”ç”¨ç¨‹åºã€‚ `swaylock` çš„é»˜è®¤é…ç½®å°†æ˜¾ç¤ºä¸€ä¸ªç°è‰²å±å¹•ï¼›ç„¶è€Œï¼Œè¯¥åº”ç”¨ç¨‹åºå¯ä»¥é«˜åº¦è‡ªå®šä¹‰ï¼Œå¹¶ä¸”æœ‰å¾ˆå¥½çš„æ–‡æ¡£ã€‚æ­¤å¤–ï¼Œç”±äºå®‰è£…çš„æ˜¯ swaylock-effects ç‰ˆæœ¬ï¼Œå› æ­¤æœ‰å‡ ä¸ªå¯ç”¨çš„é€‰é¡¹ï¼Œä¾‹å¦‚æ¨¡ç³Šæ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼šÚsThere is also the `--clock` parameter which will display a clock with the date and time on the lock screen.  When package:x11/swaylock-effects[] was installed, a default [.filename]#pam.d# configuration was included.  It provides the default options that should be fine for most users.  More advanced options are available; see the PAM documentation for more information.ÚKè¿˜æœ‰ä¸€ä¸ª `--clock` å‚æ•°ï¼Œå®ƒä¼šåœ¨é”å±ç•Œé¢ä¸Šæ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰æ—¥æœŸå’Œæ—¶é—´çš„æ—¶é’Ÿã€‚å½“å®‰è£…äº† `x11/swaylock-effects` è½¯ä»¶åŒ…æ—¶ï¼Œä¼šåŒ…å«ä¸€ä¸ªé»˜è®¤çš„ `pam.d` é…ç½®æ–‡ä»¶ã€‚å®ƒæä¾›äº†é€‚ç”¨äºå¤§å¤šæ•°ç”¨æˆ·çš„é»˜è®¤é€‰é¡¹ã€‚è¿˜æœ‰æ›´é«˜çº§çš„é€‰é¡¹å¯ç”¨ï¼›æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… PAM æ–‡æ¡£ã€‚ÙuAt this point, it is time to test Wayfire and see if it can start up on the system.  Just type the following command:Ùiæ­¤æ—¶ï¼Œæ˜¯æ—¶å€™æµ‹è¯• Wayfire å¹¶æŸ¥çœ‹å®ƒæ˜¯å¦èƒ½åœ¨ç³»ç»Ÿä¸Šå¯åŠ¨äº†ã€‚åªéœ€è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼šÚµThe compositor should now start and display a background image along with a menu bar at the top of the screen.  Wayfire will attempt to list installed compatible applications for the desktop and present them in this drop-down menu; for example, if the XFCE-4 file manager is installed, it will show up in this drop-down menu.  If a specific application is compatible and valuable enough for a keyboard shortcut, it may be mapped to a keyboard sequence using the [.filename]#wayfire.ini# configuration file.  Wayfire also has a configuration tool named Wayfire Config Manager.  It is located in the drop-down menu bar but may also be started through a terminal by issuing the following command:ÚJç°åœ¨ï¼Œåˆæˆå™¨åº”è¯¥å¼€å§‹è¿è¡Œï¼Œå¹¶åœ¨å±å¹•é¡¶éƒ¨æ˜¾ç¤ºä¸€ä¸ªèƒŒæ™¯å›¾åƒå’Œä¸€ä¸ªèœå•æ ã€‚ Wayfire å°†å°è¯•åˆ—å‡ºå·²å®‰è£…çš„å…¼å®¹åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨æ­¤ä¸‹æ‹‰èœå•ä¸­å‘ˆç°å®ƒä»¬ï¼›ä¾‹å¦‚ï¼Œå¦‚æœå®‰è£…äº† XFCE-4 æ–‡ä»¶ç®¡ç†å™¨ï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨æ­¤ä¸‹æ‹‰èœå•ä¸­ã€‚å¦‚æœç‰¹å®šåº”ç”¨ç¨‹åºä¸é”®ç›˜å¿«æ·é”®å…¼å®¹ä¸”è¶³å¤Ÿæœ‰ä»·å€¼ï¼Œå¯ä»¥ä½¿ç”¨ [.filename]#wayfire.ini# é…ç½®æ–‡ä»¶å°†å…¶æ˜ å°„åˆ°é”®ç›˜åºåˆ—ã€‚ Wayfire è¿˜æœ‰ä¸€ä¸ªåä¸º Wayfire Config Manager çš„é…ç½®å·¥å…·ã€‚å®ƒä½äºä¸‹æ‹‰èœå•æ ä¸­ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡ç»ˆç«¯å‘å‡ºä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ï¼šÚ"Various Wayfire configuration options, including the composite special effects, maybe enabled, disabled, or configured through this application.  In addition, for a more user-friendly experience, a background manager, panel, and docking application may be enabled in the configuration file:Ùêé€šè¿‡è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¯ç”¨ã€ç¦ç”¨æˆ–é…ç½®å„ç§ Wayfire é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬åˆæˆç‰¹æ•ˆã€‚æ­¤å¤–ï¼Œä¸ºäº†æä¾›æ›´ç”¨æˆ·å‹å¥½çš„ä½“éªŒï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨èƒŒæ™¯ç®¡ç†å™¨ã€é¢æ¿å’Œåœé åº”ç”¨ç¨‹åºã€‚ÙßChanges made through `wcm` will overwrite custom changes in the [.filename]#wayfire.ini# configuration file.  The [.filename]#wayfire.ini# file is highly recommended to be backed up so any essential changes may be restored.ÙÂé€šè¿‡ `wcm` è¿›è¡Œçš„æ›´æ”¹å°†è¦†ç›– [.filename]#wayfire.ini# é…ç½®æ–‡ä»¶ä¸­çš„è‡ªå®šä¹‰æ›´æ”¹ã€‚å¼ºçƒˆå»ºè®®å¤‡ä»½ [.filename]#wayfire.ini# æ–‡ä»¶ï¼Œä»¥ä¾¿å¯ä»¥æ¢å¤ä»»ä½•é‡è¦çš„æ›´æ”¹ã€‚ÙFinally, the default launcher listed in the [.filename]#wayfire.ini# is package:x11/wf-shell[] which may be replaced with other panels if desired by the user.Ùæœ€åï¼Œåœ¨ [.filename]#wayfire.ini# ä¸­åˆ—å‡ºçš„é»˜è®¤å¯åŠ¨å™¨æ˜¯ package:x11/wf-shell[] ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦æ›¿æ¢ä¸ºå…¶ä»–é¢æ¿ã€‚µThe Hikari Compositor°Hikari åˆæˆå™¨ÚÓThe Hikari compositor uses several concepts centered around productivity, such as sheets, workspaces, and more.  In that way, it resembles a tiling window manager.  Breaking this down, the compositor starts with a single workspace, which is similar to virtual desktops.  Hikari uses a single workspace or virtual desktop for user interaction. The workspace is made up of several views, which are the working windows in the compositor grouped as either sheets or groups.  Both sheets and groups are made up of a collection of views; again, the windows that are grouped together.  When switching between sheets or groups, the active sheet or group will become known collectively as the workspace.  The manual page will break this down into more information on the functions of each but for this document, just consider a single workspace utilizing a single sheet.  Hikari installation will comprise of a single package, package:x11-wm/hikari[], and a terminal emulator `alacritty`:ÚZHikari åˆæˆå™¨ä½¿ç”¨äº†å‡ ä¸ªä»¥æé«˜ç”Ÿäº§åŠ›ä¸ºä¸­å¿ƒçš„æ¦‚å¿µï¼Œä¾‹å¦‚å·¥ä½œè¡¨ï¼ˆsheetsï¼‰ã€å·¥ä½œåŒºï¼ˆworkspacesï¼‰ç­‰ç­‰ã€‚ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œå®ƒç±»ä¼¼äºå¹³é“ºå¼çª—å£ç®¡ç†å™¨ã€‚å…·ä½“æ¥è¯´ï¼Œåˆæˆå™¨ä»ä¸€ä¸ªå•ä¸€çš„å·¥ä½œåŒºå¼€å§‹ï¼Œç±»ä¼¼äºè™šæ‹Ÿæ¡Œé¢ã€‚ Hikari ä½¿ç”¨ä¸€ä¸ªå•ä¸€çš„å·¥ä½œåŒºæˆ–è™šæ‹Ÿæ¡Œé¢è¿›è¡Œç”¨æˆ·äº¤äº’ã€‚å·¥ä½œåŒºç”±å¤šä¸ªè§†å›¾ç»„æˆï¼Œè¿™äº›è§†å›¾æ˜¯åˆæˆå™¨ä¸­çš„å·¥ä½œçª—å£ï¼Œåˆ†ç»„ä¸ºå·¥ä½œè¡¨æˆ–ç»„ï¼ˆgroupsï¼‰ã€‚å·¥ä½œè¡¨å’Œç»„éƒ½ç”±ä¸€ç»„è§†å›¾ç»„æˆï¼Œå³è¢«åˆ†ç»„åœ¨ä¸€èµ·çš„çª—å£ã€‚åœ¨å·¥ä½œè¡¨æˆ–ä¹‹é—´åˆ‡æ¢æ—¶ï¼Œæ´»åŠ¨çš„å·¥ä½œè¡¨æˆ–ç»„å°†è¢«ç»Ÿç§°ä¸ºå·¥ä½œåŒºã€‚æ‰‹å†Œå°†è¯¦ç»†ä»‹ç»æ¯ä¸ªåŠŸèƒ½ï¼Œä½†åœ¨æœ¬æ–‡æ¡£ä¸­ï¼Œåªéœ€è€ƒè™‘ä¸€ä¸ªä½¿ç”¨å•ä¸ª å·¥ä½œè¡¨çš„å·¥ä½œåŒºã€‚ Hikari çš„å®‰è£…å°†åŒ…æ‹¬ä¸€ä¸ªå•ä¸€çš„è½¯ä»¶åŒ… package:x11-wm/hikari[] å’Œä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ `alacritty` ã€‚Ù«Other shells, such as `kitty` or the Plasma `Terminal`, will function under Wayland. Users should experiment with their favorite terminal editor to validate compatibility.Ù¦å…¶ä»–ç»ˆç«¯ï¼Œå¦‚ `kitty` æˆ– Plasma çš„ `Terminal`ï¼Œåœ¨ Wayland ä¸‹å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ç”¨æˆ·åº”è¯¥å°è¯•ä½¿ç”¨ä»–ä»¬å–œæ¬¢çš„ç»ˆç«¯ç¼–è¾‘å™¨æ¥éªŒè¯å…¼å®¹æ€§ã€‚ÚHikari uses a configuration file, [.filename]#hikari.conf#, which could either be placed in the XDG_RUNTIME_DIR or specified on startup using the `-c` parameter.  An autostart configuration file is not required but may make the migration to this compositor a little easier.  Beginning the configuration is to create the Hikari configuration directory and copy over the configuration file for editing:ÚDHikari ä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ [.filename]#hikari.conf#ï¼Œå¯ä»¥æ”¾ç½®åœ¨ XDG_RUNTIME_DIR ç›®å½•ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å¯åŠ¨æ—¶ä½¿ç”¨ `-c` å‚æ•°æŒ‡å®šã€‚ä¸éœ€è¦è‡ªåŠ¨å¯åŠ¨é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯å¯èƒ½ä¼šä½¿è¿ç§»åˆ°è¿™ä¸ªåˆæˆå™¨æ›´å®¹æ˜“ä¸€äº›ã€‚å¼€å§‹é…ç½®æ˜¯åˆ›å»º Hikari é…ç½®ç›®å½•å¹¶å¤åˆ¶é…ç½®æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼šÚeThe configuration is broken out into various stanzas such as ui, outputs, layouts, and more.  For most users, the defaults will function fine; however, some important changes should be made.  For example, the $TERMINAL variable is normally not set within the user's environment.  Changing this variable or altering the [.filename]#hikari.conf# file to read:ÚPé…ç½®è¢«åˆ†è§£ä¸ºå„ç§éƒ¨åˆ†ï¼Œå¦‚ uiã€outputsã€layouts ç­‰ç­‰ã€‚å¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´ï¼Œé»˜è®¤è®¾ç½®åº”è¯¥å¯ä»¥æ­£å¸¸è¿è¡Œï¼›ä½†æ˜¯è¿˜éœ€è¦è¿›è¡Œä¸€äº›é‡è¦çš„æ›´æ”¹ã€‚ä¾‹å¦‚ï¼Œ$TERMINAL å˜é‡é€šå¸¸åœ¨ç”¨æˆ·çš„ç¯å¢ƒä¸­æ²¡æœ‰è®¾ç½®ã€‚å¯ä»¥æ›´æ”¹è¿™ä¸ªå˜é‡æˆ–è€…ä¿®æ”¹ [.filename]#hikari.conf# æ–‡ä»¶ä»¥è¿›è¡Œè¯»å–ã€‚ÚWill launch the `alacritty` terminal using the bound key press.  While going through the configuration file, it should be noted that the capital letters are used to map keys out for the user.  For example, the kbd:[L] key for starting the terminal kbd:[L+Return] is actually the previously discussed super key or Windows logo key.  Therefore, holding the kbd:[L/super/Windows] key and pressing kbd:[Enter] will open the specified terminal emulator with the default configuration.  Mapping other keys to applications require an action definition to be created.  For this, the action item should be listed in the actions stanza, for example:Úçå°†ä½¿ç”¨ç»‘å®šçš„æŒ‰é”®å¯åŠ¨ `alacritty` ç»ˆç«¯ã€‚åœ¨æµè§ˆé…ç½®æ–‡ä»¶æ—¶ï¼Œåº”æ³¨æ„å¤§å†™å­—æ¯ç”¨äºä¸ºç”¨æˆ·æ˜ å°„é”®ã€‚ä¾‹å¦‚ï¼Œç”¨äºå¯åŠ¨ç»ˆç«¯çš„ kbd:[L] é”® kbd:[L + Return] å®é™…ä¸Šæ˜¯å‰é¢è®¨è®ºè¿‡çš„è¶…çº§é”®æˆ– Windows å¾½æ ‡é”®ã€‚å› æ­¤ï¼ŒæŒ‰ä½ kbd:[L/super/Windows] é”®å¹¶æŒ‰ä¸‹ kbd:[Enter] é”®å°†ä½¿ç”¨é»˜è®¤é…ç½®æ‰“å¼€æŒ‡å®šçš„ç»ˆç«¯ä»¿çœŸå™¨ã€‚å°†å…¶ä»–é”®æ˜ å°„åˆ°åº”ç”¨ç¨‹åºéœ€è¦åˆ›å»ºä¸€ä¸ªåŠ¨ä½œå®šä¹‰ã€‚ä¸ºæ­¤ï¼ŒåŠ¨ä½œé¡¹åº”åˆ—åœ¨åŠ¨ä½œæ®µä¸­ï¼Œä¾‹å¦‚ï¼šÙdThen an action may be mapped under the keyboard stanza, which is defined within the bindings stanza:ÙZç„¶åï¼Œå¯ä»¥å°†ä¸€ä¸ªåŠ¨ä½œæ˜ å°„åˆ°é”®ç›˜éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†åœ¨ç»‘å®šéƒ¨åˆ†ä¸­å®šä¹‰ï¼šÚAAfter Hikari is restarted, holding the Windows logo button and pressing the kbd:[b] key on the keyboard will start the web browser.  The compositor does not have a menu bar, and it is recommended the user set up, at minimal, a terminal emulator before migration.  The manual page contains a great deal of documentation it should be read before performing a full migration.  Another positive aspect about Hikari is that, while migrating to the compositor, Hikari can be started in the Plasma and GNOME desktop environments, allowing for a test-drive before completely migrating.Úºåœ¨ Hikari é‡æ–°å¯åŠ¨åï¼ŒæŒ‰ä½ Windows å¾½æ ‡æŒ‰é’®å¹¶åœ¨é”®ç›˜ä¸ŠæŒ‰ä¸‹ kbd:[b] é”®å°†å¯åŠ¨ç½‘é¡µæµè§ˆå™¨ã€‚åˆæˆå™¨æ²¡æœ‰èœå•æ ï¼Œå»ºè®®ç”¨æˆ·åœ¨è¿ç§»ä¹‹å‰è‡³å°‘è®¾ç½®ä¸€ä¸ªç»ˆç«¯ä»¿çœŸå™¨ã€‚æ‰‹å†Œä¸­åŒ…å«å¤§é‡çš„æ–‡æ¡£ï¼Œåº”åœ¨è¿›è¡Œå®Œæ•´è¿ç§»ä¹‹å‰é˜…è¯»ã€‚Hikari çš„å¦ä¸€ä¸ªç§¯ææ–¹é¢æ˜¯ï¼Œåœ¨è¿ç§»åˆ°åˆæˆå™¨æ—¶ï¼Œå¯ä»¥åœ¨ Plasma å’Œ GNOME æ¡Œé¢ç¯å¢ƒä¸­å¯åŠ¨ Hikariï¼Œä»¥ä¾¿åœ¨å®Œå…¨è¿ç§»ä¹‹å‰è¿›è¡Œè¯•ç”¨ã€‚ÚQLocking the screen in Hikari is easy because a default [.filename]#pam.d# configuration file and unlock utility are bundled with the package.  The key binding for locking the screen is kbd:[L] (Windows logo key)+ kbd:[Shift] + kbd:[Backspace].  It should be noted that all views not marked public will be hidden.  These views will never accept input when locked but beware of sensitive information being visible.  For some users, it may be easier to migrate to a different screen locking utility such as swaylock-effects, discussed in this section.  To start Hikari, use the following command:Ú.åœ¨ Hikari ä¸­é”å®šå±å¹•å¾ˆå®¹æ˜“ï¼Œå› ä¸ºé»˜è®¤çš„ [.filename]#pam.d# é…ç½®æ–‡ä»¶å’Œè§£é”å·¥å…·å·²ç»ä¸è½¯ä»¶åŒ…æ†ç»‘åœ¨ä¸€èµ·ã€‚é”å®šå±å¹•çš„é”®ç»‘å®šæ˜¯ kbd:[L]ï¼ˆWindows å¾½æ ‡é”®ï¼‰+ kbd:[Shift] + kbd:[Backspace]ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰æœªæ ‡è®°ä¸ºå…¬å…±çš„è§†å›¾å°†è¢«éšè—ã€‚å½“å±å¹•é”å®šæ—¶ï¼Œè¿™äº›è§†å›¾å°†ä¸æ¥å—è¾“å…¥ï¼Œä½†è¦æ³¨æ„æ•æ„Ÿä¿¡æ¯å¯èƒ½å¯è§ã€‚å¯¹äºä¸€äº›ç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½æ›´å®¹æ˜“è¿ç§»åˆ°å…¶ä»–å±å¹•é”å®šå·¥å…·ï¼Œæ¯”å¦‚åœ¨æœ¬èŠ‚ä¸­è®¨è®ºçš„ swaylock-effectsã€‚è¦å¯åŠ¨ Hikariï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š³The Sway Compositor®Sway åˆæˆå™¨Ú‘The Sway compositor is a tiling compositor that attempts to replace the i3 windows manager.  It should work with the user's current i3 configuration; however, new features may require some additional setup.  In the forthcoming examples, a fresh installation without migrating any i3 configuration will be assumed.  To install Sway and valuable components, issue the following command as the root user:Ú^Sway åˆæˆå™¨æ˜¯ä¸€ç§å¹³é“ºå¼åˆæˆå™¨ï¼Œæ—¨åœ¨å–ä»£ i3 çª—å£ç®¡ç†å™¨ã€‚å®ƒåº”è¯¥ä¸ç”¨æˆ·å½“å‰çš„ i3 é…ç½®å…¼å®¹ï¼›ä½†æ˜¯ï¼Œæ–°åŠŸèƒ½å¯èƒ½éœ€è¦ä¸€äº›é¢å¤–çš„è®¾ç½®ã€‚åœ¨æ¥ä¸‹æ¥çš„ç¤ºä¾‹ä¸­ï¼Œå‡è®¾è¿›è¡Œäº†å…¨æ–°å®‰è£…ï¼Œæ²¡æœ‰è¿ç§»ä»»ä½• i3 é…ç½®ã€‚è¦å®‰è£… Sway å’Œæœ‰ä»·å€¼çš„ç»„ä»¶ï¼Œè¯·ä»¥ root ç”¨æˆ·èº«ä»½æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙuFor a basic configuration file, issue the following commands and then edit the configuration file after it is copied:Ùfå¯¹äºä¸€ä¸ªåŸºæœ¬çš„é…ç½®æ–‡ä»¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç„¶ååœ¨å¤åˆ¶å®Œæˆåç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šÙThe base configuration file has many defaults, which will be fine for most users.  Several important changes should be made like the following:ÙåŸºæœ¬é…ç½®æ–‡ä»¶æœ‰è®¸å¤šé»˜è®¤å€¼ï¼Œå¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´è¿™æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯è¿˜éœ€è¦è¿›è¡Œä¸€äº›é‡è¦çš„æ›´æ”¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šÚŠIn the previous example, the `xkb` rules for man:evdev[4] events are loaded, and the $mod key is set to the Windows logo key for the key bindings.  Next, the terminal emulator was set to be `alacritty`, and a screen lock command was defined; more on this later.  The output keyword, the mode, the position, a background wallpaper, and Sway is also told to stretch this wallpaper to fill out the screen.  Finally, `swaylock` is set to daemonize and lock the screen after a timeout of 300 seconds, placing the screen or monitor into sleep mode after 600 seconds.  The locked background color of 000000, which is black, is also defined here.  Using swaylock-effects, a clock may also be displayed with the `--clock` parameter.  See the manual page for more options.  The man:sway-output[5] manual page should also be reviewed; it includes a great deal of information on customing the output options available.Úîåœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼ŒåŠ è½½äº† `xkb` è§„åˆ™ä»¥å¤„ç† man:evdev[4] äº‹ä»¶ï¼Œå¹¶å°† $mod é”®è®¾ç½®ä¸º Windows å¾½æ ‡é”®ä»¥è¿›è¡Œé”®ç»‘å®šã€‚æ¥ä¸‹æ¥ï¼Œç»ˆç«¯ä»¿çœŸå™¨è¢«è®¾ç½®ä¸º `alacritty`ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªå±å¹•é”å®šå‘½ä»¤ï¼›ç¨åä¼šè¯¦ç»†ä»‹ç»ã€‚è¾“å‡ºå…³é”®å­—ã€æ¨¡å¼ã€ä½ç½®ã€èƒŒæ™¯å£çº¸ä»¥åŠ Sway è¿˜è¢«å‘ŠçŸ¥å°†è¯¥å£çº¸æ‹‰ä¼¸ä»¥å¡«æ»¡å±å¹•ã€‚æœ€åï¼Œè®¾ç½® `swaylock` åœ¨ 300 ç§’è¶…æ—¶åå°†å±å¹•æˆ–ç›‘è§†å™¨é”å®šå¹¶è¿›å…¥ç¡çœ æ¨¡å¼ã€‚åœ¨è¿™é‡Œè¿˜å®šä¹‰äº†é”å®šçš„èƒŒæ™¯é¢œè‰²ä¸º 000000ï¼Œå³é»‘è‰²ã€‚ä½¿ç”¨ swaylock-effectsï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `--clock` å‚æ•°æ˜¾ç¤ºæ—¶é’Ÿã€‚æœ‰å…³æ›´å¤šé€‰é¡¹ï¼Œè¯·å‚é˜…æ‰‹å†Œé¡µã€‚è¿˜åº”è¯¥æŸ¥çœ‹ man:sway-output[5] æ‰‹å†Œé¡µï¼›å®ƒåŒ…å«äº†å¤§é‡å…³äºè‡ªå®šä¹‰è¾“å‡ºé€‰é¡¹çš„ä¿¡æ¯ã€‚Ú˜While in Sway, to bring up a menu of applications, hold the Windows logo key (mod) and press the kbd:[d] key.  The menu may be navigated using the arrow keys on the keyboard.  There is also a method to manipulate the layout of the bar and add a tray; read the man:sway-bar[5] manual page for more information.  The default configuration adds a date and time to the upper right-hand corner.  See the `Bar` stanza in the configuration file for an example.  By default, the configuration does not include locking the screen outside of the example above, enabling a lockout timer.  Creating a lock key binding requires the following line to the `Key bindings` section:Ú9åœ¨ Sway ä¸­ï¼Œè¦æ‰“å¼€åº”ç”¨ç¨‹åºèœå•ï¼Œè¯·æŒ‰ä½ Windows å¾½æ ‡é”®ï¼ˆmod é”®ï¼‰å¹¶æŒ‰ä¸‹ kbd:[d] é”®ã€‚å¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ç®­å¤´é”®æ¥å¯¼èˆªèœå•ã€‚è¿˜æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æ“ä½œæ çš„å¸ƒå±€å¹¶æ·»åŠ ä¸€ä¸ªæ‰˜ç›˜ï¼›è¯·é˜…è¯» man:sway-bar[5] æ‰‹å†Œé¡µé¢è·å–æ›´å¤šä¿¡æ¯ã€‚é»˜è®¤é…ç½®åœ¨å³ä¸Šè§’æ·»åŠ äº†æ—¥æœŸå’Œæ—¶é—´ã€‚åœ¨é…ç½®æ–‡ä»¶çš„ `Bar` éƒ¨åˆ†ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç¤ºä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½®ä¸åŒ…æ‹¬åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¹‹å¤–é”å®šå±å¹•ï¼Œå¯ç”¨é”å®šè®¡æ—¶å™¨ã€‚åˆ›å»ºä¸€ä¸ªé”å®šé”®ç»‘å®šéœ€è¦åœ¨ `Key bindings` éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹è¡Œï¼šÚµNow the screen may be locked using the combination of holding the Windows logo key, pressing and holding shift, and finally pressing return.  When Sway is installed, whether from a package or the FreeBSD Ports Collection, a default file for [.filename]#pam.d# was installed.  The default configuration should be acceptable for most users, but more advanced options are available.  Read through the PAM documentation for more information.Ú‰ç°åœ¨å¯ä»¥ä½¿ç”¨æŒ‰ä½ Windows å¾½æ ‡é”®ã€æŒ‰ä½ Shift é”®ï¼Œæœ€åæŒ‰ä¸‹å›è½¦é”®çš„ç»„åˆæ¥é”å®šå±å¹•ã€‚å½“å®‰è£…äº† Swayï¼Œæ— è®ºæ˜¯ä»è½¯ä»¶åŒ…è¿˜æ˜¯ FreeBSD Ports Collection å®‰è£…çš„ï¼Œéƒ½ä¼šå®‰è£…ä¸€ä¸ªé»˜è®¤çš„ [.filename]#pam.d# æ–‡ä»¶ã€‚é»˜è®¤é…ç½®å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´åº”è¯¥æ˜¯å¯æ¥å—çš„ï¼Œä½†ä¹Ÿæä¾›äº†æ›´é«˜çº§çš„é€‰é¡¹ã€‚è¯·é˜…è¯» PAM æ–‡æ¡£ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚Ú²Finally, to exit Sway and return to the shell, hold the Windows logo key, the shift key, and press the kbd:[e] key.  A prompt will be displayed with an option to exit Sway.  During migration, Sway can be started through a terminal emulator on an X11 desktop such as Plasma.  This makes testing different changes and key bindings a little easier prior to fully migrating to this compositor.  To start Sway, issue the following command:Ú¹æœ€åï¼Œè¦é€€å‡º Sway å¹¶è¿”å›åˆ° shellï¼Œè¯·æŒ‰ä½ Windows å¾½æ ‡é”®å’Œ Shift é”®ï¼Œç„¶åæŒ‰ä¸‹é”®ç›˜ä¸Šçš„ [e] é”®ã€‚ä¼šæ˜¾ç¤ºä¸€ä¸ªæç¤ºï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªé€‰é¡¹å¯ä»¥é€€å‡º Swayã€‚åœ¨è¿ç§»æœŸé—´ï¼Œå¯ä»¥é€šè¿‡åœ¨è¯¸å¦‚ Plasma ä¹‹ç±»çš„ X11 æ¡Œé¢ä¸Šçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸­å¯åŠ¨ Sway ã€‚è¿™ä½¿å¾—åœ¨å®Œå…¨è¿ç§»åˆ°è¿™ä¸ªåˆæˆå™¨ä¹‹å‰ï¼Œæµ‹è¯•ä¸åŒçš„æ›´æ”¹å’Œé”®ç»‘å®šå˜å¾—æ›´åŠ å®¹æ˜“ã€‚è¦å¯åŠ¨ Sway ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š®Using Xwayland¯ä½¿ç”¨ XwaylandÙáWhen installing Wayland, the `Xwayland` binary should have been installed unless Wayland was built without X11 support.  If the [.filename]#/usr/local/bin/Xwayland# file does not exist, install it using the following command:Ùâåœ¨å®‰è£… Wayland æ—¶ï¼Œé™¤é Wayland æ˜¯æ²¡æœ‰æ„å»º X11 æ”¯æŒçš„ï¼Œå¦åˆ™åº”è¯¥å·²ç»å®‰è£…äº† `Xwayland` äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å¦‚æœ [.filename]#/usr/local/bin/Xwayland# æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼šÙ¯The development version of Xwayland is recommended and was most likely installed with the Wayland package.  Each compositor has a method of enabling or disabling this feature.Ù æ¨èä½¿ç”¨ Xwayland çš„å¼€å‘ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¾ˆå¯èƒ½å·²ç»éš Wayland è½¯ä»¶åŒ…ä¸€èµ·å®‰è£…ã€‚æ¯ä¸ªåˆæˆå™¨éƒ½æœ‰ä¸€ç§å¯ç”¨æˆ–ç¦ç”¨æ­¤åŠŸèƒ½çš„æ–¹æ³•ã€‚Ù¡Once `Xwayland` has been installed, configure it within the chosen compositor.  For Wayfire, the following line is required in the [.filename]#wayfire.ini# file:Ùä¸€æ—¦å®‰è£…äº† `Xwayland`ï¼Œè¯·åœ¨æ‰€é€‰çš„åˆæˆå™¨ä¸­è¿›è¡Œé…ç½®ã€‚å¯¹äº Wayfire æ¥è¯´ï¼Œåœ¨ [.filename]#wayfire.ini# æ–‡ä»¶ä¸­éœ€è¦æ·»åŠ ä»¥ä¸‹è¡Œï¼šÙ¿For the Sway compositor, `Xwayland` should be enabled by default.  Even so, it is recommened to manually add a configuration line in the [.filename]#~/.config/sway/config# like the following:Ù›å¯¹äº Sway åˆæˆå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹åº”å¯ç”¨ `Xwayland`ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå»ºè®®åœ¨ [.filename]#~/.config/sway/config# ä¸­æ‰‹åŠ¨æ·»åŠ ä»¥ä¸‹é…ç½®è¡Œï¼š°xwayland enable
±å¯ç”¨ XWayland 
ÙÎFinally, for Hikari, no changes are needed.  Support for `Xwayland` is build in by default.  To disable that support, rebuild the package from the ports collection and disable Xwayland support at that time.Ùèæœ€åï¼Œå¯¹äº Hikari æ¥è¯´ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå·²ç»å†…ç½®äº†å¯¹ `Xwayland` çš„æ”¯æŒã€‚è¦ç¦ç”¨è¯¥æ”¯æŒï¼Œå¯ä»¥ä» ports é›†åˆä¸­é‡æ–°æ„å»ºè¯¥è½¯ä»¶åŒ…ï¼Œå¹¶åœ¨é‚£æ—¶ç¦ç”¨ Xwayland æ”¯æŒã€‚ÚRAfter these changes are made, start the compositor at the command line and execute a terminal from the key bindings.  Within this terminal, issue the `env` command and search for the `DISPLAY` variables.  If the compositor was able to properly start the Xwayland X server, these environment variables should look similar to the following:Úåœ¨è¿›è¡Œè¿™äº›æ›´æ”¹åï¼Œé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨åˆæˆå™¨ï¼Œå¹¶ä»é”®ç»‘å®šä¸­æ‰§è¡Œä¸€ä¸ªç»ˆç«¯ã€‚åœ¨è¿™ä¸ªç»ˆç«¯ä¸­ï¼Œè¾“å…¥ `env` å‘½ä»¤å¹¶æœç´¢ `DISPLAY` å˜é‡ã€‚å¦‚æœåˆæˆå™¨èƒ½å¤Ÿæ­£ç¡®å¯åŠ¨ Xwayland X æœåŠ¡å™¨ï¼Œè¿™äº›ç¯å¢ƒå˜é‡åº”è¯¥ç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼šÚàIn this output, there is a default Wayland display and a display set for the Xwayland server.  Another method to verify that `Xwayland` is functioning properly is to use install and test the small package:[x11/eyes] and check the output.  If the `xeyes` application starts and the eyes follow the mouse pointer, Xwayland is functioning properly.  If an error such as the following is displayed, something happened during the `Xwayland` intitialization and it may need reinstalled:ÚÔåœ¨è¿™ä¸ªè¾“å‡ºä¸­ï¼Œæœ‰ä¸€ä¸ªé»˜è®¤çš„ Wayland æ˜¾ç¤ºå™¨å’Œä¸€ä¸ªä¸º Xwayland æœåŠ¡å™¨è®¾ç½®çš„æ˜¾ç¤ºå™¨ã€‚éªŒè¯ `Xwayland` æ˜¯å¦æ­£å¸¸å·¥ä½œçš„å¦ä¸€ç§æ–¹æ³•æ˜¯å®‰è£…å’Œæµ‹è¯•ä¸€ä¸ªå°åŒ… package:[x11/eyes]ï¼Œå¹¶æ£€æŸ¥è¾“å‡ºã€‚å¦‚æœ `xeyes` åº”ç”¨ç¨‹åºå¯åŠ¨å¹¶ä¸”çœ¼ç›è·Ÿéšé¼ æ ‡æŒ‡é’ˆç§»åŠ¨ï¼Œé‚£ä¹ˆ Xwayland æ­£å¸¸å·¥ä½œã€‚å¦‚æœæ˜¾ç¤ºäº†ä»¥ä¸‹é”™è¯¯æˆ–ç±»ä¼¼é”™è¯¯ï¼Œåˆ™åœ¨ `Xwayland` åˆå§‹åŒ–è¿‡ç¨‹ä¸­å‘ç”Ÿäº†æŸäº›é—®é¢˜ï¼Œå¯èƒ½éœ€è¦é‡æ–°å®‰è£…ï¼šÙÄA security feature of Wayland is that, without running an X server, there is not another network listener.  Once `Xwayland` is enabled, this security feature is no longer applicable to the system.ÙµWayland çš„ä¸€ä¸ªå®‰å…¨ç‰¹æ€§æ˜¯ï¼Œåœ¨æ²¡æœ‰è¿è¡Œ X æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å…¶ä»–ç½‘ç»œç›‘å¬å™¨ã€‚ä¸€æ—¦å¯ç”¨äº† `Xwayland`ï¼Œè¿™ä¸ªå®‰å…¨ç‰¹æ€§å¯¹ç³»ç»Ÿå°±ä¸å†é€‚ç”¨ã€‚Ù¦For some compositors, such as Wayfire, `Xwayland` may not start properly.  As such, `env` will show the following information for the `DISPLAY` environment variables:Ùå¯¹äºä¸€äº›å¤åˆå™¨ï¼Œæ¯”å¦‚ Wayfireï¼Œ`Xwayland` å¯èƒ½æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚å› æ­¤ï¼Œ`env` å°†æ˜¾ç¤º `DISPLAY` ç¯å¢ƒå˜é‡çš„ä»¥ä¸‹ä¿¡æ¯ï¼šÚ*Even though `Xwayfire` was installed and configured, X11 applications will not start giving a display issue.  To work around this, verify that there is already an instance of `Xwayland` using a UNIX socket through these two methods.  First, check the output from `sockstat` and search for X11-unix:Ú"å°½ç®¡å·²ç»å®‰è£…å’Œé…ç½®äº† `Xwayfire`ï¼Œä½† X11 åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ï¼Œå‡ºç°æ˜¾ç¤ºé—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹æ³•éªŒè¯æ˜¯å¦å·²ç»å­˜åœ¨ä¸€ä¸ªä½¿ç”¨ UNIX å¥—æ¥å­—çš„ `Xwayland` å®ä¾‹ã€‚é¦–å…ˆï¼Œæ£€æŸ¥ `sockstat` çš„è¾“å‡ºï¼Œå¹¶æœç´¢ X11-unix:Ù?There should be something similar to the following information:Ù'åº”è¯¥æœ‰ç±»ä¼¼ä»¥ä¸‹ä¿¡æ¯çš„å†…å®¹ï¼šÙ±This suggests the existence of an X11 socket.  This can be further verified by attempting to execute `Xwayland` manually within a terminal emulator running under the compositor:Ùè¿™è¡¨æ˜å­˜åœ¨ä¸€ä¸ª X11 å¥—æ¥å­—ã€‚å¯ä»¥é€šè¿‡åœ¨åˆæˆå™¨ä¸‹è¿è¡Œçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸­å°è¯•æ‰‹åŠ¨æ‰§è¡Œ `Xwayland` æ¥è¿›ä¸€æ­¥éªŒè¯ï¼šÙ[If an X11 socket is already available, the following error should be presented to the user:ÙMå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ª X11 å¥—æ¥å­—ï¼Œåˆ™åº”å‘ç”¨æˆ·æ˜¾ç¤ºä»¥ä¸‹é”™è¯¯ï¼šÚLSince there is an active X display available using display zero, the environment variable was just set improperly, to fix this, change the `DISPLAY` environment variable to `:0` and attempt to execute the application again.  The following example uses package:mail/claws-mail[] as the application which needs the `Xwayland` service:Ú,ç”±äºå­˜åœ¨ä¸€ä¸ªå¯ç”¨çš„æ´»åŠ¨ X æ˜¾ç¤ºå™¨ï¼Œä½¿ç”¨æ˜¾ç¤ºå™¨é›¶ï¼Œç¯å¢ƒå˜é‡è®¾ç½®ä¸æ­£ç¡®ï¼Œè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°† `DISPLAY` ç¯å¢ƒå˜é‡æ›´æ”¹ä¸º `:0`ï¼Œç„¶åå°è¯•å†æ¬¡æ‰§è¡Œåº”ç”¨ç¨‹åºã€‚ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ `package:mail/claws-mail[]` ä½œä¸ºéœ€è¦ `Xwayland` æœåŠ¡çš„åº”ç”¨ç¨‹åºï¼šÙxAfter this change, the package:mail/claws-mail[] application should now start using `Xwayland` and function as expected.Ùtåœ¨è¿™ä¸ªæ”¹å˜ä¹‹åï¼Œpackage:mail/claws-mail[] åº”ç”¨ç¨‹åºç°åœ¨åº”è¯¥å¼€å§‹ä½¿ç”¨ `Xwayland` å¹¶æ­£å¸¸å·¥ä½œã€‚¸Remote Desktop Using VNCÙ#ä½¿ç”¨ VNC è¿›è¡Œè¿œç¨‹æ¡Œé¢è®¿é—®Ú{Earlier in this document it was noted that Wayland does not provide the same X server style access as Xorg provides.  Instead, users are free to pick and choose a remote desktop protocol such as RDP or VNC.  The FreeBSD Ports collection includes the `wayvnc`, which will support wlroots based compositors such as the ones discussed here.  This application may be installed using:ÚXåœ¨æœ¬æ–‡æ¡£ä¸­æ—©äº›æ—¶å€™å·²ç»æŒ‡å‡ºï¼Œ Wayland ä¸åƒ Xorg æä¾›ç›¸åŒçš„ X æœåŠ¡å™¨æ ·å¼è®¿é—®ã€‚ç›¸åï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©è¿œç¨‹æ¡Œé¢åè®®ï¼Œå¦‚ RDP æˆ– VNCã€‚FreeBSD Ports é›†åˆä¸­åŒ…æ‹¬ `wayvnc`ï¼Œå®ƒå°†æ”¯æŒåŸºäº wlroots çš„åˆæˆå™¨ï¼Œä¾‹å¦‚åœ¨è¿™é‡Œè®¨è®ºçš„åˆæˆå™¨ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ­¤åº”ç”¨ç¨‹åºï¼šÙÉUnlike some other packages, `wayvnc` does not come with a configuration file.  Thankfully, the manual page documents the important options and they may be extrapolated into a simple configuration file:Ù´ä¸å…¶ä»–ä¸€äº›è½¯ä»¶åŒ…ä¸åŒï¼Œ`wayvnc` ä¸æä¾›é…ç½®æ–‡ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ‰‹å†Œé¡µé¢è®°å½•äº†é‡è¦çš„é€‰é¡¹ï¼Œå¹¶ä¸”å¯ä»¥å°†å®ƒä»¬æ¨å¯¼æˆä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ï¼šÚ‚The key files will need to be generated, and it is highly recommended they be used for increased security of the connection.  When invoked, wayvnc will search for the configuration file in [.filename]#~/.config/wayvnc/config#.  This could be overwritten using the `-C configuration_file` option when starting the server.  Thus, to start the `wayvnc` server, issue the following command:Ú@éœ€è¦ç”Ÿæˆå¯†é’¥æ–‡ä»¶ï¼Œå¹¶å¼ºçƒˆå»ºè®®ä½¿ç”¨å®ƒä»¬ä»¥å¢åŠ è¿æ¥çš„å®‰å…¨æ€§ã€‚å½“è°ƒç”¨æ—¶ï¼Œwayvnc å°†åœ¨ [.filename]#~/.config/wayvnc/config# ä¸­æœç´¢é…ç½®æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨ `-C configuration_file` é€‰é¡¹åœ¨å¯åŠ¨æœåŠ¡å™¨æ—¶è¦†ç›–è¯¥æ–‡ä»¶ã€‚å› æ­¤ï¼Œè¦å¯åŠ¨ `wayvnc` æœåŠ¡å™¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙîAt the time of this writing, there is no rc.d script to start `wayvnc` on system initialization.  If that functionality is desired, a local startup file will need to be created.  This is probably a feature request for the port maintainer.ÙÆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œç³»ç»Ÿåˆå§‹åŒ–æ—¶æ²¡æœ‰ rc.d è„šæœ¬æ¥å¯åŠ¨ `wayvnc`ã€‚å¦‚æœéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæœ¬åœ°å¯åŠ¨æ–‡ä»¶ã€‚è¿™å¯èƒ½æ˜¯å¯¹ç«¯å£ç»´æŠ¤è€…çš„ä¸€ä¸ªåŠŸèƒ½è¯·æ±‚ã€‚µWayland Login Manager·Wayland ç™»å½•ç®¡ç†å™¨Ú=While several login managers exist and are slowly migrating to Wayland, one option is the package:x11/ly[] text user interface (TUI) manager.  Needing minimal configuration, `ly` will start Sway, Wayfire, and others by presenting a login window on system initialization.  To install `ly`, issue the following command:ÚHè™½ç„¶å­˜åœ¨å¤šä¸ªç™»å½•ç®¡ç†å™¨ï¼Œå¹¶ä¸”æ­£åœ¨é€æ¸è¿ç§»åˆ° Waylandï¼Œä½†å…¶ä¸­ä¸€ä¸ªé€‰æ‹©æ˜¯ package:x11/ly[] ä¸­çš„æ–‡æœ¬ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼‰ç®¡ç†å™¨ã€‚`ly` åªéœ€è¦æœ€å°‘çš„é…ç½®ï¼Œå®ƒä¼šåœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶æ˜¾ç¤ºä¸€ä¸ªç™»å½•çª—å£æ¥å¯åŠ¨ Swayã€Wayfire ç­‰æ¡Œé¢ç¯å¢ƒã€‚è¦å®‰è£… `ly`ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ€There will be some configuration hints presented, the import steps are to add the following lines to [.filename]#/etc/gettytab#:Ùmå°†ä¼šæä¾›ä¸€äº›é…ç½®æç¤ºï¼Œå¯¼å…¥æ­¥éª¤æ˜¯å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ° [.filename]#/etc/gettytab# æ–‡ä»¶ä¸­ï¼šÙUAnd then modify the ttyv1 line in [.filename]#/etc/ttys# to match the following line:ÙRç„¶ååœ¨ [.filename]#/etc/ttys# ä¸­ä¿®æ”¹ ttyv1 è¡Œï¼Œä½¿å…¶ä¸ä»¥ä¸‹è¡ŒåŒ¹é…ï¼šÚAfter a system reboot, a login should appear.  To configure specific settings, such as language and edit [.filename]#/usr/local/etc/ly/config.ini#.  At minimal, this file should have the designated tty that was previously specified in [.filename]#/etc/ttys#.Ùåç³»ç»Ÿé‡æ–°å¯åŠ¨åï¼Œåº”è¯¥å‡ºç°ç™»å½•ç•Œé¢ã€‚è¦é…ç½®ç‰¹å®šçš„è®¾ç½®ï¼Œä¾‹å¦‚è¯­è¨€å’Œç¼–è¾‘ [.filename]#/usr/local/etc/ly/config.ini# ã€‚è‡³å°‘ï¼Œè¿™ä¸ªæ–‡ä»¶åº”è¯¥æœ‰ä¹‹å‰åœ¨ [.filename]#/etc/ttys# ä¸­æŒ‡å®šçš„ç»ˆç«¯ã€‚ÙˆIf setting ttyv0 up as the login terminal, it may be required to press the kbd:[alt] and kbd:[F1] keys to properly see the login window.Ùvå¦‚æœå°† ttyv0 è®¾ç½®ä¸ºç™»å½•ç»ˆç«¯ï¼Œå¯èƒ½éœ€è¦æŒ‰ä¸‹ kbd:[alt] å’Œ kbd:[F1] é”®æ‰èƒ½æ­£ç¡®æ˜¾ç¤ºç™»å½•çª—å£ã€‚ÙwWhen the login window appears, using the left and right arrows will swap through different, supported, window managers.Ùcå½“ç™»å½•çª—å£å‡ºç°æ—¶ï¼Œä½¿ç”¨å·¦å³ç®­å¤´å¯ä»¥åœ¨ä¸åŒæ”¯æŒçš„çª—å£ç®¡ç†å™¨ä¹‹é—´åˆ‡æ¢ã€‚°Useful Utilities¯æœ‰ç”¨çš„å·¥å…·Ú€One useful Wayland utility which all compositors can make use of is the waybar.  While Wayfire does come with a launch menu, an easy-to-use and fast taskbar is a good accessory for any compositor or desktop manager.  A Wayland compatible taskbar that is fast and easy to configure is waybar.  To install the package and a supporting audio control utility, issue the following command:Ú‘æ‰€æœ‰åˆæˆå™¨éƒ½å¯ä»¥ä½¿ç”¨çš„ä¸€ä¸ªæœ‰ç”¨çš„ Wayland å®ç”¨ç¨‹åºæ˜¯ waybarã€‚è™½ç„¶ Wayfire å¸¦æœ‰ä¸€ä¸ªå¯åŠ¨èœå•ï¼Œä½†ä¸€ä¸ªæ˜“äºä½¿ç”¨å’Œå¿«é€Ÿçš„ä»»åŠ¡æ å¯¹äºä»»ä½•åˆæˆå™¨æˆ–æ¡Œé¢ç®¡ç†å™¨æ¥è¯´éƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é™„ä»¶ã€‚ä¸€ä¸ªå¿«é€Ÿä¸”æ˜“äºé…ç½®çš„ Wayland å…¼å®¹çš„ä»»åŠ¡æ æ˜¯ waybarã€‚è¦å®‰è£…è¯¥è½¯ä»¶åŒ…å’Œä¸€ä¸ªæ”¯æŒéŸ³é¢‘æ§åˆ¶çš„å®ç”¨ç¨‹åºï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙqTo create the configuration directory and copy over a default configuration file, execute the following commands:ÙKè¦åˆ›å»ºé…ç½®ç›®å½•å¹¶å¤åˆ¶é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙµThe `lavalauncher` utility provides a launch bar for various applications.  There is no example configuration file provided with the package, so the following actions must be taken:Ù™`lavalauncher` å®ç”¨ç¨‹åºä¸ºå„ç§åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå¯åŠ¨æ ã€‚è½¯ä»¶åŒ…ä¸­æ²¡æœ‰æä¾›ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼Œå› æ­¤å¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼šÙ_An example configuration file that only includes Firefox, and is placed on the right, is below:ÙQä¸‹é¢æ˜¯ä¸€ä¸ªåªåŒ…å« Firefox çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¾ç½®åœ¨å³ä¾§ï¼šÙ›This chapter delves into the topic of network configuration and performance, showcasing the robust networking capabilities of the FreeBSD operating system.Ùlæœ¬ç« æ·±å…¥æ¢è®¨äº†ç½‘ç»œé…ç½®å’Œæ€§èƒ½çš„ä¸»é¢˜ï¼Œå±•ç¤ºäº† FreeBSD æ“ä½œç³»ç»Ÿå¼ºå¤§çš„ç½‘ç»œèƒ½åŠ›ã€‚²Chapter 7. Network°ç¬¬ 7 ç«  ç½‘ç»œ§Network¦ç½‘ç»œÚ8This chapter delves into the topic of network configuration and performance, showcasing the robust networking capabilities of the FreeBSD operating system.  Whether working with wired or wireless networks, this chapter provides a comprehensive guide to configuring and optimizing network connectivity in FreeBSD.Ùùæœ¬ç« æ·±å…¥æ¢è®¨äº†ç½‘ç»œé…ç½®å’Œæ€§èƒ½çš„ä¸»é¢˜ï¼Œå±•ç¤ºäº† FreeBSD æ“ä½œç³»ç»Ÿå¼ºå¤§çš„ç½‘ç»œèƒ½åŠ›ã€‚æ— è®ºæ˜¯ä½¿ç”¨æœ‰çº¿ç½‘ç»œè¿˜æ˜¯æ— çº¿ç½‘ç»œï¼Œæœ¬ç« æä¾›äº†ä¸€ä¸ªå…¨é¢çš„æŒ‡å—ï¼Œå¸®åŠ©æ‚¨åœ¨ FreeBSD ä¸­é…ç½®å’Œä¼˜åŒ–ç½‘ç»œè¿æ¥ã€‚Ù¨Before diving into the details, it is beneficial for readers to have a basic understanding of networking concepts such as protocols, network interfaces, and addressing.Ùuåœ¨æ·±å…¥äº†è§£ç»†èŠ‚ä¹‹å‰ï¼Œè¯»è€…å¯¹ç½‘ç»œæ¦‚å¿µå¦‚åè®®ã€ç½‘ç»œæ¥å£å’Œå¯»å€æœ‰åŸºæœ¬çš„äº†è§£æ˜¯æœ‰ç›Šçš„ã€‚´This chapter covers:µæœ¬ç« å†…å®¹åŒ…æ‹¬ï¼šÙ}The ability to configure wired networks in FreeBSD, including network interface setup, addressing, and customization options.Ù`åœ¨ FreeBSD ä¸­é…ç½®æœ‰çº¿ç½‘ç»œçš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬ç½‘ç»œæ¥å£è®¾ç½®ã€å¯»å€å’Œå®šåˆ¶é€‰é¡¹ã€‚Ù˜The skills to configure wireless networks in FreeBSD, encompassing wireless network interface setup, security protocols, and troubleshooting techniques.Ùråœ¨ FreeBSD ä¸­é…ç½®æ— çº¿ç½‘ç»œçš„æŠ€èƒ½ï¼ŒåŒ…æ‹¬æ— çº¿ç½‘ç»œæ¥å£è®¾ç½®ã€å®‰å…¨åè®®å’Œæ•…éšœæ’é™¤æŠ€æœ¯ã€‚ÙWFreeBSD's networking capabilities and its reputation for excellent network performance.ÙGFreeBSD çš„ç½‘ç»œèƒ½åŠ›ä»¥åŠå…¶åœ¨ä¼˜ç§€ç½‘ç»œæ€§èƒ½æ–¹é¢çš„å£°èª‰ã€‚ÙˆAn understanding of various network services and protocols supported by FreeBSD, with configuration instructions for DNS, DHCP and more.Ùfå¯¹äº FreeBSD æ”¯æŒçš„å„ç§ç½‘ç»œæœåŠ¡å’Œåè®®çš„ç†è§£ï¼ŒåŒ…æ‹¬ DNSã€DHCP ç­‰çš„é…ç½®è¯´æ˜ã€‚ÙŒMore information about how to make advanced network configurations in crossref:advanced-networking[advanced-networking,Advanced Networking].Ù‚æœ‰å…³å¦‚ä½•è¿›è¡Œé«˜çº§ç½‘ç»œé…ç½®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… crossref:advanced-networking[advanced-networking, é«˜çº§ç½‘ç»œ]ã€‚¶Setting up the Network¬è®¾ç½®ç½‘ç»œÙ¹Setting up a wired or wireless connection is a common task for a FreeBSD user.  This section will show how to identify the wired and wireless network adapters and how to configure them.Ùœä¸º FreeBSD ç”¨æˆ·è®¾ç½®æœ‰çº¿æˆ–æ— çº¿è¿æ¥æ˜¯ä¸€ä¸ªå¸¸è§çš„ä»»åŠ¡ã€‚æœ¬èŠ‚å°†å±•ç¤ºå¦‚ä½•è¯†åˆ«æœ‰çº¿å’Œæ— çº¿ç½‘ç»œé€‚é…å™¨ä»¥åŠå¦‚ä½•é…ç½®å®ƒä»¬ã€‚ÙZBefore starting with the configuration it is necessary to know the following network data:Ù9åœ¨å¼€å§‹é…ç½®ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹ç½‘ç»œæ•°æ®ï¼š·If the network has DHCP·å¦‚æœç½‘ç»œä½¿ç”¨ DHCPÙ;If the network does not have DHCP, the static IP to be usedÙ0å¦‚æœç½‘ç»œæ²¡æœ‰ DHCPï¼Œåˆ™ä½¿ç”¨é™æ€ IP ã€‚«The netmask¬å­ç½‘æ©ç Ù%The IP address of the default gateway¹é»˜è®¤ç½‘å…³çš„ IP åœ°å€ÙZThe network connection may have been configured at installation time by man:bsdinstall[8].ÙCç½‘ç»œè¿æ¥å¯èƒ½åœ¨å®‰è£…æ—¶ç”± man:bsdinstall[8] è¿›è¡Œé…ç½®ã€‚¹Identify Network Adaptersµè¯†åˆ«ç½‘ç»œé€‚é…å™¨ÙñFreeBSD supports a wide variety of network adapters for both wired and wireless networks.  Check the Hardware Compatibility List for the used link:https://www.freebsd.org/releases/[FreeBSD release] to see if the network adapter is supported.ÙÖFreeBSD æ”¯æŒå„ç§æœ‰çº¿å’Œæ— çº¿ç½‘ç»œé€‚é…å™¨ã€‚è¯·æŸ¥çœ‹æ‰€ä½¿ç”¨çš„ FreeBSD ç‰ˆæœ¬çš„ç¡¬ä»¶å…¼å®¹æ€§åˆ—è¡¨ link:https://www.freebsd.org/releases/[FreeBSD release]ï¼Œä»¥æŸ¥çœ‹ç½‘ç»œé€‚é…å™¨æ˜¯å¦å—æ”¯æŒã€‚ÙMTo get the network adapters used by our system execute the following command:ÙHè¦è·å–æˆ‘ä»¬ç³»ç»Ÿä½¿ç”¨çš„ç½‘ç»œé€‚é…å™¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ‚The text before the '@' symbol is the name of the driver controlling the device.  In this case these are man:em[4] and man:iwn[4].Ùåœ¨ '@' ç¬¦å·ä¹‹å‰çš„æ–‡æœ¬æ˜¯æ§åˆ¶è®¾å¤‡çš„é©±åŠ¨ç¨‹åºçš„åç§°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯ man:em[4] å’Œ man:iwn[4]ã€‚¼Shows the name of the vendor¸æ˜¾ç¤ºä¾›åº”å•†çš„åç§°¼Shows the name of the deviceµæ˜¾ç¤ºè®¾å¤‡çš„åç§°ÙhIt is only necessary to load the network interface card module if FreeBSD has not detected it correctly.ÙWåªæœ‰åœ¨ FreeBSD æ²¡æœ‰æ­£ç¡®æ£€æµ‹åˆ°ç½‘ç»œæ¥å£å¡æ—¶ï¼Œæ‰éœ€è¦åŠ è½½è¯¥æ¨¡å—ã€‚ÙJFor example, to load the man:alc[4] module, execute the following command:Ù?ä¾‹å¦‚ï¼Œè¦åŠ è½½ man:alc[4] æ¨¡å—ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙwAlternatively, to load the driver as a module at boot time, place the following line in [.filename]#/boot/loader.conf#:Ùwæˆ–è€…ï¼Œè¦åœ¨å¯åŠ¨æ—¶å°†é©±åŠ¨ç¨‹åºåŠ è½½ä¸ºæ¨¡å—ï¼Œè¯·å°†ä»¥ä¸‹è¡Œæ”¾ç½®åœ¨ [.filename]#/boot/loader.conf# ä¸­ï¼š®Wired Networks¬æœ‰çº¿ç½‘ç»œÚOnce the right driver is loaded the network adapter needs to be configured.  FreeBSD uses the driver name followed by a unit number to name the network interface adapter.  The unit number represents the order in which the adapter is detected at boot time, or is later discovered.Ùşä¸€æ—¦æ­£ç¡®çš„é©±åŠ¨ç¨‹åºåŠ è½½å®Œæˆï¼Œéœ€è¦é…ç½®ç½‘ç»œé€‚é…å™¨ã€‚FreeBSD ä½¿ç”¨é©±åŠ¨ç¨‹åºåç§°åè·Ÿä¸€ä¸ªå•å…ƒå·æ¥å‘½åç½‘ç»œæ¥å£é€‚é…å™¨ã€‚å•å…ƒå·è¡¨ç¤ºé€‚é…å™¨åœ¨å¼•å¯¼æ—¶è¢«æ£€æµ‹åˆ°çš„é¡ºåºï¼Œæˆ–è€…æ˜¯ç¨åè¢«å‘ç°çš„é¡ºåºã€‚ÙfFor example, `em0` is the first network interface card (NIC) on the system using the man:em[4] driver.Ù_ä¾‹å¦‚ï¼Œ`em0` æ˜¯ç³»ç»Ÿä¸Šä½¿ç”¨ man:em[4] é©±åŠ¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªç½‘ç»œæ¥å£å¡ï¼ˆNICï¼‰ã€‚ÙLTo display the network interface configuration, enter the following command:Ù6è¦æ˜¾ç¤ºç½‘ç»œæ¥å£é…ç½®ï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼šÙ6In this example, the following devices were displayed:Ù-åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ˜¾ç¤ºäº†ä»¥ä¸‹è®¾å¤‡ï¼š¾`em0`: The Ethernet interface.º`em0`ï¼šä»¥å¤ªç½‘æ¥å£ã€‚Ù³`lo0`: The loop interface is a software loopback mechanism which may be used for performance analysis, software testing, and/or local communication. More information in man:lo[4].Ù“`lo0`ï¼šå›ç¯æ¥å£æ˜¯ä¸€ç§è½¯ä»¶ç¯å›æœºåˆ¶ï¼Œå¯ç”¨äºæ€§èƒ½åˆ†æã€è½¯ä»¶æµ‹è¯•æˆ–æœ¬åœ°é€šä¿¡ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:lo[4]ã€‚Ù/The example shows that `em0` is up and running.Ù1è¿™ä¸ªä¾‹å­æ˜¾ç¤º `em0` å·²ç»å¯åŠ¨å¹¶è¿è¡Œã€‚·The key indicators are:µå…³é”®æŒ‡æ ‡åŒ…æ‹¬ï¼šÙ6`UP` means that the interface is configured and ready.Ù,`UP` è¡¨ç¤ºæ¥å£å·²é…ç½®å¹¶å‡†å¤‡å°±ç»ªã€‚ÙDThe interface has an IPv4 Internet (`inet`) address, `192.168.1.19`.ÙIè¯¥æ¥å£å…·æœ‰ä¸€ä¸ª IPv4 Internetï¼ˆ`inet`ï¼‰åœ°å€ï¼Œ`192.168.1.19`ã€‚ÙUThe interface has an IPv6 Internet (`inet6`) address, `fe80::21f:16ff:fe0f:275a%em0`.Ù[è¯¥æ¥å£å…·æœ‰ä¸€ä¸ª IPv6 Internetï¼ˆ`inet6`ï¼‰åœ°å€ï¼Œ`fe80::21f:16ff:fe0f:275a%em0` ã€‚ÙZIt has a valid subnet mask (`netmask`), where `0xffffff00` is the same as `255.255.255.0`.Ùaå®ƒå…·æœ‰æœ‰æ•ˆçš„å­ç½‘æ©ç ï¼ˆ`netmask`ï¼‰ï¼Œå…¶ä¸­ `0xffffff00` ä¸ `255.255.255.0` ç›¸åŒã€‚Ù2It has a valid broadcast address, `192.168.1.255`.Ù3å®ƒå…·æœ‰æœ‰æ•ˆçš„å¹¿æ’­åœ°å€ï¼Œ`192.168.1.255`ã€‚ÙBThe MAC address of the interface (`ether`) is `00:1f:16:0f:27:5a`.Ù;æ¥å£ï¼ˆ`ether`ï¼‰çš„ MAC åœ°å€æ˜¯ `00:1f:16:0f:27:5a`ã€‚ÙoThe physical media selection is on autoselection mode (`media: Ethernet autoselect (1000baseT <full-duplex>)`).Ùiç‰©ç†åª’ä½“é€‰æ‹©å¤„äºè‡ªåŠ¨é€‰æ‹©æ¨¡å¼ï¼ˆ`media: Ethernet autoselect (1000baseT <full-duplex>)`ï¼‰ã€‚ÙÍThe status of the link (`status`) is `active`, indicating that the carrier signal is detected. For `em0`, the `status: no carrier` status is normal when an Ethernet cable is not plugged into the interface.Ùªé“¾æ¥çš„çŠ¶æ€ï¼ˆ`status`ï¼‰ä¸º `active`ï¼Œè¡¨ç¤ºæ£€æµ‹åˆ°è½½æ³¢ä¿¡å·ã€‚å¯¹äº `em0`ï¼Œå½“ä»¥å¤ªç½‘ç”µç¼†æœªæ’å…¥æ¥å£æ—¶ï¼Œ`status: no carrier` çŠ¶æ€æ˜¯æ­£å¸¸çš„ã€‚Ù…If the man:ifconfig[8] output had shown something similar to the next output it would indicate the interface has not been configured:Ùnå¦‚æœ man:ifconfig[8] å‘½ä»¤çš„è¾“å‡ºç»“æœä¸ä¸‹é¢çš„è¾“å‡ºç»“æœç±»ä¼¼ï¼Œé‚£ä¹ˆè¯´æ˜æ¥å£å°šæœªé…ç½®ï¼š¿Configuring Static IPv4 Address¸é…ç½®é™æ€ IPv4 åœ°å€ÙWThis section provides a guide to configuring a static IPv4 address on a FreeBSD system.ÙHæœ¬èŠ‚æä¾›äº†åœ¨ FreeBSD ç³»ç»Ÿä¸Šé…ç½®é™æ€ IPv4 åœ°å€çš„æŒ‡å—ã€‚ÙÍThe network interface card configuration can be performed from the command line with man:ifconfig[8] but will not persist after a reboot unless the configuration is also added to [.filename]#/etc/rc.conf#.Ùªå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œçš„ man:ifconfig[8] æ¥é…ç½®ç½‘ç»œæ¥å£å¡ï¼Œä½†æ˜¯å¦‚æœä¸å°†é…ç½®æ·»åŠ åˆ° [.filename]#/etc/rc.conf# ä¸­ï¼Œé…ç½®åœ¨é‡å¯åå°†ä¸ä¼šä¿ç•™ã€‚ÙÙIf the network was configured during installation by man:bsdinstall[8], some entries for the network interface card (NICs) may be already present.  Double check [.filename]#/etc/rc.conf# before executing man:sysrc[8].ÙÎå¦‚æœç½‘ç»œåœ¨å®‰è£…è¿‡ç¨‹ä¸­ç”± man:bsdinstall[8] è¿›è¡Œé…ç½®ï¼Œåˆ™å¯èƒ½å·²ç»å­˜åœ¨ä¸€äº›ç½‘ç»œæ¥å£å¡ï¼ˆNICï¼‰çš„æ¡ç›®ã€‚åœ¨æ‰§è¡Œ man:sysrc[8] ä¹‹å‰ï¼Œè¯·ä»”ç»†æ£€æŸ¥ [.filename]#/etc/rc.conf#ã€‚Ù:The IP address can be set executing the following command:Ù4å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½® IP åœ°å€ï¼šÙHTo make the change persist across reboots execute the following command:ÙEè¦ä½¿æ›´æ”¹åœ¨é‡æ–°å¯åŠ¨åä¿æŒç”Ÿæ•ˆï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ7Add the default router executing the following command:Ù*æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ é»˜è®¤è·¯ç”±å™¨ï¼šÙ5Add the DNS records to [.filename]#/etc/resolv.conf#:Ù7å°† DNS è®°å½•æ·»åŠ åˆ° [/etc/resolv.conf] æ–‡ä»¶ä¸­ï¼šÙCThen restart `netif` and `routing` executing the following command:Ù=ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°å¯åŠ¨ `netif` å’Œ `routing`ï¼šÙ/The connection can be tested using man:ping[8]:Ù+å¯ä»¥ä½¿ç”¨ man:ping[8] æ¥æµ‹è¯•è¿æ¥ã€‚Ù Configuring Dynamic IPv4 Address¸é…ç½®åŠ¨æ€ IPv4 åœ°å€ÙëIf the network has a DHCP server, it is very easy to configure the network interface to use DHCP.  FreeBSD uses man:dhclient[8] as the DHCP client.  man:dhclient[8] will automatically provide the IP, the netmask and the default router.ÙÙå¦‚æœç½‘ç»œæœ‰ä¸€ä¸ª DHCP æœåŠ¡å™¨ï¼Œé…ç½®ç½‘ç»œæ¥å£ä½¿ç”¨ DHCP éå¸¸ç®€å•ã€‚FreeBSD ä½¿ç”¨ man:dhclient[8] ä½œä¸º DHCP å®¢æˆ·ç«¯ã€‚ man:dhclient[8] ä¼šè‡ªåŠ¨æä¾› IP åœ°å€ã€å­ç½‘æ©ç å’Œé»˜è®¤è·¯ç”±å™¨ã€‚ÙCTo make the interface work with DHCP execute the following command:Ù<è¦ä½¿æ¥å£ä¸ DHCP é…åˆå·¥ä½œï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙFman:dhclient[8] can be used manually by running the following command:Ù=man:dhclient[8] å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨ä½¿ç”¨ï¼šÙVIn this way it can be verified that the address assignment using DHCP works correctly.ÙQé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥éªŒè¯ä½¿ç”¨ DHCP è¿›è¡Œåœ°å€åˆ†é…æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚Ù²man:dhclient[8] client can be started in background.  This can cause trouble with applications depending on a working network, but it will provide a faster startup in many cases.Ùµman:dhclient[8] å®¢æˆ·ç«¯å¯ä»¥åœ¨åå°å¯åŠ¨ã€‚è¿™å¯èƒ½ä¼šå¯¹ä¾èµ–äºæ­£å¸¸å·¥ä½œç½‘ç»œçš„åº”ç”¨ç¨‹åºé€ æˆéº»çƒ¦ï¼Œä½†åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå®ƒå°†æä¾›æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦ã€‚ÙGTo execute man:dhclient[8] in background execute the following command:Ù=è¦åœ¨åå°æ‰§è¡Œ man:dhclient[8]ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ5Then restart `netif` executing the following command:Ù/ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°å¯åŠ¨ `netif`ï¼šÙJIPv6 is the new version of the well-known IP protocol, also known as IPv4.ÙDIPv6 æ˜¯å¹¿ä¸ºäººçŸ¥çš„ IP åè®®çš„æ–°ç‰ˆæœ¬ï¼Œä¹Ÿè¢«ç§°ä¸º IPv4ã€‚ÙHIPv6 provides several advantages over IPv4 as well as many new features:ÙDIPv6 ç›¸æ¯” IPv4 æä¾›äº†å‡ ä¸ªä¼˜åŠ¿ï¼Œä»¥åŠè®¸å¤šæ–°çš„åŠŸèƒ½ï¼šÙ²Its 128-bit address space allows for 340,282,366,920,938,463,463,374,607,431,768,211,456 addresses. This addresses the IPv4 address shortage and eventual IPv4 address exhaustion.Ù¬å®ƒçš„ 128 ä½åœ°å€ç©ºé—´å…è®¸æ‹¥æœ‰ 340,282,366,920,938,463,463,374,607,431,768,211,456 ä¸ªåœ°å€ã€‚è¿™è§£å†³äº† IPv4 åœ°å€çŸ­ç¼ºå’Œæœ€ç»ˆçš„ IPv4 åœ°å€è€—å°½é—®é¢˜ã€‚ÚwRouters only store network aggregation addresses in their routing tables, thus reducing the average space of a routing table to 8192 entries. This addresses the scalability issues associated with IPv4, which required every allocated block of IPv4 addresses to be exchanged between Internet routers, causing their routing tables to become too large to allow efficient routing.ÚGè·¯ç”±å™¨åªåœ¨å…¶è·¯ç”±è¡¨ä¸­å­˜å‚¨ç½‘ç»œèšåˆåœ°å€ï¼Œä»è€Œå°†è·¯ç”±è¡¨çš„å¹³å‡ç©ºé—´å‡å°‘åˆ° 8192 ä¸ªæ¡ç›®ã€‚è¿™è§£å†³äº†ä¸ IPv4 ç›¸å…³çš„å¯æ‰©å±•æ€§é—®é¢˜ï¼Œå› ä¸º IPv4 è¦æ±‚æ¯ä¸ªåˆ†é…çš„ IPv4 åœ°å€å—åœ¨äº’è”ç½‘è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œäº¤æ¢ï¼Œå¯¼è‡´å®ƒä»¬çš„è·¯ç”±è¡¨å˜å¾—è¿‡å¤§ï¼Œæ— æ³•å®ç°é«˜æ•ˆçš„è·¯ç”±ã€‚ÙIAddress autoconfiguration (http://www.ietf.org/rfc/rfc2462.txt[RFC2462]).ÙAåœ°å€è‡ªåŠ¨é…ç½® (http://www.ietf.org/rfc/rfc2462.txt[RFC2462])¾Mandatory multicast addresses.¸å¼ºåˆ¶æ€§å¤šæ’­åœ°å€ã€‚½Built-in IPsec (IP security).Ù å†…ç½® IPsecï¼ˆIP securityï¼‰ã€‚¼Simplified header structure.¸ç®€åŒ–çš„æ ‡é¢˜ç»“æ„ã€‚¶Support for mobile IP.²æ”¯æŒç§»åŠ¨ IPã€‚Ù#IPv6-to-IPv4 transition mechanisms.Ù IPv6 åˆ° IPv4 çš„è¿‡æ¸¡æœºåˆ¶ã€‚ÙƒFreeBSD includes the http://www.kame.net/[KAME project] IPv6 reference implementation and comes with everything needed to use IPv6.ÙuFreeBSD åŒ…å«äº† http://www.kame.net/[KAME é¡¹ç›®] IPv6 å‚è€ƒå®ç°ï¼Œå¹¶ä¸”æä¾›äº†ä½¿ç”¨ IPv6 æ‰€éœ€çš„ä¸€åˆ‡ã€‚Ù<This section focuses on getting IPv6 configured and running.Ù/æœ¬èŠ‚é‡ç‚¹ä»‹ç»å¦‚ä½•é…ç½®å’Œè¿è¡Œ IPv6ã€‚Ù2There are three different types of IPv6 addresses:Ù&IPv6 åœ°å€æœ‰ä¸‰ç§ä¸åŒçš„ç±»å‹ï¼š§Unicast¦å•æ’­ÙUA packet sent to a unicast address arrives at the interface belonging to the address.ÙEå‘é€åˆ°å•æ’­åœ°å€çš„æ•°æ®åŒ…åˆ°è¾¾ä¸è¯¥åœ°å€ç›¸å…³çš„æ¥å£ã€‚§Anycast¦ä»»æ’­ÙøThese addresses are syntactically indistinguishable from unicast addresses but they address a group of interfaces.  The packet destined for an anycast address will arrive at the nearest router interface.  Anycast addresses are only used by routers.ÙÃè¿™äº›åœ°å€åœ¨è¯­æ³•ä¸Šä¸å•æ’­åœ°å€æ— æ³•åŒºåˆ†ï¼Œä½†å®ƒä»¬ç”¨äºå¯»å€ä¸€ç»„æ¥å£ã€‚å‘é€åˆ°ä»»æ’­åœ°å€çš„æ•°æ®åŒ…å°†åˆ°è¾¾æœ€è¿‘çš„è·¯ç”±å™¨æ¥å£ã€‚ä»»æ’­åœ°å€åªç”±è·¯ç”±å™¨ä½¿ç”¨ã€‚©Multicast¦å¤šæ’­ÙÿThese addresses identify a group of interfaces.  A packet destined for a multicast address will arrive at all interfaces belonging to the multicast group.  The IPv4 broadcast address, usually `xxx.xxx.xxx.255`, is expressed by multicast addresses in IPv6.ÙÃè¿™äº›åœ°å€æ ‡è¯†äº†ä¸€ç»„æ¥å£ã€‚å‘é€åˆ°å¤šæ’­åœ°å€çš„æ•°æ®åŒ…å°†åˆ°è¾¾å±äºå¤šæ’­ç»„çš„æ‰€æœ‰æ¥å£ã€‚ IPv4 å¹¿æ’­åœ°å€é€šå¸¸ä¸º `xxx.xxx.xxx.255`ï¼Œåœ¨ IPv6 ä¸­ç”¨å¤šæ’­åœ°å€è¡¨ç¤ºã€‚Ù½When reading an IPv6 address, the canonical form is represented as `x:x:x:x:x:x:x:x`, where each `x` represents a 16 bit hex value.  An example is `FEBC:A574:382B:23C1:AA49:4592:4EFE:9982`.Ùºåœ¨é˜…è¯» IPv6 åœ°å€æ—¶ï¼Œè§„èŒƒå½¢å¼è¡¨ç¤ºä¸º `x:x:x:x:x:x:x:x`ï¼Œå…¶ä¸­æ¯ä¸ª `x` è¡¨ç¤ºä¸€ä¸ª 16 ä½çš„åå…­è¿›åˆ¶å€¼ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ `FEBC:A574:382B:23C1:AA49:4592:4EFE:9982`ã€‚Ú'Often, an address will have long substrings of all zeros.  A `::` (double colon) can be used to replace one substring per address.  Also, up to three leading ``0``s per hex value can be omitted.  For example, `fe80::1` corresponds to the canonical form `fe80:0000:0000:0000:0000:0000:0000:0001`.Úé€šå¸¸ï¼Œä¸€ä¸ªåœ°å€ä¼šæœ‰å¾ˆé•¿çš„å…¨é›¶å­ä¸²ã€‚ä¸€ä¸ª `::`ï¼ˆåŒå†’å·ï¼‰å¯ä»¥ç”¨æ¥æ›¿æ¢åœ°å€ä¸­çš„ä¸€ä¸ªå­ä¸²ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªåå…­è¿›åˆ¶å€¼å‰é¢çš„æœ€å¤šä¸‰ä¸ª `0` å¯ä»¥çœç•¥ã€‚ä¾‹å¦‚ï¼Œ `fe80::1` å¯¹åº”çš„è§„èŒƒå½¢å¼æ˜¯ `fe80:0000:0000:0000:0000:0000:0000:0001`ã€‚ÙıA third form is to write the last 32 bits using the well known IPv4 notation.  For example, `2002::10.0.0.1` corresponds to the hexadecimal canonical representation `2002:0000:0000:0000:0000:0000:0a00:0001`, which in turn is equivalent to `2002::a00:1`.ÙÚç¬¬ä¸‰ç§å½¢å¼æ˜¯ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ IPv4 è¡¨ç¤ºæ³•ç¼–å†™æœ€å 32 ä½ã€‚ä¾‹å¦‚ï¼Œ`2002::10.0.0.1` å¯¹åº”äºåå…­è¿›åˆ¶çš„è§„èŒƒè¡¨ç¤º `2002:0000:0000:0000:0000:0000:0a00:0001`ï¼Œè€Œè¿™åˆç­‰åŒäº `2002::a00:1`ã€‚ÙFTo view a FreeBSD system's IPv6 address execute the following command:ÙBè¦æŸ¥çœ‹ FreeBSD ç³»ç»Ÿçš„ IPv6 åœ°å€ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ«In this example, the `em0` interface is using `fe80::21f:16ff:fe0f:275a%em0`, an auto-configured link-local address which was automatically generated from the MAC address.Ù¨åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`em0` æ¥å£æ­£åœ¨ä½¿ç”¨ `fe80::21f:16ff:fe0f:275a%em0`ï¼Œè¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®çš„é“¾è·¯æœ¬åœ°åœ°å€ï¼Œå®ƒæ˜¯æ ¹æ® MAC åœ°å€è‡ªåŠ¨ç”Ÿæˆçš„ã€‚ÙfSome IPv6 addresses are reserved.  A list of reserved addresses can be checked in the following table:ÙTä¸€äº› IPv6 åœ°å€æ˜¯ä¿ç•™åœ°å€ã€‚ä¿ç•™åœ°å€çš„åˆ—è¡¨å¯ä»¥åœ¨ä¸‹è¡¨ä¸­æŸ¥çœ‹ï¼š¿Example IPv6 Reserved Addresses·IPv6 ä¿ç•™åœ°å€ç¤ºä¾‹¬IPv6 address«IPv6 åœ°å€³Prefixlength (Bits)µå‰ç¼€é•¿åº¦ï¼ˆä½ï¼‰¥Notes¦æ³¨é‡Š¤`::`ÙW`::` æ˜¯ asciidoc ä¸­çš„ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªå—çº§å…ƒç´ çš„å¼€å§‹ã€‚¨128 bits§128 ä½«unspecified¬æœªæŒ‡å®šçš„Ù Equivalent to `0.0.0.0` in IPv4.Ù(IPv4 ä¸­ç­‰åŒäº `0.0.0.0` çš„åœ°å€ã€‚°loopback address¬ç¯å›åœ°å€Ù"Equivalent to `127.0.0.1` in IPv4.Ù*IPv4 ä¸­ç­‰åŒäº `127.0.0.1` çš„åœ°å€ã€‚§96 bits¦96 ä½­embedded IPv4®åµŒå…¥å¼ IPv4Ù2The lower 32 bits are the compatible IPv4 address.Ù%ä½ 32 ä½æ˜¯å…¼å®¹çš„ IPv4 åœ°å€ã€‚¸IPv4 mapped IPv6 address·IPv4 æ˜ å°„ IPv6 åœ°å€ÙKThe lower 32 bits are the IPv4 address for hosts which do not support IPv6.Ù7ä½ 32 ä½æ˜¯ä¸æ”¯æŒ IPv6 çš„ä¸»æœºçš„ IPv4 åœ°å€ã€‚§10 bits¦10 ä½ªlink-local¬é“¾è·¯æœ¬åœ°Ù%Equivalent to 169.254.0.0/16 in IPv4.Ù4åœ¨ IPv4 ä¸­ï¼Œç­‰åŒäº 169.254.0.0/16 çš„åœ°å€ã€‚¦7 bits¥7 ä½¬unique-local¬å”¯ä¸€æœ¬åœ°ÙtUnique local addresses are intended for local communication and are only routable within a set of cooperating sites.ÙTå”¯ä¸€æœ¬åœ°åœ°å€ç”¨äºæœ¬åœ°é€šä¿¡ï¼Œåªèƒ½åœ¨ä¸€ç»„åˆä½œç«™ç‚¹å†…è¿›è¡Œè·¯ç”±ã€‚¦8 bits¥8 ä½©multicast¦å¤šæ’­¦3 bits¥3 ä½®global unicast¬å…¨å±€å•æ’­ÙUAll global unicast addresses are assigned from this pool. The first 3 bits are `001`.ÙTæ‰€æœ‰å…¨å±€å•æ’­åœ°å€éƒ½æ˜¯ä»è¿™ä¸ªåœ°å€æ± ä¸­åˆ†é…çš„ã€‚å‰ 3 ä½æ˜¯ `001`ã€‚ÙrFor further information on the structure of IPv6 addresses, refer to http://www.ietf.org/rfc/rfc3513.txt[RFC3513].Ùcæœ‰å…³ IPv6 åœ°å€ç»“æ„çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ http://www.ietf.org/rfc/rfc3513.txt[RFC3513]ã€‚¿Configuring Static IPv6 Address¸é…ç½®é™æ€ IPv6 åœ°å€ÙsTo configure a FreeBSD system as an IPv6 client with a static IPv6 address it is necessary to set the IPv6 address.Ùfè¦å°† FreeBSD ç³»ç»Ÿé…ç½®ä¸ºå…·æœ‰é™æ€ IPv6 åœ°å€çš„ IPv6 å®¢æˆ·ç«¯ï¼Œéœ€è¦è®¾ç½® IPv6 åœ°å€ã€‚Ù8Execute the following commands to meet the requirements:Ù$æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ»¡è¶³è¦æ±‚ï¼šÙPTo assign a default router, specify its address executing the following command:ÙHè¦åˆ†é…ä¸€ä¸ªé»˜è®¤è·¯ç”±å™¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŒ‡å®šå…¶åœ°å€ï¼šÙ Configuring Dynamic IPv6 Address¸é…ç½®åŠ¨æ€ IPv6 åœ°å€Ù¹If the network has a DHCP server, it is very easy to configure the network interface to use DHCP.  man:dhclient[8] will provide automatically the IP, the netmask and the default router.Ù¡å¦‚æœç½‘ç»œæœ‰ä¸€ä¸ª DHCP æœåŠ¡å™¨ï¼Œé…ç½®ç½‘ç»œæ¥å£ä½¿ç”¨ DHCP éå¸¸ç®€å•ã€‚man:dhclient[8] ä¼šè‡ªåŠ¨æä¾› IP åœ°å€ã€å­ç½‘æ©ç å’Œé»˜è®¤è·¯ç”±å™¨ã€‚Ù0Router Advertisement and Host Auto ConfigurationÙ$è·¯ç”±å™¨é€šå‘Šå’Œä¸»æœºè‡ªåŠ¨é…ç½®Ù~This section demonstrates how to setup man:rtadvd[8] on an IPv6 router to advertise the IPv6 network prefix and default route.Ùnæœ¬èŠ‚æ¼”ç¤ºäº†å¦‚ä½•åœ¨ IPv6 è·¯ç”±å™¨ä¸Šè®¾ç½® man:rtadvd[8]ï¼Œä»¥å¹¿æ’­ IPv6 ç½‘ç»œå‰ç¼€å’Œé»˜è®¤è·¯ç”±ã€‚Ù7To enable man:rtadvd[8], execute the following command:Ù/è¦å¯ç”¨ man:rtadvd[8]ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ„It is important to specify the interface on which to do IPv6 router advertisement.  For example, to tell man:rtadvd[8] to use `em0`:ÙcæŒ‡å®š IPv6 è·¯ç”±å™¨é€šå‘Šçš„æ¥å£éå¸¸é‡è¦ã€‚ä¾‹å¦‚ï¼Œè¦å‘Šè¯‰ man:rtadvd[8] ä½¿ç”¨ `em0`ï¼šÙ[Next, create the configuration file, [.filename]#/etc/rtadvd.conf# as seen in this example:ÙRæ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹åˆ›å»ºé…ç½®æ–‡ä»¶ [.filename]#/etc/rtadvd.conf# ï¼šÙhReplace `em0` with the interface to be used and `2001:db8:1f11:246::` with the prefix of the allocation.Ù]å°† `em0` æ›¿æ¢ä¸ºè¦ä½¿ç”¨çš„æ¥å£ï¼Œå°† `2001:db8:1f11:246::` æ›¿æ¢ä¸ºåˆ†é…çš„å‰ç¼€ã€‚ÙyFor a dedicated `/64` subnet, nothing else needs to be changed.  Otherwise, change the `prefixlen#` to the correct value.Ù{å¯¹äºä¸€ä¸ªä¸“ç”¨çš„ `/64` å­ç½‘ï¼Œä¸éœ€è¦åšä»»ä½•å…¶ä»–æ›´æ”¹ã€‚å¦åˆ™ï¼Œè¯·å°† `prefixlen#` æ›´æ”¹ä¸ºæ­£ç¡®çš„å€¼ã€‚½IPv6 and IPv4 Address mappingºIPv6 å’Œ IPv4 åœ°å€æ˜ å°„Ú When IPv6 is enabled on a server, there may be a need to enable IPv4 mapped IPv6 address communication.  This compatibility option allows for IPv4 addresses to be represented as IPv6 addresses.  Permitting IPv6 applications to communicate with IPv4 and vice versa may be a security issue.ÙŞå½“æœåŠ¡å™¨å¯ç”¨ IPv6 æ—¶ï¼Œå¯èƒ½éœ€è¦å¯ç”¨ IPv4 æ˜ å°„çš„ IPv6 åœ°å€é€šä¿¡ã€‚è¿™ä¸ªå…¼å®¹é€‰é¡¹å…è®¸å°† IPv4 åœ°å€è¡¨ç¤ºä¸º IPv6 åœ°å€ã€‚å…è®¸ IPv6 åº”ç”¨ç¨‹åºä¸ IPv4 ç›¸äº’é€šä¿¡å¯èƒ½ä¼šå­˜åœ¨å®‰å…¨é—®é¢˜ã€‚ÚThis option may not be required in most cases and is available only for compatibility.  This option will allow IPv6-only applications to work with IPv4 in a dual stack environment.  This is most useful for third party applications which may not support an IPv6-only environment.Úåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé€‰é¡¹å¯èƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œåªæ˜¯ä¸ºäº†å…¼å®¹æ€§è€Œæä¾›çš„ã€‚è¿™ä¸ªé€‰é¡¹å°†å…è®¸ä»…æ”¯æŒ IPv6 çš„åº”ç”¨ç¨‹åºåœ¨åŒæ ˆç¯å¢ƒä¸­ä¸ IPv4 ä¸€èµ·å·¥ä½œã€‚è¿™å¯¹äºå¯èƒ½ä¸æ”¯æŒä»… IPv6 ç¯å¢ƒçš„ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºéå¸¸æœ‰ç”¨ã€‚Ù5To enable this feature execute the following command:Ù-è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š±Wireless Networks¬æ— çº¿ç½‘ç»œÙqMost wireless networks are based on the link:https://en.wikipedia.org/wiki/IEEE_802.11[IEEE(R) 802.11 standards].Ùgå¤§å¤šæ•°æ— çº¿ç½‘ç»œéƒ½åŸºäº link:https://en.wikipedia.org/wiki/IEEE_802.11[IEEE(R) 802.11 æ ‡å‡†]ã€‚Ú+FreeBSD supports networks that operate using link:https://en.wikipedia.org/wiki/IEEE_802.11a-1999[802.11a], link:https://en.wikipedia.org/wiki/IEEE_802.11b-1999[802.11b], link:https://en.wikipedia.org/wiki/IEEE_802.11g-2003[802.11g] and link:https://en.wikipedia.org/wiki/IEEE_802.11n-2009[802.11n].ÚFreeBSD æ”¯æŒä½¿ç”¨ link:https://en.wikipedia.org/wiki/IEEE_802.11a-1999[802.11a]ï¼Œlink:https://en.wikipedia.org/wiki/IEEE_802.11b-1999[802.11b]ï¼Œlink:https://en.wikipedia.org/wiki/IEEE_802.11g-2003[802.11g] å’Œ link:https://en.wikipedia.org/wiki/IEEE_802.11n-2009[802.11n] ç½‘ç»œã€‚Ùrlink:https://en.wikipedia.org/wiki/IEEE_802.11ac-2013[802.11ac] support on FreeBSD is currently under development.Ùtåœ¨ FreeBSD ä¸Šï¼Œç›®å‰æ­£åœ¨å¼€å‘å¯¹ link:https://en.wikipedia.org/wiki/IEEE_802.11ac-2013[802.11ac] çš„æ”¯æŒã€‚ÙûA basic wireless network consists of multiple stations communicating with radios that broadcast in either the 2.4GHz or 5GHz band, though this varies according to the locale and is also changing to enable communication in the 2.3GHz and 4.9GHz ranges.Ùíä¸€ä¸ªåŸºæœ¬çš„æ— çº¿ç½‘ç»œç”±å¤šä¸ªç«™ç‚¹ç»„æˆï¼Œè¿™äº›ç«™ç‚¹ä½¿ç”¨å¹¿æ’­åœ¨ 2.4GHz æˆ– 5GHz é¢‘æ®µè¿›è¡Œé€šä¿¡ï¼Œå°½ç®¡è¿™åœ¨ä¸åŒåœ°åŒºå¯èƒ½æœ‰æ‰€ä¸åŒï¼Œå¹¶ä¸”ä¹Ÿåœ¨ä¸æ–­å˜åŒ–ä»¥å®ç°åœ¨ 2.3GHz å’Œ 4.9GHz èŒƒå›´å†…çš„é€šä¿¡ã€‚Ù<There are three basic steps to configure a wireless network:Ù*é…ç½®æ— çº¿ç½‘ç»œæœ‰ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼š¿Scan and select an access point¾æ‰«æå¹¶é€‰æ‹©ä¸€ä¸ªæ¥å…¥ç‚¹¸Authenticate the station¯éªŒè¯è¯¥ç«™ç‚¹Ù$Configure an IP address or use DHCP.Ù!é…ç½® IP åœ°å€æˆ–ä½¿ç”¨ DHCPã€‚Ù)The following sections discuss each step.Ù'ä¸‹é¢çš„éƒ¨åˆ†è®¨è®ºäº†æ¯ä¸ªæ­¥éª¤ã€‚Ù,Quick Start to Connect to a Wireless NetworkÙ'è¿æ¥æ— çº¿ç½‘ç»œçš„å¿«é€Ÿå…¥é—¨æŒ‡å—ÙNConnecting FreeBSD to an existing wireless network is a very common situation.ÙKå°† FreeBSD è¿æ¥åˆ°ç°æœ‰çš„æ— çº¿ç½‘ç»œæ˜¯ä¸€ç§éå¸¸å¸¸è§çš„æƒ…å†µã€‚Ù(This procedure shows the steps required:Ù!è¯¥è¿‡ç¨‹æ˜¾ç¤ºæ‰€éœ€çš„æ­¥éª¤ï¼šÙ”The first step will be to obtain the SSID (Service Set Identifier) and PSK (Pre-Shared Key) for the wireless network from the network administrator.Ùtç¬¬ä¸€æ­¥æ˜¯ä»ç½‘ç»œç®¡ç†å‘˜é‚£é‡Œè·å–æ— çº¿ç½‘ç»œçš„ SSID ï¼ˆæœåŠ¡é›†æ ‡è¯†ï¼‰å’Œ PSK ï¼ˆé¢„å…±äº«å¯†é’¥ï¼‰ã€‚Ù‰The second step will be to add an entry for this network to [.filename]#/etc/wpa_supplicant.conf#. If the file does not exist, create it:Ù~ç¬¬äºŒæ­¥æ˜¯å°†æ­¤ç½‘ç»œæ·»åŠ åˆ° [.filename]#/etc/wpa_supplicant.conf# çš„æ¡ç›®ä¸­ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·åˆ›å»ºå®ƒï¼šÙ¹<.> Is the SSID of the wireless network. Replace it with the name of the wireless network.  <.> Is the PSK of the wireless network. Replace it with the password of the wireless network.Ù’<.> æ˜¯æ— çº¿ç½‘ç»œçš„ SSID ã€‚è¯·å°†å…¶æ›¿æ¢ä¸ºæ— çº¿ç½‘ç»œçš„åç§°ã€‚
<.> æ˜¯æ— çº¿ç½‘ç»œçš„ PSK ã€‚è¯·å°†å…¶æ›¿æ¢ä¸ºæ— çº¿ç½‘ç»œçš„å¯†ç ã€‚ÙTThe third step will be to add the network entry to configure the network on startup:Ù<ç¬¬ä¸‰æ­¥æ˜¯æ·»åŠ ç½‘ç»œæ¡ç›®ä»¥åœ¨å¯åŠ¨æ—¶é…ç½®ç½‘ç»œï¼šÙVAnd the last step will be the restart `netif` service executing the following command:ÙEæœ€åä¸€æ­¥å°†æ˜¯é‡æ–°å¯åŠ¨ `netif` æœåŠ¡ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š¼Basic Wireless Configuration²åŸºæœ¬æ— çº¿é…ç½®ÙÀThe first step will be to configure the wireless network card to an interface.  To find out what wireless network cards are in the system check the section <<config-identify-network-adapter>>.Ùç¬¬ä¸€æ­¥æ˜¯å°†æ— çº¿ç½‘ç»œå¡é…ç½®åˆ°ä¸€ä¸ªæ¥å£ä¸Šã€‚è¦æŸ¥çœ‹ç³»ç»Ÿä¸­æœ‰å“ªäº›æ— çº¿ç½‘ç»œå¡ï¼Œè¯·å‚è€ƒ <<config-identify-network-adapter>> éƒ¨åˆ†ã€‚ÙÔSince the regulatory situation is different in various parts of the world, it is necessary to correctly set the domains that apply to your location to have the correct information about what channels can be used.Ù¢ç”±äºä¸–ç•Œå„åœ°çš„ç›‘ç®¡æƒ…å†µä¸åŒï¼Œå› æ­¤æœ‰å¿…è¦æ­£ç¡®è®¾ç½®é€‚ç”¨äºæ‚¨æ‰€åœ¨åœ°åŒºçš„åŸŸåï¼Œä»¥è·å–å…³äºå¯ä»¥ä½¿ç”¨å“ªäº›é¢‘é“çš„æ­£ç¡®ä¿¡æ¯ã€‚Ù~The available region definitions can be found in [.filename]#/etc/regdomain.xml#.  To set the data at runtime, use `ifconfig`:Ù‡å¯ç”¨çš„åŒºåŸŸå®šä¹‰å¯ä»¥åœ¨ [.filename]#/etc/regdomain.xml# ä¸­æ‰¾åˆ°ã€‚è¦åœ¨è¿è¡Œæ—¶è®¾ç½®æ•°æ®ï¼Œè¯·ä½¿ç”¨ `ifconfig` å‘½ä»¤ï¼šÙ=To persist the settings, add it to [.filename]#/etc/rc.conf#:ÙFè¦æŒä¹…ä¿å­˜è®¾ç½®ï¼Œè¯·å°†å…¶æ·»åŠ åˆ° [/etc/rc.conf] æ–‡ä»¶ä¸­ï¼š¶Scan Wireless Networks²æ‰«ææ— çº¿ç½‘ç»œÙAAvailable wireless networks can be scanned using man:ifconfig[8].ÙAå¯ä»¥ä½¿ç”¨ man:ifconfig[8] å‘½ä»¤æ‰«æå¯ç”¨çš„æ— çº¿ç½‘ç»œã€‚Ù<To list the wireless networks execute the following command:Ù0è¦åˆ—å‡ºæ— çº¿ç½‘ç»œï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ0SSID/MESH ID identifies the name of the network.Ù%SSID/MESH ID æ ‡è¯†ç½‘ç»œçš„åç§°ã€‚Ù5BSSID identifies the MAC address of the access point.Ù)BSSID æ ‡è¯†äº†æ¥å…¥ç‚¹çš„ MAC åœ°å€ã€‚Ù¬CAPS field identifies the type of each network and the capabilities of the stations operating there (see the definition of `list scan` in man:ifconfig[8] for more details).Ù§CAPS å­—æ®µæ ‡è¯†äº†æ¯ä¸ªç½‘ç»œçš„ç±»å‹ä»¥åŠåœ¨è¯¥ç½‘ç»œä¸Šè¿è¡Œçš„ç«™ç‚¹çš„èƒ½åŠ›ï¼ˆæœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:ifconfig[8] ä¸­ `list scan` çš„å®šä¹‰ï¼‰ã€‚Ù3Connection and Authentication to a Wireless Network»è¿æ¥å’Œè®¤è¯æ— çº¿ç½‘ç»œÚÈOnce a wireless network has been selected from the list of scanned networks, it is necessary to perform the connection and the authentication.  In the vast majority of wireless networks, authentication is done with a password configured in the router.  Other schemes require cryptographic handshakes to be completed before data traffic can flow, either using pre-shared keys or secrets, or more complex schemes that involve backend services such as RADIUS.Úuä¸€æ—¦ä»æ‰«æåˆ°çš„ç½‘ç»œåˆ—è¡¨ä¸­é€‰æ‹©äº†ä¸€ä¸ªæ— çº¿ç½‘ç»œï¼Œå°±éœ€è¦è¿›è¡Œè¿æ¥å’Œè®¤è¯ã€‚åœ¨ç»å¤§å¤šæ•°æ— çº¿ç½‘ç»œä¸­ï¼Œè®¤è¯æ˜¯é€šè¿‡è·¯ç”±å™¨ä¸­é…ç½®çš„å¯†ç æ¥å®Œæˆçš„ã€‚å…¶ä»–æ–¹æ¡ˆè¦æ±‚åœ¨æ•°æ®æµé‡å¯ä»¥æµåŠ¨ä¹‹å‰å®ŒæˆåŠ å¯†æ¡æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨é¢„å…±äº«å¯†é’¥æˆ–å¯†é’¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¶‰åŠåç«¯æœåŠ¡ï¼ˆå¦‚ RADIUSï¼‰çš„æ›´å¤æ‚çš„æ–¹æ¡ˆã€‚Ù#Authenticate with WPA2/WPA/Personal¸ä½¿ç”¨ WPA2/WPA/PersonalÙUThe authentication process in a wireless network is managed by man:wpa_supplicant[8].ÙGæ— çº¿ç½‘ç»œä¸­çš„èº«ä»½éªŒè¯è¿‡ç¨‹ç”± man:wpa_supplicant[8] ç®¡ç†ã€‚ÙThe man:wpa_supplicant[8] configuration will be made in the [.filename]#/etc/wpa_supplicant.conf# file.  For more information, see man:wpa_supplicant.conf[5].Ù—man:wpa_supplicant[8] é…ç½®å°†åœ¨ [.filename]#/etc/wpa_supplicant.conf# æ–‡ä»¶ä¸­è¿›è¡Œã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:wpa_supplicant.conf[5]ã€‚ÙåOnce the scanning of the wireless networks has been carried out, a network has been chosen and have the password (PSK), that information will be added to the file [.filename]#/etc/wpa_supplicant.conf# as in the following example:ÙÉä¸€æ—¦å®Œæˆäº†å¯¹æ— çº¿ç½‘ç»œçš„æ‰«æï¼Œé€‰æ‹©äº†ä¸€ä¸ªç½‘ç»œå¹¶è·å¾—äº†å¯†ç ï¼ˆPSKï¼‰ï¼Œé‚£ä¹ˆè¿™äº›ä¿¡æ¯å°†è¢«æ·»åŠ åˆ°æ–‡ä»¶ [.filename]#/etc/wpa_supplicant.conf# ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºçš„ç¤ºä¾‹ï¼šÙ‰<.> SSID scan technique. Only need to use this option if the network is hidden.  <.> Network name.  <.> Passwork of the wireless network.Ù|<.> SSID æ‰«ææŠ€æœ¯ã€‚åªæœ‰åœ¨ç½‘ç»œéšè—æ—¶æ‰éœ€è¦ä½¿ç”¨æ­¤é€‰é¡¹ã€‚
<.> ç½‘ç»œåç§°ã€‚
<.> æ— çº¿ç½‘ç»œçš„å¯†ç ã€‚ÙaThe next step will be to configure the wireless connection in the file [.filename]#/etc/rc.conf#.ÙKä¸‹ä¸€æ­¥å°†æ˜¯åœ¨æ–‡ä»¶ [.filename]#/etc/rc.conf# ä¸­é…ç½®æ— çº¿è¿æ¥ã€‚ÙNTo use a static address it will be necessary to execute the following command:Ù3è¦ä½¿ç”¨é™æ€åœ°å€ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙOTo use a dynamic address it will be necessary to execute the following command:Ù3è¦ä½¿ç”¨åŠ¨æ€åœ°å€ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ9Then restart the network executing the following command:Ù-ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°å¯åŠ¨ç½‘ç»œï¼šÙ¹More information on how to perform more advanced methods of authentication can be obtained at crossref:advanced-networking[network-advanced-wireless,"Wireless Advanced Authentication"].Ù¡å¯ä»¥åœ¨ crossref:advanced-networking[network-advanced-wireless ,â€œæ— çº¿é«˜çº§è®¤è¯â€] è·å–æœ‰å…³å¦‚ä½•æ‰§è¡Œæ›´é«˜çº§èº«ä»½éªŒè¯æ–¹æ³•çš„æ›´å¤šä¿¡æ¯ã€‚¿Authenticate with Open NetworksÙ$ä½¿ç”¨å¼€æ”¾ç½‘ç»œè¿›è¡Œèº«ä»½éªŒè¯ÙtIt is important that the user is *very* careful when connecting to open networks without any kind of authentication.Ùoå½“ç”¨æˆ·è¿æ¥åˆ°æ²¡æœ‰ä»»ä½•èº«ä»½éªŒè¯æ–¹å¼çš„å¼€æ”¾ç½‘ç»œæ—¶ï¼Œéå¸¸é‡è¦çš„æ˜¯ç”¨æˆ·è¦éå¸¸å°å¿ƒã€‚ÙwOnce the wireless network scan is done and the SSID of the wireless network is selected, execute the following command:ÙQå®Œæˆæ— çº¿ç½‘ç»œæ‰«æå¹¶é€‰æ‹©æ— çº¿ç½‘ç»œçš„ SSID åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ?And then execute man:dhclient[8] to get the address configured:Ù8ç„¶åæ‰§è¡Œ man:dhclient[8] æ¥è·å–é…ç½®çš„åœ°å€ï¼šÙ)Using Both Wired and Wireless ConnectionsÙ!åŒæ—¶ä½¿ç”¨æœ‰çº¿å’Œæ— çº¿è¿æ¥ÙÔA wired connection provides better performance and reliability, while a wireless connection provides flexibility and mobility.  Laptop users typically want to roam seamlessly between the two types of connections.Ù«æœ‰çº¿è¿æ¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œå¯é æ€§ï¼Œè€Œæ— çº¿è¿æ¥æä¾›çµæ´»æ€§å’Œç§»åŠ¨æ€§ã€‚ç¬”è®°æœ¬ç”µè„‘ç”¨æˆ·é€šå¸¸å¸Œæœ›åœ¨è¿™ä¸¤ç§è¿æ¥ç±»å‹ä¹‹é—´æ— ç¼åˆ‡æ¢ã€‚Ú)On FreeBSD, it is possible to combine two or even more network interfaces together in a "failover" fashion.  This type of configuration uses the most preferred and available connection from a group of network interfaces, and the operating system switches automatically when the link state changes.Ú
åœ¨ FreeBSD ä¸Šï¼Œå¯ä»¥ä»¥â€œæ•…éšœè½¬ç§»ï¼ˆfailoverï¼‰â€çš„æ–¹å¼å°†ä¸¤ä¸ªç”šè‡³æ›´å¤šçš„ç½‘ç»œæ¥å£ç»„åˆåœ¨ä¸€èµ·ã€‚è¿™ç§é…ç½®ç±»å‹ä½¿ç”¨ä¸€ç»„ç½‘ç»œæ¥å£ä¸­æœ€ä¼˜å…ˆå’Œå¯ç”¨çš„è¿æ¥ï¼Œå¹¶ä¸”å½“é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ‡æ¢ã€‚ÚDLink aggregation and failover is covered in crossref:advanced-networking[network-aggregation,"Link Aggregation and Failover"] and an example for using both wired and wireless connections is provided at crossref:advanced-networking[networking-lagg-wired-and-wireless,"Failover Mode Between Ethernet and Wireless Interfaces"].ÚHé“¾è·¯èšåˆå’Œæ•…éšœè½¬ç§»åœ¨ crossref:advanced-networking[network-aggregation ,â€œé“¾è·¯èšåˆå’Œæ•…éšœè½¬ç§»â€] ä¸­æœ‰è¯¦ç»†ä»‹ç»ï¼Œå¹¶ä¸”åœ¨ crossref:advanced-networking[networking-lagg-wired-and-wireless ,â€œä»¥å¤ªç½‘å’Œæ— çº¿æ¥å£ä¹‹é—´çš„æ•…éšœè½¬ç§»æ¨¡å¼â€] ä¸­æä¾›äº†åŒæ—¶ä½¿ç”¨æœ‰çº¿å’Œæ— çº¿è¿æ¥çš„ç¤ºä¾‹ã€‚¨Hostname©ä¸»æœºåÙZThe hostname represents the fully qualified domain name (FQDN) of the host on the network.Ù@ä¸»æœºåè¡¨ç¤ºç½‘ç»œä¸Šä¸»æœºçš„å®Œå…¨é™å®šåŸŸåï¼ˆFQDNï¼‰ã€‚ÙRIf no hostname has been set for the host FreeBSD will assign the value `Amnesiac`.ÙFå¦‚æœä¸»æœºæ²¡æœ‰è®¾ç½®ä¸»æœºåï¼ŒFreeBSD å°†åˆ†é…å€¼ `Amnesiac`ã€‚ºCheck The Current Hostnameµæ£€æŸ¥å½“å‰ä¸»æœºåÙ:man:hostname[1] can be used to check the current hostname:Ù7man:hostname[1] å¯ä»¥ç”¨æ¥æ£€æŸ¥å½“å‰çš„ä¸»æœºåï¼š¯Change Hostname¯æ›´æ”¹ä¸»æœºåÙ_To change the hostname of the host and persist it across reboots execute the following command:ÙWè¦æ›´æ”¹ä¸»æœºçš„ä¸»æœºåå¹¶åœ¨é‡æ–°å¯åŠ¨åä¿æŒä¸å˜ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ©The DNS could be understanded as a link:https://en.wikipedia.org/wiki/Telephone_directory[telephone directory] in which an IP is identified to a hostname and vice versa.Ù•DNS å¯ä»¥è¢«ç†è§£ä¸ºä¸€ä¸ª link:https://en.wikipedia.org/wiki/Telephone_directory[ç”µè¯ç°¿]ï¼Œå…¶ä¸­å°† IP åœ°å€ä¸ä¸»æœºåè¿›è¡Œäº’ç›¸è¯†åˆ«ã€‚ÙThere are three files that handle how a FreeBSD system interact with the DNS.  These three files are man:hosts[5], man:resolv.conf[5] and man:nsswitch.conf[5]Ùˆæœ‰ä¸‰ä¸ªæ–‡ä»¶å¤„ç† FreeBSD ç³»ç»Ÿä¸ DNS çš„äº¤äº’ã€‚è¿™ä¸‰ä¸ªæ–‡ä»¶æ˜¯ man:hosts[5]ã€man:resolv.conf[5] å’Œ man:nsswitch.conf[5]ã€‚ÙÓUnless otherwise stated in the [.filename]#/etc/nsswitch.conf# file, FreeBSD will look at the addresses in the [.filename]#/etc/hosts# file and then the DNS information in the [.filename]#/etc/resolv.conf# file.ÙÖé™¤éåœ¨ [.filename]#/etc/nsswitch.conf# æ–‡ä»¶ä¸­å¦æœ‰è¯´æ˜ï¼Œå¦åˆ™ FreeBSD å°†é¦–å…ˆæŸ¥çœ‹ [.filename]#/etc/hosts# æ–‡ä»¶ä¸­çš„åœ°å€ï¼Œç„¶åå†æŸ¥çœ‹ [.filename]#/etc/resolv.conf# æ–‡ä»¶ä¸­çš„ DNS ä¿¡æ¯ã€‚ÙkThe man:nsswitch.conf[5] file specifies how the nsdispatch (name-service switch dispatcher) should operate.Ùeman:nsswitch.conf[5] æ–‡ä»¶æŒ‡å®šäº† nsdispatchï¼ˆåç§°æœåŠ¡åˆ‡æ¢è°ƒåº¦ç¨‹åºï¼‰çš„æ“ä½œæ–¹å¼ã€‚Ù]By default, the hosts section of the [.filename]#/etc/nsswitch.conf# file will be as follows:ÙZé»˜è®¤æƒ…å†µä¸‹ï¼Œ[.filename]#/etc/nsswitch.conf# æ–‡ä»¶çš„ hosts éƒ¨åˆ†å°†å¦‚ä¸‹æ‰€ç¤ºï¼šÙ€For example, in case of using the man:nscd[8] service.  The order of preference could be changed by leaving the line as follows:Ùmä¾‹å¦‚ï¼Œåœ¨ä½¿ç”¨ man:nscd[8] æœåŠ¡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡å°†è¯¥è¡Œä¿æŒå¦‚ä¸‹æ¥æ›´æ”¹ä¼˜å…ˆé¡ºåºï¼š¯Local addresses¬æœ¬åœ°åœ°å€Ú£The [.filename]#/etc/hosts# file is a simple text database who provide host name to IP address mappings.  Entries for local computers connected via a LAN can be added to this file for simplistic naming purposes instead of setting up a DNS server.  Additionally, [.filename]#/etc/hosts# can be used to provide a local record of Internet names, reducing the need to query external DNS servers for commonly accessed names.Ú‰[.filename]#/etc/hosts# æ–‡ä»¶æ˜¯ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ•°æ®åº“ï¼Œç”¨äºæä¾›ä¸»æœºååˆ° IP åœ°å€çš„æ˜ å°„ã€‚å¯ä»¥å°†è¿æ¥åˆ°å±€åŸŸç½‘çš„æœ¬åœ°è®¡ç®—æœºçš„æ¡ç›®æ·»åŠ åˆ°æ­¤æ–‡ä»¶ä¸­ï¼Œä»¥ç®€åŒ–å‘½åï¼Œè€Œä¸æ˜¯è®¾ç½® DNS æœåŠ¡å™¨ã€‚æ­¤å¤–ï¼Œ [.filename]#/etc/hosts# è¿˜å¯ä»¥ç”¨äºæä¾›äº’è”ç½‘åç§°çš„æœ¬åœ°è®°å½•ï¼Œå‡å°‘æŸ¥è¯¢å¤–éƒ¨ DNS æœåŠ¡å™¨ä»¥è·å–å¸¸ç”¨åç§°çš„éœ€æ±‚ã€‚Ù¨For example, in the case of having a local instance of package:www/gitlab-ce[] in a local environment, it could be added as follows to the file [.filename]#/etc/hosts#:Ùªä¾‹å¦‚ï¼Œåœ¨æœ¬åœ°ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªåä¸º package:www/gitlab-ce[] çš„æœ¬åœ°å®ä¾‹çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†å…¶æ·»åŠ åˆ°æ–‡ä»¶ [.filename]#/etc/hosts# ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šºConfiguring the Nameserverµé…ç½®åŸŸåæœåŠ¡å™¨ÙhHow a FreeBSD system accesses the Internet Domain Name System (DNS) is controlled by man:resolv.conf[5].ÙXFreeBSD ç³»ç»Ÿå¦‚ä½•è®¿é—®äº’è”ç½‘åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ç”± man:resolv.conf[5] æ§åˆ¶ã€‚Ù=The most common entries to [.filename]#/etc/resolv.conf# are:Ù7æœ€å¸¸è§çš„æ¡ç›®æ˜¯ [.filename]#/etc/resolv.conf# ï¼šÙThe IP address of a name server the resolver should query. The servers are queried in the order listed with a maximum of three.Ùpè§£æå™¨åº”æŸ¥è¯¢çš„åç§°æœåŠ¡å™¨çš„ IP åœ°å€ã€‚æŒ‰ç…§åˆ—å‡ºçš„é¡ºåºæŸ¥è¯¢æœåŠ¡å™¨ï¼Œæœ€å¤šæŸ¥è¯¢ä¸‰ä¸ªã€‚ÙaSearch list for hostname lookup. This is normally determined by the domain of the local hostname.ÙKæœç´¢åˆ—è¡¨ç”¨äºä¸»æœºåæŸ¥æ‰¾ã€‚é€šå¸¸ç”±æœ¬åœ°ä¸»æœºåçš„åŸŸç¡®å®šã€‚¶The local domain name.¯æœ¬åœ°åŸŸåã€‚Ù8A typical [.filename]#/etc/resolv.conf# looks like this:ÙCä¸€ä¸ªå…¸å‹çš„ [.filename]#/etc/resolv.conf# æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼šÙ=Only one of the `search` and `domain` options should be used.Ù8åªèƒ½ä½¿ç”¨ `search` å’Œ `domain` é€‰é¡¹ä¸­çš„ä¸€ä¸ªã€‚ÙWhen using DHCP, man:dhclient[8] usually rewrites [.filename]#/etc/resolv.conf# with information received from the DHCP server.Ù„åœ¨ä½¿ç”¨ DHCP æ—¶ï¼Œman:dhclient[8] é€šå¸¸ä¼šä½¿ç”¨ä» DHCP æœåŠ¡å™¨æ¥æ”¶åˆ°çš„ä¿¡æ¯é‡å†™ .filename#/etc/resolv.conf# æ–‡ä»¶ã€‚Ù’If the machine in which the configuration is being made is *not* a DNS server, man:local-unbound[8] can be used to improve DNS lookup performance.Ùtå¦‚æœè¿›è¡Œé…ç½®çš„æœºå™¨ *ä¸æ˜¯* DNS æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ man:local-unbound[8] æ¥æé«˜ DNS æŸ¥æ‰¾æ€§èƒ½ã€‚Ù8To enable it at boot time execute the following command:Ù3è¦åœ¨å¯åŠ¨æ—¶å¯ç”¨å®ƒï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙHTo start the man:local-unbound[8] service execute the following command:Ù@è¦å¯åŠ¨ man:local-unbound[8] æœåŠ¡ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙYWhen troubleshooting hardware and software configurations, check the simple things first.ÙHåœ¨æ’é™¤ç¡¬ä»¶å’Œè½¯ä»¶é…ç½®é—®é¢˜æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥ç®€å•çš„äº‹æƒ…ã€‚Ù Is the network cable plugged in?»ç½‘ç»œç”µç¼†å·²æ’å¥½å—ï¼ŸÙ-Are the network services properly configured?Ù$ç½‘ç»œæœåŠ¡æ˜¯å¦å·²æ­£ç¡®é…ç½®ï¼ŸÙ%Is the firewall configured correctly?»é˜²ç«å¢™é…ç½®æ­£ç¡®å—ï¼ŸÙ Is the NIC supported by FreeBSD?Ù FreeBSD æ˜¯å¦æ”¯æŒè¯¥ç½‘å¡ï¼ŸÙ Is the router working correctly?¾è·¯ç”±å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œï¼ŸÙ÷Before sending a bug report, always check the Hardware Notes in the link:https://www.freebsd.org/releases/[FreeBSD release page], update the version of FreeBSD to the latest STABLE version, check the mailing list archives, and search the Internet.Ùïåœ¨å‘é€é”™è¯¯æŠ¥å‘Šä¹‹å‰ï¼Œå§‹ç»ˆè¦åœ¨ link:https://www.freebsd.org/releases/[FreeBSD å‘å¸ƒé¡µé¢] æ£€æŸ¥ç¡¬ä»¶è¯´æ˜ ï¼Œå°† FreeBSD ç‰ˆæœ¬æ›´æ–°åˆ°æœ€æ–°çš„ STABLE ç‰ˆæœ¬ï¼Œæ£€æŸ¥é‚®ä»¶åˆ—è¡¨å­˜æ¡£ï¼Œå¹¶åœ¨äº’è”ç½‘ä¸Šè¿›è¡Œæœç´¢ã€‚Ù!Troubleshooting in Wired Networks¸æœ‰çº¿ç½‘ç»œæ•…éšœæ’é™¤Ù¨If the card works, yet performance is poor, read through man:tuning[7].  Also, check the network configuration as incorrect network settings can cause slow connections.Ù§å¦‚æœå¡å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œè¯·é˜…è¯» man:tuning[7]ã€‚æ­¤å¤–ï¼Œè¯·æ£€æŸ¥ç½‘ç»œé…ç½®ï¼Œå› ä¸ºä¸æ­£ç¡®çš„ç½‘ç»œè®¾ç½®å¯èƒ½ä¼šå¯¼è‡´è¿æ¥å˜æ…¢ã€‚Úc`No route to host` messages occur if the system is unable to route a packet to the destination host.  This can happen if no default route is specified or if a cable is unplugged.  Check the output of `netstat -rn` and make sure there is a valid route to the host.  If there is not, read crossref:advanced-networking[network-routing,"Gateways and Routes"].Útå¦‚æœç³»ç»Ÿæ— æ³•å°†æ•°æ®åŒ…è·¯ç”±åˆ°ç›®æ ‡ä¸»æœºï¼Œåˆ™ä¼šå‡ºç°â€œæ— æ³•åˆ°è¾¾ä¸»æœºâ€çš„æ¶ˆæ¯ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤è·¯ç”±æˆ–è€…ç”µç¼†æœªæ’å¥½ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚æ£€æŸ¥ `netstat -rn` çš„è¾“å‡ºï¼Œå¹¶ç¡®ä¿å­˜åœ¨åˆ°ç›®æ ‡ä¸»æœºçš„æœ‰æ•ˆè·¯ç”±ã€‚å¦‚æœä¸å­˜åœ¨æœ‰æ•ˆè·¯ç”±ï¼Œè¯·é˜…è¯» crossref:advanced-networking[network-routing,â€œç½‘å…³å’Œè·¯ç”±â€].Ú(`ping: sendto: Permission denied` error messages are often caused by a misconfigured firewall.  If a firewall is enabled on FreeBSD but no rules have been defined, the default policy is to deny all traffic, even man:ping[8].  Refer to crossref:firewalls[firewalls,Firewalls] for more information.Ú+`ping: sendto: Permission denied` é”™è¯¯æ¶ˆæ¯é€šå¸¸æ˜¯ç”±äºé…ç½®é”™è¯¯çš„é˜²ç«å¢™å¼•èµ·çš„ã€‚å¦‚æœåœ¨ FreeBSD ä¸Šå¯ç”¨äº†é˜²ç«å¢™ä½†æ²¡æœ‰å®šä¹‰è§„åˆ™ï¼Œé‚£ä¹ˆé»˜è®¤ç­–ç•¥æ˜¯æ‹’ç»æ‰€æœ‰æµé‡ï¼Œç”šè‡³æ˜¯ man:ping[8]ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ crossref:firewalls[firewalls,é˜²ç«å¢™]ã€‚Ù$Troubleshooting in Wireless Networks¸æ— çº¿ç½‘ç»œæ•…éšœæ’é™¤ÙbThis section describes a number of steps to help troubleshoot common wireless networking problems.ÙKæœ¬èŠ‚æè¿°äº†ä¸€äº›æ­¥éª¤ï¼Œä»¥å¸®åŠ©è§£å†³å¸¸è§çš„æ— çº¿ç½‘ç»œé—®é¢˜ã€‚ÙIf the access point is not listed when scanning, check that the configuration has not limited the wireless device to a limited set of channels.Ùcå¦‚æœåœ¨æ‰«ææ—¶æœªåˆ—å‡ºè®¿é—®ç‚¹ï¼Œè¯·æ£€æŸ¥é…ç½®æ˜¯å¦é™åˆ¶äº†æ— çº¿è®¾å¤‡çš„é¢‘é“èŒƒå›´ã€‚Ú‚If the device cannot associate with an access point, verify that the configuration matches the settings on the access point. This includes the authentication scheme and any security protocols. Simplify the configuration as much as possible. If using a security protocol such as WPA2 or WPA, configure the access point for open authentication and no security to see if traffic will pass.Ú%å¦‚æœè®¾å¤‡æ— æ³•ä¸æ¥å…¥ç‚¹å…³è”ï¼Œè¯·éªŒè¯é…ç½®æ˜¯å¦ä¸æ¥å…¥ç‚¹ä¸Šçš„è®¾ç½®åŒ¹é…ã€‚è¿™åŒ…æ‹¬è®¤è¯æ–¹æ¡ˆå’Œä»»ä½•å®‰å…¨åè®®ã€‚å°½é‡ç®€åŒ–é…ç½®ã€‚å¦‚æœä½¿ç”¨ WPA2 æˆ– WPA ç­‰å®‰å…¨åè®®ï¼Œè¯·å°†æ¥å…¥ç‚¹é…ç½®ä¸ºå¼€æ”¾è®¤è¯å’Œæ— å®‰å…¨æ€§ï¼Œä»¥æŸ¥çœ‹æ˜¯å¦å¯ä»¥ä¼ è¾“æµé‡ã€‚ÙuOnce the system can associate with the access point, diagnose the network configuration using tools like man:ping[8].Ùsä¸€æ—¦ç³»ç»Ÿèƒ½å¤Ÿä¸æ¥å…¥ç‚¹å»ºç«‹å…³è”ï¼Œå¯ä»¥ä½¿ç”¨è¯¸å¦‚ man:ping[8] ä¹‹ç±»çš„å·¥å…·æ¥è¯Šæ–­ç½‘ç»œé…ç½®ã€‚ÙŠThere are many lower-level debugging tools. Debugging messages can be enabled in the 802.11 protocol support layer using man:wlandebug[8].Ùkæœ‰è®¸å¤šä½çº§è°ƒè¯•å·¥å…·ã€‚å¯ä»¥ä½¿ç”¨ man:wlandebug[8] åœ¨ 802.11 åè®®æ”¯æŒå±‚å¯ç”¨è°ƒè¯•æ¶ˆæ¯ã€‚Ù›This chapter describes how to install and configure Xorg on FreeBSD, which provides the open source X Window System used to provide a graphical environmentÙ}æœ¬ç« ä»‹ç»äº†å¦‚ä½•åœ¨ FreeBSD ä¸Šå®‰è£…å’Œé…ç½® Xorg ï¼Œå®ƒæä¾›äº†ç”¨äºæä¾›å›¾å½¢ç¯å¢ƒçš„å¼€æº X Window System ã€‚¾Chapter 5. The X Window System¹ç¬¬äº”ç«  X Window ç³»ç»Ÿ³The X Window SystemÙ%X Window System ï¼ˆX  Windowç³»ç»Ÿï¼‰ÚMAn installation of FreeBSD using bsdinstall does not automatically install a graphical user interface.  This chapter describes how to install and configure Xorg, which provides the open source X Window System used to provide a graphical environment.  It then describes how to find and install a desktop environment or window manager.Úä½¿ç”¨ bsdinstall å®‰è£… FreeBSD æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨å®‰è£…å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚æœ¬ç« ä»‹ç»äº†å¦‚ä½•å®‰è£…å’Œé…ç½® Xorgï¼Œå®ƒæä¾›äº†ç”¨äºæä¾›å›¾å½¢ç¯å¢ƒçš„å¼€æº X Window ç³»ç»Ÿã€‚ç„¶åï¼Œå®ƒæè¿°äº†å¦‚ä½•æŸ¥æ‰¾å’Œå®‰è£…æ¡Œé¢ç¯å¢ƒæˆ–çª—å£ç®¡ç†å™¨ã€‚Ù(Before reading this chapter, you should:Ù$åœ¨é˜…è¯»æœ¬ç« ä¹‹å‰ï¼Œæ‚¨åº”è¯¥ï¼šÙ†Know how to install additional third-party software as described in crossref:ports[ports,Installing Applications: Packages and Ports].Ù‡æ ¹æ® crossref:ports[ports,å®‰è£…åº”ç”¨ç¨‹åºï¼šè½¯ä»¶åŒ…å’Œ Ports] ä¸­æè¿°çš„æ–¹æ³•ï¼Œäº†è§£å¦‚ä½•å®‰è£…é¢å¤–çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚ÙIThe various components of the X Window System, and how they interoperate.ÙBX Window ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’æ“ä½œã€‚Ù"How to install and configure Xorg.½å¦‚ä½•å®‰è£…å’Œé…ç½® Xorgã€‚Ù%How to use TrueType(R) fonts in Xorg.Ù.å¦‚ä½•åœ¨ Xorg ä¸­ä½¿ç”¨ TrueType(R) å­—ä½“ã€‚Ù5How to set up your system for graphical logins (XDM).Ù3å¦‚ä½•è®¾ç½®ç³»ç»Ÿä»¥è¿›è¡Œå›¾å½¢ç™»å½•ï¼ˆXDMï¼‰ã€‚¯Installing Xorg«å®‰è£… XorgÙ7On FreeBSD, Xorg can be installed as a package or port.ÙMåœ¨ FreeBSD ä¸Šï¼ŒXorg å¯ä»¥ä½œä¸ºä¸€ä¸ªè½¯ä»¶åŒ…æˆ–è€…ç«¯å£è¿›è¡Œå®‰è£…ã€‚ÙZThe binary meta package can be installed quickly but with fewer options for customization:Ù?äºŒè¿›åˆ¶å…ƒåŒ…å¯ä»¥å¿«é€Ÿå®‰è£…ï¼Œä½†è‡ªå®šä¹‰é€‰é¡¹è¾ƒå°‘ï¼šÙREither of these installations results in the complete Xorg system being installed.ÙEä»»ä½•ä¸€ç§å®‰è£…æ–¹å¼éƒ½ä¼šå¯¼è‡´å®Œæ•´çš„ Xorg ç³»ç»Ÿè¢«å®‰è£…ã€‚ÙwThe current user must be a member of the `video` group.  To add a user to `video` group, execute the following command:Ùlå½“å‰ç”¨æˆ·å¿…é¡»æ˜¯ `video` ç»„çš„æˆå‘˜ã€‚è¦å°†ç”¨æˆ·æ·»åŠ åˆ° `video` ç»„ä¸­ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙûA smaller version of the X system suitable for experienced users is available in package:x11/xorg-minimal[].  Most of the documents, libraries, and applications will not be installed.  Some applications require these additional components to function.Ùİé€‚ç”¨äºæœ‰ç»éªŒçš„ç”¨æˆ·çš„ X ç³»ç»Ÿçš„è¾ƒå°ç‰ˆæœ¬å¯åœ¨åŒ…ï¼š x11/xorg-minimal[] ä¸­è·å¾—ã€‚å¤§å¤šæ•°æ–‡æ¡£ã€åº“å’Œåº”ç”¨ç¨‹åºå°†ä¸ä¼šè¢«å®‰è£…ã€‚æŸäº›åº”ç”¨ç¨‹åºéœ€è¦è¿™äº›é¢å¤–çš„ç»„ä»¶æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ÙÌVideo cards, monitors, and input devices are automatically detected and do not require any manual configuration.  Do not create `xorg.conf` or run a `-configure` step unless automatic configuration fails.Ù·è§†é¢‘å¡ã€æ˜¾ç¤ºå™¨å’Œè¾“å…¥è®¾å¤‡ä¼šè¢«è‡ªåŠ¨æ£€æµ‹ï¼Œä¸éœ€è¦ä»»ä½•æ‰‹åŠ¨é…ç½®ã€‚é™¤éè‡ªåŠ¨é…ç½®å¤±è´¥ï¼Œå¦åˆ™ä¸è¦åˆ›å»º `xorg.conf` æ–‡ä»¶æˆ–è¿è¡Œ `-configure` æ­¥éª¤ã€‚´Graphic card drivers²æ˜¾å¡é©±åŠ¨ç¨‹åºÙŒThe following table shows the different graphics cards supported by FreeBSD, which package should be installed and its corresponding module.Ù`ä¸‹è¡¨æ˜¾ç¤ºäº† FreeBSD æ”¯æŒçš„ä¸åŒå›¾å½¢å¡ï¼Œåº”å®‰è£…çš„è½¯ä»¶åŒ…åŠå…¶å¯¹åº”çš„æ¨¡å—ã€‚µGraphic card packages¯å›¾å½¢å¡å¥—ä»¶¥Brand¦å“ç‰Œ¤Type¦ç±»å‹§Package£åŒ…¦Module¦æ¨¡å—«Open Source¦å¼€æº¸`amdgpu` and `radeonkms`¸`amdgpu` å’Œ `radeonkms`«Proprietary©ä¸“æœ‰çš„¼`nvidia` or `nvidia-modeset`½`nvidia` æˆ– `nvidia-modeset`Ù;VirtualBox(R) OSE additions include the `vboxvideo` driver.Ù7VirtualBox(R) OSE å¢åŠ äº† `vboxvideo` é©±åŠ¨ç¨‹åºã€‚Ù]The following command can be used to identify which graphics card is installed in the system:Ù?å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¯†åˆ«ç³»ç»Ÿä¸­å®‰è£…çš„å›¾å½¢å¡ï¼šÙåIf the graphics card is not supported by Intel(R), AMD(R) or NVIDIA(R) drivers, then VESA or SCFB modules should be used.  VESA module must be used when booting in BIOS mode and SCFB module must be used when booting in UEFI mode.ÙØå¦‚æœæ˜¾å¡ä¸å— Intel(R)ã€AMD(R) æˆ– NVIDIA(R) é©±åŠ¨ç¨‹åºæ”¯æŒï¼Œåˆ™åº”ä½¿ç”¨ VESA æˆ– SCFB æ¨¡å—ã€‚åœ¨ BIOS æ¨¡å¼ä¸‹å¯åŠ¨æ—¶å¿…é¡»ä½¿ç”¨ VESA æ¨¡å—ï¼Œåœ¨ UEFI æ¨¡å¼ä¸‹å¯åŠ¨æ—¶å¿…é¡»ä½¿ç”¨ SCFB æ¨¡å—ã€‚Ù3This command can be used to check the booting mode:Ù-è¿™ä¸ªå‘½ä»¤å¯ä»¥ç”¨æ¥æ£€æŸ¥å¯åŠ¨æ¨¡å¼ï¼šÚ$Intel(R) Graphics refers to the class of graphics chips that are integrated on the same die as an Intel(R) CPU.  Wikipedia offers link:https://en.wikipedia.org/wiki/List_of_Intel_graphics_processing_units[a good overview of the variations and names used for generations of Intel HD Graphics].ÚIntel(R) Graphics æŒ‡çš„æ˜¯ä¸ Intel(R) CPU é›†æˆåœ¨åŒä¸€èŠ¯ç‰‡ä¸Šçš„å›¾å½¢èŠ¯ç‰‡ç±»åˆ«ã€‚ç»´åŸºç™¾ç§‘æä¾›äº† link:https://en.wikipedia.org/wiki/List_of_Intel_graphics_processing_units[ä¸€ä¸ªå…³äº Intel HD Graphics å„ä¸ªä¸–ä»£çš„å˜ä½“å’Œå‘½åçš„è‰¯å¥½æ¦‚è¿°] ã€‚ÙÅThe package:graphics/drm-kmod[] package indirectly provides a range of kernel modules for use with Intel(R) Graphics cards.  The Intel(R) driver can be installed by executing the following command:Ù¢package:graphics/drm-kmod[] åŒ…é—´æ¥æä¾›äº†ä¸€ç³»åˆ—ç”¨äº Intel(R) å›¾å½¢å¡çš„å†…æ ¸æ¨¡å—ã€‚å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Intel(R) é©±åŠ¨ç¨‹åºï¼šÙLThen add the module to `/etc/rc.conf` file, executing the following command:ÙLç„¶åå°†è¯¥æ¨¡å—æ·»åŠ åˆ° `/etc/rc.conf` æ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ¿If a high CPU usage is noticed or excessive tearing with HD video, the installation of package:multimedia/libva-intel-driver[] may help.  To install the package execute the following command:ÙÄå¦‚æœæ³¨æ„åˆ°é«˜ CPU ä½¿ç”¨ç‡æˆ–é«˜æ¸…è§†é¢‘å‡ºç°è¿‡å¤šçš„æ’•è£‚ç°è±¡ï¼Œå®‰è£… package:multimedia/libva-intel-driver[] å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚è¦å®‰è£…è¯¥è½¯ä»¶åŒ…ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÚrThe package:graphics/drm-kmod[] package indirectly provides a range of kernel modules for use with AMD(R) Graphics cards.  The modules `amdgpu` and `radeonkms` can be used depending the generation of the hardware.  The FreeBSD project maintains an link:https://wiki.freebsd.org/Graphics/AMD-GPU-Matrix[AMD graphics support matrix to determine which driver must be used].Ú?package:graphics/drm-kmod[] åŒ…é—´æ¥æä¾›äº†ä¸€ç³»åˆ—ç”¨äº AMD(R) å›¾å½¢å¡çš„å†…æ ¸æ¨¡å—ã€‚æ ¹æ®ç¡¬ä»¶çš„ä»£æ•°ï¼Œå¯ä»¥ä½¿ç”¨ `amdgpu` å’Œ `radeonkms` æ¨¡å—ã€‚FreeBSD é¡¹ç›®ç»´æŠ¤äº†ä¸€ä¸ª link:https://wiki.freebsd.org/Graphics/AMD-GPU-Matrix[AMD å›¾å½¢æ”¯æŒçŸ©é˜µ]ï¼Œä»¥ç¡®å®šå¿…é¡»ä½¿ç”¨å“ªä¸ªé©±åŠ¨ç¨‹åºã€‚ÙBAMD(R) driver can be installed by executing the following command:Ù>å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… AMD(R) é©±åŠ¨ç¨‹åºï¼šÙoFor post-HD7000 or Tahiti graphic cards add the module to `/etc/rc.conf` file, executing the following command:Ùnå¯¹äº HD7000 ç³»åˆ—æˆ– Tahiti æ˜¾å¡ï¼Œè¯·å°†æ¨¡å—æ·»åŠ åˆ° `/etc/rc.conf` æ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙzFor older graphic cards (pre-HD7000 or pre-Tahiti) add the module to `/etc/rc.conf` file, executing the following command:Ù‚å¯¹äºè¾ƒæ—§çš„å›¾å½¢å¡ï¼ˆHD7000 ä¹‹å‰æˆ– Tahiti ä¹‹å‰ï¼Œè¯·å°†æ¨¡å—æ·»åŠ åˆ° `/etc/rc.conf` æ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙíFreeBSD supports different versions of the proprietary NVIDIA(R) driver.  Users of newer graphics cards should install the package:x11/nvidia-driver[] package.  Those with older cards will have to check below which version supports them.ÙÌFreeBSD æ”¯æŒä¸åŒç‰ˆæœ¬çš„ä¸“æœ‰ NVIDIA(R) é©±åŠ¨ç¨‹åºã€‚ä½¿ç”¨è¾ƒæ–°çš„æ˜¾å¡çš„ç”¨æˆ·åº”å®‰è£…åŒ…ï¼š x11/nvidia-driver[]ã€‚é‚£äº›ä½¿ç”¨è¾ƒæ—§æ˜¾å¡çš„ç”¨æˆ·éœ€è¦æŸ¥çœ‹ä¸‹é¢æ”¯æŒå®ƒä»¬çš„ç‰ˆæœ¬ã€‚Ù'Supported versions of NVIDIA(R) driversÙ&æ”¯æŒçš„ NVIDIA(R) é©±åŠ¨ç¨‹åºç‰ˆæœ¬²Supported hardware¯æ”¯æŒçš„ç¡¬ä»¶ÙYlink:https://www.nvidia.com/Download/driverResults.aspx/123712/en-us/[supported hardware]ÙVlink:https://www.nvidia.com/Download/driverResults.aspx/123712/en-us/[æ”¯æŒçš„ç¡¬ä»¶]ÙYlink:https://www.nvidia.com/Download/driverResults.aspx/156167/en-us/[supported hardware]ÙVlink:https://www.nvidia.com/Download/driverResults.aspx/156167/en-us/[æ”¯æŒçš„ç¡¬ä»¶]ÙYlink:https://www.nvidia.com/Download/driverResults.aspx/191122/en-us/[supported hardware]ÙVlink:https://www.nvidia.com/Download/driverResults.aspx/191122/en-us/[æ”¯æŒçš„ç¡¬ä»¶]ÙYlink:https://www.nvidia.com/Download/driverResults.aspx/194639/en-us/[supported hardware]ÙVlink:https://www.nvidia.com/Download/driverResults.aspx/194639/en-us/[æ”¯æŒçš„ç¡¬ä»¶]ÙYlink:https://www.nvidia.com/Download/driverResults.aspx/210651/en-us/[supported hardware]ÙVlink:https://www.nvidia.com/Download/driverResults.aspx/210651/en-us/[æ”¯æŒçš„ç¡¬ä»¶]ÙlVersion 304 of the NVIDIA(R) graphics driver (nvidia-driver-304) does not support xorg-server 1.20 or later.ÙnNVIDIA(R) å›¾å½¢é©±åŠ¨ç¨‹åºçš„ 304 ç‰ˆæœ¬ï¼ˆnvidia-driver-304ï¼‰ä¸æ”¯æŒ xorg-server 1.20 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ÙNThe latest NVIDIA(R) driver can be installed by running the following command:ÙMæœ€æ–°çš„ NVIDIA(R) é©±åŠ¨ç¨‹åºå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼šÙtThe `nvidia` driver must be used if the packages x11/nvidia-driver-304 or x11/nvidia-driver-340 have been installed.Ùtå¦‚æœå®‰è£…äº† x11/nvidia-driver-304 æˆ– x11/nvidia-driver-340 è½¯ä»¶åŒ…ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ `nvidia` é©±åŠ¨ç¨‹åºã€‚²Xorg Configuration«Xorg é…ç½®ÙGXorg supports most common video cards, keyboards, and pointing devices.ÙAXorg æ”¯æŒå¤§å¤šæ•°å¸¸è§çš„è§†é¢‘å¡ã€é”®ç›˜å’ŒæŒ‡é’ˆè®¾å¤‡ã€‚ÙÜVideo cards, monitors, and input devices are automatically detected and do not require any manual configuration.  Do not create [.filename]#xorg.conf# or run a `Xorg -configure` step unless automatic configuration fails.ÙÇè§†é¢‘å¡ã€æ˜¾ç¤ºå™¨å’Œè¾“å…¥è®¾å¤‡ä¼šè¢«è‡ªåŠ¨æ£€æµ‹ï¼Œä¸éœ€è¦ä»»ä½•æ‰‹åŠ¨é…ç½®ã€‚é™¤éè‡ªåŠ¨é…ç½®å¤±è´¥ï¼Œå¦åˆ™ä¸è¦åˆ›å»º [.filename]#xorg.conf# æ–‡ä»¶æˆ–è¿è¡Œ `Xorg -configure` æ­¥éª¤ã€‚³Configuration Files¬é…ç½®æ–‡ä»¶ÙğXorg looks in several directories for configuration files.  [.filename]#/usr/local/etc/X11/# is the *recommended* directory for these files on FreeBSD.  Using this directory helps keep application files separate from operating system files.ÙÊXorg åœ¨å¤šä¸ªç›®å½•ä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶ã€‚åœ¨ FreeBSD ä¸Šï¼Œæ¨èä½¿ç”¨ç›®å½• `/usr/local/etc/X11/` æ¥å­˜æ”¾è¿™äº›æ–‡ä»¶ã€‚ä½¿ç”¨è¿™ä¸ªç›®å½•å¯ä»¥å°†åº”ç”¨ç¨‹åºæ–‡ä»¶ä¸æ“ä½œç³»ç»Ÿæ–‡ä»¶åˆ†å¼€ã€‚¸Single or Multiple Files»å•ä¸ªæ–‡ä»¶æˆ–å¤šä¸ªæ–‡ä»¶Ù×It is easier to use multiple files that each configure a specific setting than the traditional single [.filename]#xorg.conf#.  These files are stored in the [.filename]#/usr/local/etc/X11/xorg.conf.d/# subdirectory.Ùµä½¿ç”¨å¤šä¸ªæ–‡ä»¶æ¥é…ç½®ç‰¹å®šè®¾ç½®æ¯”ä¼ ç»Ÿçš„å•ä¸ª [.filename]#xorg.conf# æ–‡ä»¶æ›´å®¹æ˜“ã€‚è¿™äº›æ–‡ä»¶å­˜å‚¨åœ¨ [.filename]#/usr/local/etc/X11/xorg.conf.d/# å­ç›®å½•ä¸­ã€‚Ù¶The traditional single [.filename]#xorg.conf# still works, but is neither as clear nor as flexible as multiple files in the [.filename]#/usr/local/etc/X11/xorg.conf.d/# subdirectory.Ù²ä¼ ç»Ÿçš„å•ä¸€ [.filename]#xorg.conf# ä»ç„¶æœ‰æ•ˆï¼Œä½†æ˜¯ä¸ä½äº [.filename]#/usr/local/etc/X11/xorg.conf.d/# å­ç›®å½•ä¸­çš„å¤šä¸ªæ–‡ä»¶ç›¸æ¯”ï¼Œæ—¢ä¸æ¸…æ™°ä¹Ÿä¸çµæ´»ã€‚«Video Cards©è§†é¢‘å¡ÙpThe driver for the graphics card can be specified in the [.filename]#/usr/local/etc/X11/xorg.conf.d/# directory.Ùaå›¾å½¢å¡çš„é©±åŠ¨ç¨‹åºå¯ä»¥åœ¨ [.filename]#/usr/local/etc/X11/xorg.conf.d/# ç›®å½•ä¸­æŒ‡å®šã€‚Ù9To configure the Intel(R) driver in a configuration file:Ù4è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® Intel(R) é©±åŠ¨ç¨‹åºï¼šÙ&Select Intel(R) Video Driver in a FileÙ.åœ¨æ–‡ä»¶ä¸­é€‰æ‹© Intel(R) è§†é¢‘é©±åŠ¨ç¨‹åºÙ7To configure the AMD(R) driver in a configuration file:Ù2è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® AMD(R) é©±åŠ¨ç¨‹åºï¼šÙ$Select AMD(R) Video Driver in a FileÙ,åœ¨æ–‡ä»¶ä¸­é€‰æ‹© AMD(R) è§†é¢‘é©±åŠ¨ç¨‹åºÙ:To configure the NVIDIA(R) driver in a configuration file:Ù5è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® NVIDIA(R) é©±åŠ¨ç¨‹åºï¼šÙ'Select NVIDIA(R) Video Driver in a FileÙ/åœ¨æ–‡ä»¶ä¸­é€‰æ‹© NVIDIA(R) è§†é¢‘é©±åŠ¨ç¨‹åºÙpackage:x11/nvidia-xconfig[] can also be used to perform basic control over configuration options available in the NVIDIA driver.Ùppackage:x11/nvidia-xconfig[] ä¹Ÿå¯ä»¥ç”¨æ¥å¯¹ NVIDIA é©±åŠ¨ç¨‹åºä¸­å¯ç”¨çš„é…ç½®é€‰é¡¹è¿›è¡ŒåŸºæœ¬æ§åˆ¶ã€‚Ù5To configure the VESA driver in a configuration file:Ù0è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® VESA é©±åŠ¨ç¨‹åºï¼šÙ"Select VESA Video Driver in a FileÙ*åœ¨æ–‡ä»¶ä¸­é€‰æ‹© VESA è§†é¢‘é©±åŠ¨ç¨‹åºÙ5To configure the SCFB driver in a configuration file:Ù0è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® SCFB é©±åŠ¨ç¨‹åºï¼šÙ"Select SCFB Video Driver in a FileÙ*åœ¨æ–‡ä»¶ä¸­é€‰æ‹© SCFB è§†é¢‘é©±åŠ¨ç¨‹åºÙ}To configure multiple video cards, the `BusID` can be added.  A list of video card bus ``ID``s can be displayed by executing:Ùqè¦é…ç½®å¤šä¸ªè§†é¢‘å¡ï¼Œå¯ä»¥æ·»åŠ  `BusID`ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥æ˜¾ç¤ºè§†é¢‘å¡æ€»çº¿ `ID` çš„åˆ—è¡¨ï¼šÙASelect Intel(R) Video Driver and NVIDIA(R) Video Driver in a FileÙWåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­é€‰æ‹© Intel(R) è§†é¢‘é©±åŠ¨ç¨‹åºå’Œ NVIDIA(R) è§†é¢‘é©±åŠ¨ç¨‹åºã€‚¨Monitors©æ˜¾ç¤ºå™¨ÚAlmost all monitors support the Extended Display Identification Data standard (`EDID`).  Xorg uses `EDID` to communicate with the monitor and detect the supported resolutions and refresh rates.  Then it selects the most appropriate combination of settings to use with that monitor.Ùèå‡ ä¹æ‰€æœ‰çš„æ˜¾ç¤ºå™¨éƒ½æ”¯æŒæ‰©å±•æ˜¾ç¤ºè¯†åˆ«æ•°æ®æ ‡å‡†ï¼ˆ`EDID`ï¼‰ã€‚Xorg ä½¿ç”¨ `EDID` ä¸æ˜¾ç¤ºå™¨è¿›è¡Œé€šä¿¡ï¼Œæ£€æµ‹æ”¯æŒçš„åˆ†è¾¨ç‡å’Œåˆ·æ–°ç‡ï¼Œç„¶åé€‰æ‹©æœ€åˆé€‚çš„è®¾ç½®ç»„åˆæ¥ä¸è¯¥æ˜¾ç¤ºå™¨é…åˆä½¿ç”¨ã€‚Ù­Other resolutions supported by the monitor can be chosen by setting the desired resolution in configuration files, or after the X server has been started with man:xrandr[1].Ù–å¯ä»¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®æ‰€éœ€çš„åˆ†è¾¨ç‡ï¼Œæˆ–åœ¨å¯åŠ¨ X æœåŠ¡å™¨åä½¿ç”¨ man:xrandr[1] æ¥é€‰æ‹©æ˜¾ç¤ºå™¨æ”¯æŒçš„å…¶ä»–åˆ†è¾¨ç‡ã€‚¿Using RandR (Resize and Rotate)Ù ä½¿ç”¨ RandR (Resize and Rotate)ÙcRun man:xrandr[1] without any parameters to see a list of video outputs and detected monitor modes:Ùrè¿è¡Œ man:xrandr[1] å‘½ä»¤ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ï¼Œå¯ä»¥æŸ¥çœ‹è§†é¢‘è¾“å‡ºå’Œæ£€æµ‹åˆ°çš„æ˜¾ç¤ºå™¨æ¨¡å¼åˆ—è¡¨ï¼šÚgThis shows that the `VGA-1` output is being used to display a screen resolution of 1280x960 pixels at a refresh rate of about 60 Hz.  The `LVDS-1` is being used as a secondary monitor to display a screen resolution of 1280x800 pixels at a refresh rate of about 60 Hz.  Monitors are not attached to the `HDMI-1`, `HDMI-2`, `DP-1`, `DP-2` and `DP-3` connectors.Ú+è¿™è¡¨æ˜ `VGA-1` è¾“å‡ºæ­£åœ¨ç”¨äºæ˜¾ç¤ºåˆ†è¾¨ç‡ä¸º 1280x960 åƒç´ ã€åˆ·æ–°ç‡çº¦ä¸º 60 Hz çš„å±å¹•ã€‚`LVDS-1` è¢«ç”¨ä½œè¾…åŠ©æ˜¾ç¤ºå™¨ï¼Œæ˜¾ç¤ºåˆ†è¾¨ç‡ä¸º 1280x800 åƒç´ ã€åˆ·æ–°ç‡çº¦ä¸º 60 Hz çš„å±å¹•ã€‚`HDMI-1`ã€`HDMI-2`ã€`DP-1`ã€`DP-2` å’Œ `DP-3` è¿æ¥å™¨ä¸Šæ²¡æœ‰è¿æ¥æ˜¾ç¤ºå™¨ã€‚ÙqAny of the other display modes can be selected with man:xrandr[1].  For example, to switch to 1280x1024 at 60 Hz:Ùå¯ä»¥ä½¿ç”¨ man:xrandr[1] é€‰æ‹©ä»»ä½•å…¶ä»–çš„æ˜¾ç¤ºæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œè¦åˆ‡æ¢åˆ° 1280x1024 åˆ†è¾¨ç‡ï¼Œåˆ·æ–°ç‡ä¸º 60 Hz ï¼šÙ!Using the Xorg configuration file¸ä½¿ç”¨ Xorg é…ç½®æ–‡ä»¶ÙBThe monitor configuration can also be set in a configuration file.Ù9ç›‘è§†å™¨é…ç½®ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ã€‚Ù?To set a screen resolution of 1024x768 in a configuration file:Ù7åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å±å¹•åˆ†è¾¨ç‡ä¸º 1024x768 ï¼š¿Set Screen Resolution in a FileÙ!åœ¨æ–‡ä»¶ä¸­è®¾ç½®å±å¹•åˆ†è¾¨ç‡­Input Devices¬è¾“å…¥è®¾å¤‡ÙLXorg supports the vast majority of input devices via package:x11/libinput[].ÙDXorg é€šè¿‡ package:x11/libinput[] æ”¯æŒç»å¤§éƒ¨åˆ†è¾“å…¥è®¾å¤‡ã€‚Ù°Some desktop environments (such as KDE Plasma) provide a graphical UI for setting these parameters.  Check if this is the case before resorting to manual configuration editing.Ù¡ä¸€äº›æ¡Œé¢ç¯å¢ƒï¼ˆå¦‚ KDE Plasmaï¼‰æä¾›äº†ç”¨äºè®¾ç½®è¿™äº›å‚æ•°çš„å›¾å½¢ç•Œé¢ã€‚åœ¨å°è¯•æ‰‹åŠ¨é…ç½®ç¼–è¾‘ä¹‹å‰ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰è¿™æ ·çš„ç•Œé¢ã€‚Ù.For example, to configure the keyboard layout:Ù!ä¾‹å¦‚ï¼Œè¦é…ç½®é”®ç›˜å¸ƒå±€ï¼š¹Setting a Keyboard Layout²è®¾ç½®é”®ç›˜å¸ƒå±€³Using Fonts in Xorg¸åœ¨ Xorg ä¸­ä½¿ç”¨å­—ä½“Ú[The default fonts that ship with Xorg are less than ideal for typical desktop publishing applications.  Large presentation fonts show up jagged and unprofessional looking, and small fonts are almost completely unintelligible.  However, there are several free, high quality Type1 (PostScript(R)) fonts available which can be readily used with Xorg.ÚXorg é»˜è®¤æä¾›çš„å­—ä½“å¯¹äºå…¸å‹çš„æ¡Œé¢å‡ºç‰ˆåº”ç”¨æ¥è¯´å¹¶ä¸ç†æƒ³ã€‚å¤§å·æ¼”ç¤ºå­—ä½“æ˜¾ç¤ºå‡ºæ¥ä¼šæœ‰é”¯é½¿çŠ¶ï¼Œä¸å¤Ÿä¸“ä¸šï¼Œè€Œå°å·å­—ä½“å‡ ä¹å®Œå…¨æ— æ³•è¾¨è®¤ã€‚ç„¶è€Œï¼Œæœ‰å‡ ç§å…è´¹çš„é«˜è´¨é‡ Type1 (PostScript(R)) å­—ä½“å¯ä¾›åœ¨ Xorg ä¸­æ–¹ä¾¿åœ°ä½¿ç”¨ã€‚«Type1 Fonts¬Type1 å­—ä½“Ú The URW font collection (package:x11-fonts/urwfonts[]) includes high quality versions of standard type1 fonts (Times Roman(TM), Helvetica(TM), Palatino(TM) and others).  The Freefonts collection (package:x11-fonts/freefonts[]) includes many more fonts, but most of them are intended for use in graphics software such as the Gimp, and are not complete enough to serve as screen fonts.  In addition, Xorg can be configured to use TrueType(R) fonts with a minimum of effort.  For more details on this, see the man:X[7] manual page or <<truetype>>.ÚÃURW å­—ä½“é›†åˆ (package:x11-fonts/urwfonts[]) åŒ…æ‹¬æ ‡å‡† Type1 å­—ä½“ (Times Roman(TM)ï¼ŒHelvetica(TM)ï¼ŒPalatino(TM) ç­‰ï¼‰çš„é«˜è´¨é‡ç‰ˆæœ¬ã€‚Freefonts é›†åˆ (package:x11-fonts/freefonts[]) åŒ…æ‹¬æ›´å¤šå­—ä½“ï¼Œä½†å¤§éƒ¨åˆ†æ˜¯ä¸ºå›¾å½¢è½¯ä»¶ï¼ˆå¦‚ Gimpï¼‰ä½¿ç”¨çš„ï¼Œå¹¶ä¸å®Œæ•´ï¼Œä¸èƒ½ç”¨ä½œå±å¹•å­—ä½“ã€‚æ­¤å¤–ï¼ŒXorg å¯ä»¥é…ç½®ä¸ºè½»æ¾ä½¿ç”¨ TrueType(R) å­—ä½“ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:X[7] æ‰‹å†Œé¡µé¢æˆ– <<truetype>>ã€‚Ù]To install the above Type1 font collections from binary packages, run the following commands:ÙXè¦å®‰è£…ä¸Šè¿°çš„ Type1 å­—ä½“é›†åˆï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…äºŒè¿›åˆ¶åŒ…ï¼šÙãAnd likewise with the freefont or other collections.  To have the X server detect these fonts, add an appropriate line to the X server configuration file ([.filename]#/usr/local/etc/X11/xorg.conf.d/90-fonts.conf#), which reads:ÙòåŒæ ·ï¼Œå¯¹äº freefont æˆ–å…¶ä»–å­—ä½“é›†åˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¦è®© X æœåŠ¡å™¨æ£€æµ‹è¿™äº›å­—ä½“ï¼Œéœ€è¦åœ¨ X æœåŠ¡å™¨é…ç½®æ–‡ä»¶ ([.filename]#/usr/local/etc/X11/xorg.conf.d/90-fonts.conf#) ä¸­æ·»åŠ ä¸€è¡Œé€‚å½“çš„å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šÙ8Alternatively, at the command line in the X session run:Ù-æˆ–è€…ï¼Œåœ¨ X ä¼šè¯çš„å‘½ä»¤è¡Œä¸­è¿è¡Œï¼šÚcThis will work but will be lost when the X session is closed, unless it is added to the startup file ([.filename]#~/.xinitrc# for a normal `startx` session, or [.filename]#~/.xsession# when logging in through a graphical login manager like XDM).  A third way is to use the new [.filename]#/usr/local/etc/fonts/local.conf# as demonstrated in <<antialias>>.Únè¿™å°†èµ·ä½œç”¨ï¼Œä½†åœ¨ X ä¼šè¯å…³é—­æ—¶å°†ä¸¢å¤±ï¼Œé™¤éå°†å…¶æ·»åŠ åˆ°å¯åŠ¨æ–‡ä»¶ï¼ˆå¯¹äºæ™®é€šçš„ `startx` ä¼šè¯ï¼Œä¸º [.filename]#~/.xinitrc#ï¼Œæˆ–è€…å¯¹äºé€šè¿‡å›¾å½¢ç™»å½•ç®¡ç†å™¨ï¼ˆå¦‚ XDMï¼‰ç™»å½•çš„æƒ…å†µï¼Œä¸º [.filename]#~/.xsession#ï¼‰ã€‚ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯ä½¿ç”¨æ–°çš„ [.filename]#/usr/local/etc/fonts/local.conf#ï¼Œå¦‚ <<antialias>> ä¸­æ‰€ç¤ºã€‚±TrueType(R) Fonts²TrueType(R) å­—ä½“Ú†Xorg has built in support for rendering TrueType(R) fonts.  There are two different modules that can enable this functionality.  The freetype module is used in this example because it is more consistent with the other font rendering back-ends.  To enable the freetype module just add the following line to the `"Module"` section of [.filename]#/usr/local/etc/X11/xorg.conf.d/90-fonts.conf#.ÚWXorg å†…ç½®äº†å¯¹ TrueType(R) å­—ä½“çš„æ¸²æŸ“æ”¯æŒã€‚æœ‰ä¸¤ä¸ªä¸åŒçš„æ¨¡å—å¯ä»¥å¯ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨ freetype æ¨¡å—ï¼Œå› ä¸ºå®ƒä¸å…¶ä»–å­—ä½“æ¸²æŸ“åç«¯æ›´åŠ ä¸€è‡´ã€‚è¦å¯ç”¨ freetype æ¨¡å—ï¼Œåªéœ€å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ° [.filename]#/usr/local/etc/X11/xorg.conf.d/90-fonts.conf# æ–‡ä»¶çš„ `"Module"` éƒ¨åˆ†ã€‚Ú%Now make a directory for the TrueType(R) fonts (for example, [.filename]#/usr/local/share/fonts/TrueType#) and copy all of the TrueType(R) fonts into this directory.  Keep in mind that TrueType(R) fonts cannot be directly taken from an Apple(R) Mac(R); they must be in UNIX(R)/MS-DOS(R)/Windows(R) format for use by Xorg.  Once the files have been copied into this directory, use mkfontscale to create a [.filename]#fonts.dir#, so that the X font renderer knows that these new files have been installed.  `mkfontscale` can be installed as a package:Ú"ç°åœ¨åˆ›å»ºä¸€ä¸ªç”¨äº TrueType(R) å­—ä½“çš„ç›®å½•ï¼ˆä¾‹å¦‚ï¼Œ[.filename]#/usr/local/share/fonts/TrueType#ï¼‰ï¼Œå¹¶å°†æ‰€æœ‰çš„ TrueType(R) å­—ä½“å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ã€‚è¯·è®°ä½ï¼ŒTrueType(R) å­—ä½“ä¸èƒ½ç›´æ¥ä» Apple(R) Mac(R) ä¸­è·å–ï¼›å®ƒä»¬å¿…é¡»ä»¥ UNIX(R)/MS-DOS(R)/Windows(R) æ ¼å¼å­˜åœ¨ï¼Œä»¥ä¾› Xorg ä½¿ç”¨ã€‚ä¸€æ—¦æ–‡ä»¶è¢«å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ï¼Œä½¿ç”¨ mkfontscale åˆ›å»ºä¸€ä¸ª [.filename]#fonts.dir# æ–‡ä»¶ï¼Œä»¥ä¾¿ X å­—ä½“æ¸²æŸ“å™¨çŸ¥é“è¿™äº›æ–°æ–‡ä»¶å·²ç»å®‰è£…ã€‚`mkfontscale` å¯ä»¥ä½œä¸ºä¸€ä¸ªè½¯ä»¶åŒ…è¿›è¡Œå®‰è£…ï¼šÙ4Then create an index of X font files in a directory:Ù9ç„¶ååœ¨ä¸€ä¸ªç›®å½•ä¸­åˆ›å»º X å­—ä½“æ–‡ä»¶çš„ç´¢å¼•ï¼šÙeNow add the TrueType(R) directory to the font path.  This is just the same as described in <<type1>>:Ùiç°åœ¨å°† TrueType(R) ç›®å½•æ·»åŠ åˆ°å­—ä½“è·¯å¾„ä¸­ã€‚è¿™ä¸ <<type1>> ä¸­æè¿°çš„æ–¹å¼å®Œå…¨ç›¸åŒã€‚Ù3or add a `FontPath` line to [.filename]#xorg.conf#.ÙHæˆ–è€…åœ¨ [.filename]#xorg.conf# æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ª `FontPath` è¡Œã€‚ÚNow Gimp, LibreOffice, and all of the other X applications should now recognize the installed TrueType(R) fonts.  Extremely small fonts (as with text in a high resolution display on a web page) and extremely large fonts (within LibreOffice) will look much better now.Ùğç°åœ¨ï¼ŒGimpã€LibreOffice å’Œæ‰€æœ‰å…¶ä»– X åº”ç”¨ç¨‹åºåº”è¯¥èƒ½å¤Ÿè¯†åˆ«å·²å®‰è£…çš„ TrueType(R) å­—ä½“ã€‚ç°åœ¨ï¼Œåœ¨é«˜åˆ†è¾¨ç‡æ˜¾ç¤ºå™¨ä¸Šçš„ç½‘é¡µæ–‡æœ¬ä¸­çš„æå°å­—ä½“ä»¥åŠ LibreOffice ä¸­çš„æå¤§å­—ä½“å°†ä¼šçœ‹èµ·æ¥æ›´å¥½ã€‚²Anti-Aliased Fonts¯æŠ—é”¯é½¿å­—ä½“ÙüAll fonts in Xorg that are found in [.filename]#/usr/local/share/fonts/# and [.filename]#~/.fonts/# are automatically made available for anti-aliasing to Xft-aware applications. Most recent applications are Xft-aware, including KDE, GNOME, and Firefox.Úåœ¨ Xorg ä¸­ï¼Œæ‰€æœ‰åœ¨ [.filename]#/usr/local/share/fonts/# å’Œ [.filename]#~/.fonts/# ç›®å½•ä¸­æ‰¾åˆ°çš„å­—ä½“éƒ½ä¼šè‡ªåŠ¨æä¾›ç»™æ”¯æŒ Xft-aware çš„åº”ç”¨ç¨‹åºè¿›è¡Œåé”¯é½¿å¤„ç†ã€‚å¤§å¤šæ•°æœ€æ–°çš„åº”ç”¨ç¨‹åºéƒ½æ”¯æŒ Xft-awareï¼ŒåŒ…æ‹¬ KDEã€GNOME å’Œ Firefoxã€‚ÚhTo control which fonts are anti-aliased, or to configure anti-aliasing properties, create (or edit, if it already exists) the file [.filename]#/usr/local/etc/fonts/local.conf#.  Several advanced features of the Xft font system can be tuned using this file; this section describes only some simple possibilities.  For more details, please see man:fonts-conf[5].Ú@è¦æ§åˆ¶åé”¯é½¿çš„å­—ä½“æˆ–é…ç½®åé”¯é½¿å±æ€§ï¼Œè¯·åˆ›å»ºï¼ˆæˆ–ç¼–è¾‘ï¼Œå¦‚æœå·²å­˜åœ¨ï¼‰æ–‡ä»¶ [.filename]#/usr/local/etc/fonts/local.conf#ã€‚å¯ä»¥ä½¿ç”¨æ­¤æ–‡ä»¶è°ƒæ•´ Xft å­—ä½“ç³»ç»Ÿçš„å‡ ä¸ªé«˜çº§åŠŸèƒ½ï¼›æœ¬èŠ‚ä»…æè¿°äº†ä¸€äº›ç®€å•çš„å¯èƒ½æ€§ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:fonts-conf[5]ã€‚ÙÚThis file must be in XML format.  Pay careful attention to case, and make sure all tags are properly closed.  The file begins with the usual XML header followed by a DOCTYPE definition, and then the `<fontconfig>` tag:ÙÅè¿™ä¸ªæ–‡ä»¶å¿…é¡»æ˜¯ XML æ ¼å¼çš„ã€‚è¯·æ³¨æ„å¤§å°å†™ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰æ ‡ç­¾éƒ½æ­£ç¡®é—­åˆã€‚æ–‡ä»¶ä»¥é€šå¸¸çš„ XML å¤´éƒ¨å¼€å§‹ï¼Œæ¥ç€æ˜¯ DOCTYPE å®šä¹‰ï¼Œç„¶åæ˜¯ `<fontconfig>` æ ‡ç­¾ã€‚Ú%As previously stated, all fonts in [.filename]#/usr/local/share/fonts/# as well as [.filename]#~/.fonts/# are already made available to Xft-aware applications.  To add another directory outside of these two directory trees, add a line like this to [.filename]#/usr/local/etc/fonts/local.conf#:Ú=å¦‚å‰æ‰€è¿°ï¼Œä½äº [.filename]#/usr/local/share/fonts/# å’Œ [.filename]#~/.fonts/# ç›®å½•ä¸­çš„æ‰€æœ‰å­—ä½“å·²ç»å¯ä»¥åœ¨æ”¯æŒ Xft-aware çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚å¦‚æœè¦æ·»åŠ ä¸€ä¸ªä½äºè¿™ä¸¤ä¸ªç›®å½•æ ‘ä¹‹å¤–çš„ç›®å½•ï¼Œå¯ä»¥åœ¨ [.filename]#/usr/local/etc/fonts/local.conf# æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¸€è¡Œï¼šÙUAfter adding new fonts, and especially new font directories, rebuild the font caches:ÙQåœ¨æ·»åŠ æ–°å­—ä½“ï¼Œå°¤å…¶æ˜¯æ–°çš„å­—ä½“ç›®å½•åï¼Œé‡æ–°æ„å»ºå­—ä½“ç¼“å­˜ï¼šÚAnti-aliasing makes borders slightly fuzzy, which makes very small text more readable and removes "staircases" from large text, but can cause eyestrain if applied to normal text.  To exclude font sizes smaller than 14 point from anti-aliasing, include these lines:ÚæŠ—é”¯é½¿ä¼šä½¿è¾¹ç•Œç•¥å¾®æ¨¡ç³Šï¼Œè¿™ä½¿å¾—éå¸¸å°çš„æ–‡æœ¬æ›´æ˜“è¯»ï¼Œå¹¶æ¶ˆé™¤äº†å¤§æ–‡æœ¬ä¸Šçš„â€œé˜¶æ¢¯çŠ¶â€æ•ˆæœï¼Œä½†å¦‚æœåº”ç”¨äºæ™®é€šæ–‡æœ¬ï¼Œå¯èƒ½ä¼šå¯¼è‡´çœ¼éƒ¨ç–²åŠ³ã€‚è¦æ’é™¤å°äº 14 ç‚¹å­—å·çš„å­—ä½“åº”ç”¨æŠ—é”¯é½¿ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ è¡Œä»£ç ï¼šÙÛSpacing for some monospaced fonts might also be inappropriate with anti-aliasing.  This seems to be an issue with KDE, in particular.  One possible fix is to force the spacing for such fonts to be 100.  Add these lines:ÙÓå¯¹äºæŸäº›ç­‰å®½å­—ä½“ï¼Œä½¿ç”¨åé”¯é½¿å¯èƒ½ä¼šå¯¼è‡´é—´è·ä¸åˆé€‚ã€‚è¿™ä¼¼ä¹æ˜¯ KDE ç‰¹åˆ«å­˜åœ¨çš„é—®é¢˜ã€‚ä¸€ä¸ªå¯èƒ½çš„è§£å†³æ–¹æ³•æ˜¯å¼ºåˆ¶å°†è¿™äº›å­—ä½“çš„é—´è·è®¾ç½®ä¸º 100 ã€‚æ·»åŠ ä»¥ä¸‹è¡Œï¼šÙP(this aliases the other common names for fixed fonts as `"mono"`), and then add:ÙQï¼ˆè¿™å°†å…¶ä»–å¸¸è§çš„å›ºå®šå­—ä½“åç§°åˆ«åä¸º `"mono"`ï¼‰ï¼Œç„¶åæ·»åŠ ï¼šÚCertain fonts, such as Helvetica, may have a problem when anti-aliased.  Usually this manifests itself as a font that seems cut in half vertically.  At worst, it may cause applications to crash.  To avoid this, consider adding the following to [.filename]#local.conf#:ÚæŸäº›å­—ä½“ï¼Œæ¯”å¦‚ Helveticaï¼Œåœ¨åé”¯é½¿å¤„ç†æ—¶å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚é€šå¸¸è¡¨ç°ä¸ºå­—ä½“åœ¨å‚ç›´æ–¹å‘ä¸Šè¢«åˆ‡å‰²äº†ä¸€åŠã€‚æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå´©æºƒã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œè€ƒè™‘å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° .local.conf æ–‡ä»¶ä¸­ï¼šÙ“After editing [.filename]#local.conf#, make certain to end the file with the `</fontconfig>` tag.  Not doing this will cause changes to be ignored.ÙŠåœ¨ç¼–è¾‘ [.filename]#local.conf# åï¼Œç¡®ä¿ç”¨ `</fontconfig>` æ ‡ç­¾ç»“æŸæ–‡ä»¶ã€‚å¦‚æœä¸è¿™æ ·åšï¼Œå°†ä¼šå¿½ç•¥æ‰€åšçš„æ›´æ”¹ã€‚ÙUsers can add personalized settings by creating their own [.filename]#~/.config/fontconfig/fonts.conf#.  This file uses the same `XML` format described above.Ù§ç”¨æˆ·å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå·±çš„ [.filename]#~/.config/fontconfig/fonts.conf# æ–‡ä»¶æ¥æ·»åŠ ä¸ªæ€§åŒ–è®¾ç½®ã€‚è¯¥æ–‡ä»¶ä½¿ç”¨ä¸Šè¿°æè¿°çš„ç›¸åŒçš„ `XML` æ ¼å¼ã€‚Ú+One last point: with an LCD screen, sub-pixel sampling may be desired.  This basically treats the (horizontally separated) red, green and blue components separately to improve the horizontal resolution; the results can be dramatic.  To enable this, add the line somewhere in [.filename]#local.conf#:Ú/æœ€åä¸€ä¸ªè¦ç‚¹ï¼šå¯¹äº LCD å±å¹•ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œäºšåƒç´ é‡‡æ ·ã€‚è¿™åŸºæœ¬ä¸Šæ˜¯å°†ï¼ˆæ°´å¹³åˆ†ç¦»çš„ï¼‰çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²åˆ†é‡åˆ†åˆ«å¤„ç†ï¼Œä»¥æé«˜æ°´å¹³åˆ†è¾¨ç‡ï¼›ç»“æœå¯èƒ½éå¸¸æ˜¾è‘—ã€‚è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·åœ¨ [.filename]#local.conf# ä¸­çš„æŸä¸ªä½ç½®æ·»åŠ ä»¥ä¸‹è¡Œï¼šÙDepending on the sort of display, `rgb` may need to be changed to `bgr`, `vrgb` or `vbgr`: experiment and see which works best.Ùæ ¹æ®æ˜¾ç¤ºå™¨çš„ç±»å‹ï¼Œå¯èƒ½éœ€è¦å°† `rgb` æ›´æ”¹ä¸º `bgr`ã€`vrgb` æˆ– `vbgr`ï¼šè¿›è¡Œå®éªŒå¹¶æŸ¥çœ‹å“ªç§æ•ˆæœæœ€å¥½ã€‚Ù‚For more information about how to install and configure fonts on FreeBSD, please read the article link:{fonts}[Fonts and FreeBSD].Ùnæœ‰å…³åœ¨ FreeBSD ä¸Šå®‰è£…å’Œé…ç½®å­—ä½“çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»æ–‡ç«  link:{fonts}[å­—ä½“å’Œ FreeBSD]ã€‚ÙlZFS is an advanced file system designed to solve major problems found in previous storage subsystem softwareÙgZFS æ˜¯ä¸€ç§å…ˆè¿›çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ—¨åœ¨è§£å†³ä»¥å‰å­˜å‚¨å­ç³»ç»Ÿè½¯ä»¶ä¸­å­˜åœ¨çš„ä¸»è¦é—®é¢˜ã€‚Ù#Chapter 22. The Z File System (ZFS)Ù"ç¬¬ 22 ç«  Z æ–‡ä»¶ç³»ç»Ÿï¼ˆZFSï¼‰·The Z File System (ZFS)·Z æ–‡ä»¶ç³»ç»Ÿï¼ˆZFSï¼‰ÙmZFS is an advanced file system designed to solve major problems found in previous storage subsystem software.ÙgZFS æ˜¯ä¸€ç§å…ˆè¿›çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ—¨åœ¨è§£å†³ä»¥å‰å­˜å‚¨å­ç³»ç»Ÿè½¯ä»¶ä¸­å­˜åœ¨çš„ä¸»è¦é—®é¢˜ã€‚Ù{Originally developed at Sun(TM), ongoing open source ZFS development has moved to the http://open-zfs.org[OpenZFS Project].Ùnæœ€åˆç”± Sun(TM) å¼€å‘ï¼ŒæŒç»­çš„å¼€æº ZFS å¼€å‘å·²ç»è½¬ç§»åˆ°äº† http://open-zfs.org[OpenZFS é¡¹ç›®]ã€‚Ù!ZFS has three major design goals:Ù%ZFS æœ‰ä¸‰ä¸ªä¸»è¦çš„è®¾è®¡ç›®æ ‡ï¼šÚ|Data integrity: All data includes a <<zfs-term-checksum,checksum>> of the data. ZFS calculates checksums and writes them along with the data. When reading that data later, ZFS recalculates the checksums. If the checksums do not match, meaning detecting one or more data errors, ZFS will attempt to automatically correct errors when ditto-, mirror-, or parity-blocks are available.ÚAæ•°æ®å®Œæ•´æ€§ï¼šæ‰€æœ‰æ•°æ®éƒ½åŒ…å«æ•°æ®çš„æ ¡éªŒå’Œã€‚ZFS ä¼šè®¡ç®—æ ¡éªŒå’Œå¹¶å°†å…¶ä¸æ•°æ®ä¸€èµ·å†™å…¥ã€‚å½“ä»¥åè¯»å–è¯¥æ•°æ®æ—¶ï¼ŒZFS ä¼šé‡æ–°è®¡ç®—æ ¡éªŒå’Œã€‚å¦‚æœæ ¡éªŒå’Œä¸åŒ¹é…ï¼Œå³æ£€æµ‹åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®é”™è¯¯ï¼ŒZFS å°†å°è¯•åœ¨å¯ç”¨çš„å‰¯æœ¬ã€é•œåƒæˆ–å¥‡å¶å—æ—¶è‡ªåŠ¨çº æ­£é”™è¯¯ã€‚ÙÛPooled storage: adding physical storage devices to a pool, and allocating storage space from that shared pool. Space is available to all file systems and volumes, and increases by adding new storage devices to the pool.ÙÏæ±‡é›†å­˜å‚¨ï¼šå°†ç‰©ç†å­˜å‚¨è®¾å¤‡æ·»åŠ åˆ°ä¸€ä¸ªæ± ä¸­ï¼Œå¹¶ä»è¯¥å…±äº«æ± ä¸­åˆ†é…å­˜å‚¨ç©ºé—´ã€‚ç©ºé—´å¯ä¾›æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿå’Œå·ä½¿ç”¨ï¼Œå¹¶é€šè¿‡åœ¨æ± ä¸­æ·»åŠ æ–°çš„å­˜å‚¨è®¾å¤‡æ¥å¢åŠ ç©ºé—´ã€‚ÚPerformance: caching mechanisms provide increased performance. <<zfs-term-arc,ARC>> is an advanced memory-based read cache. ZFS provides a second level disk-based read cache with <<zfs-term-l2arc,L2ARC>>, and a disk-based synchronous write cache named <<zfs-term-zil,ZIL>>.Úæ€§èƒ½ï¼šç¼“å­˜æœºåˆ¶æä¾›äº†æ›´é«˜çš„æ€§èƒ½ã€‚<<zfs-term-arc,ARC>> æ˜¯ä¸€ç§å…ˆè¿›çš„åŸºäºå†…å­˜çš„è¯»å–ç¼“å­˜ã€‚ZFS æä¾›äº†ç¬¬äºŒçº§åŸºäºç£ç›˜çš„è¯»å–ç¼“å­˜ <<zfs-term-l2arc,L2ARC>> ï¼Œä»¥åŠä¸€ç§åŸºäºç£ç›˜çš„åŒæ­¥å†™å…¥ç¼“å­˜ï¼Œåä¸º <<zfs-term-zil,ZIL>>ã€‚Ù?A complete list of features and terminology is in <<zfs-term>>.Ù7å®Œæ•´çš„åŠŸèƒ½å’Œæœ¯è¯­åˆ—è¡¨è¯·å‚è§ <<zfs-term>>ã€‚¸What Makes ZFS Different¶ZFS æœ‰ä½•ä¸åŒä¹‹å¤„ÚGMore than a file system, ZFS is fundamentally different from traditional file systems.  Combining the traditionally separate roles of volume manager and file system provides ZFS with unique advantages.  The file system is now aware of the underlying structure of the disks.  Traditional file systems could exist on a single disk alone at a time.  If there were two disks then creating two separate file systems was necessary.  A traditional hardware RAID configuration avoided this problem by presenting the operating system with a single logical disk made up of the space provided by physical disks on top of which the operating system placed a file system.  Even with software RAID solutions like those provided by GEOM, the UFS file system living on top of the RAID believes it's dealing with a single device.  ZFS' combination of the volume manager and the file system solves this and allows the creation of file systems that all share a pool of available storage.  One big advantage of ZFS' awareness of the physical disk layout is that existing file systems grow automatically when adding extra disks to the pool.  This new space then becomes available to the file systems.  ZFS can also apply different properties to each file system. This makes it useful to create separate file systems and datasets instead of a single monolithic file system.ÚZFS ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒåœ¨æ ¹æœ¬ä¸Šä¸ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæœ‰æ‰€ä¸åŒã€‚å°†å·ç®¡ç†å™¨å’Œæ–‡ä»¶ç³»ç»Ÿçš„ä¼ ç»Ÿåˆ†ç¦»è§’è‰²ç»“åˆèµ·æ¥ï¼Œä¸º ZFS æä¾›äº†ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚æ–‡ä»¶ç³»ç»Ÿç°åœ¨èƒ½å¤Ÿæ„è¯†åˆ°åº•å±‚ç£ç›˜çš„ç»“æ„ã€‚ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸€æ¬¡åªèƒ½å­˜åœ¨äºå•ä¸ªç£ç›˜ä¸Šã€‚å¦‚æœæœ‰ä¸¤ä¸ªç£ç›˜ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºä¸¤ä¸ªå•ç‹¬çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¼ ç»Ÿçš„ç¡¬ä»¶ RAID é…ç½®é€šè¿‡å°†æ“ä½œç³»ç»Ÿå‘ˆç°ä¸ºç”±ç‰©ç†ç£ç›˜æä¾›çš„ç©ºé—´ç»„æˆçš„å•ä¸ªé€»è¾‘ç£ç›˜æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæ“ä½œç³»ç»Ÿåœ¨å…¶ä¸Šæ”¾ç½®ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚å³ä½¿ä½¿ç”¨åƒ GEOM æä¾›çš„è½¯ä»¶ RAID è§£å†³æ–¹æ¡ˆï¼Œä½äº RAID ä¹‹ä¸Šçš„ UFS æ–‡ä»¶ç³»ç»Ÿä¹Ÿè®¤ä¸ºå®ƒæ­£åœ¨å¤„ç†ä¸€ä¸ªå•ä¸€è®¾å¤‡ã€‚ ZFS çš„å·ç®¡ç†å™¨å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç»„åˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å…è®¸åˆ›å»ºå…±äº«å¯ç”¨å­˜å‚¨æ± çš„æ–‡ä»¶ç³»ç»Ÿã€‚ ZFS æ„è¯†åˆ°ç‰©ç†ç£ç›˜å¸ƒå±€çš„ä¸€ä¸ªé‡è¦ä¼˜åŠ¿æ˜¯ï¼Œå½“å‘æ± ä¸­æ·»åŠ é¢å¤–çš„ç£ç›˜æ—¶ï¼Œç°æœ‰çš„æ–‡ä»¶ç³»ç»Ÿä¼šè‡ªåŠ¨å¢é•¿ã€‚ç„¶åï¼Œè¿™ä¸ªæ–°ç©ºé—´å°±å¯ä»¥ä¾›æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ã€‚ ZFS è¿˜å¯ä»¥ä¸ºæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿåº”ç”¨ä¸åŒçš„å±æ€§ã€‚è¿™ä½¿å¾—åˆ›å»ºå•ç‹¬çš„æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®é›†æ¯”åˆ›å»ºå•ä¸ªçš„æ•´ä½“æ–‡ä»¶ç³»ç»Ÿæ›´æœ‰ç”¨ã€‚±Quick Start Guide²å¿«é€Ÿå…¥é—¨æŒ‡å—ÙFreeBSD can mount ZFS pools and datasets during system initialization.  To enable it, add this line to [.filename]#/etc/rc.conf#:Ù’FreeBSD å¯ä»¥åœ¨ç³»ç»Ÿåˆå§‹åŒ–æœŸé—´æŒ‚è½½ ZFS æ± å’Œæ•°æ®é›†ã€‚è¦å¯ç”¨å®ƒï¼Œè¯·å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ° [.filename]#/etc/rc.conf#: æ–‡ä»¶ä¸­ï¼š·Then start the service:µç„¶åå¯åŠ¨æœåŠ¡ï¼šÙÎThe examples in this section assume three SCSI disks with the device names [.filename]#da0#, [.filename]#da1#, and [.filename]#da2#.  Users of SATA hardware should instead use [.filename]#ada# device names.ÙÊæœ¬èŠ‚ä¸­çš„ç¤ºä¾‹å‡è®¾æœ‰ä¸‰ä¸ª SCSI ç£ç›˜ï¼Œè®¾å¤‡åç§°åˆ†åˆ«ä¸º [.filename]#da0#ã€[.filename]#da1# å’Œ [.filename]#da2# ã€‚ä½¿ç”¨ SATA ç¡¬ä»¶çš„ç”¨æˆ·åº”è¯¥ä½¿ç”¨ [.filename]#ada# è®¾å¤‡åç§°ã€‚°Single Disk Pool¬å•ç£ç›˜æ± ÙBTo create a simple, non-redundant pool using a single disk device:Ù]è¦ä½¿ç”¨å•ä¸ªç£ç›˜è®¾å¤‡åˆ›å»ºä¸€ä¸ªç®€å•ä¸”éå†—ä½™çš„æ± ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼šÙ0To view the new pool, review the output of `df`:Ù<è¦æŸ¥çœ‹æ–°çš„å­˜å‚¨æ± ï¼Œè¯·æŸ¥çœ‹ `df` å‘½ä»¤çš„è¾“å‡ºï¼šÙThis output shows creating and mounting of the `example` pool, and that is now accessible as a file system.  Create files for users to browse:Ù†è¿™ä¸ªè¾“å‡ºæ˜¾ç¤ºäº†åˆ›å»ºå’ŒæŒ‚è½½ `example` æ± ï¼Œå¹¶ä¸”ç°åœ¨å¯ä»¥ä½œä¸ºæ–‡ä»¶ç³»ç»Ÿè®¿é—®ã€‚ä¸ºç”¨æˆ·åˆ›å»ºæ–‡ä»¶ä»¥ä¾›æµè§ˆï¼šÙ€This pool is not using any advanced ZFS features and properties yet.  To create a dataset on this pool with compression enabled:Ùƒæ­¤æ± å°šæœªä½¿ç”¨ä»»ä½•é«˜çº§çš„ ZFS åŠŸèƒ½å’Œå±æ€§ã€‚è¦åœ¨æ­¤æ± ä¸Šåˆ›å»ºå¯ç”¨äº†å‹ç¼©çš„æ•°æ®é›†ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼šÙˆThe `example/compressed` dataset is now a ZFS compressed file system.  Try copying some large files to [.filename]#/example/compressed#.Ù`example/compressed` æ•°æ®é›†ç°åœ¨æ˜¯ä¸€ä¸ª ZFS å‹ç¼©æ–‡ä»¶ç³»ç»Ÿã€‚å°è¯•å°†ä¸€äº›å¤§æ–‡ä»¶å¤åˆ¶åˆ° `/example/compressed`ã€‚¹Disable compression with:µç¦ç”¨å‹ç¼©åŠŸèƒ½ï¼šÙETo unmount a file system, use `zfs umount` and then verify with `df`:Ù_è¦å¸è½½æ–‡ä»¶ç³»ç»Ÿï¼Œè¯·ä½¿ç”¨ `zfs umount` å‘½ä»¤ï¼Œç„¶åä½¿ç”¨ `df` å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼šÙ^To re-mount the file system to make it accessible again, use `zfs mount` and verify with `df`:Ùyè¦é‡æ–°æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿä»¥ä½¿å…¶å†æ¬¡å¯è®¿é—®ï¼Œè¯·ä½¿ç”¨ `zfs mount` å‘½ä»¤ï¼Œå¹¶ä½¿ç”¨ `df` å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼šÙ0Running `mount` shows the pool and file systems:Ù3è¿è¡Œ `mount` å‘½ä»¤ä¼šæ˜¾ç¤ºæ± å’Œæ–‡ä»¶ç³»ç»Ÿï¼šÚ"Use ZFS datasets like any file system after creation.  Set other available features on a per-dataset basis when needed.  The example below creates a new file system called `data`.  It assumes the file system contains important files and configures it to store two copies of each data block.Ú3åˆ›å»ºåï¼Œå¯ä»¥åƒä»»ä½•æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ä½¿ç”¨ ZFS æ•°æ®é›†ã€‚æ ¹æ®éœ€è¦ï¼Œå¯ä»¥åœ¨æ¯ä¸ªæ•°æ®é›†ä¸Šè®¾ç½®å…¶ä»–å¯ç”¨çš„åŠŸèƒ½ã€‚ä¸‹é¢çš„ç¤ºä¾‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º `data` çš„æ–°æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒå‡è®¾è¯¥æ–‡ä»¶ç³»ç»ŸåŒ…å«é‡è¦æ–‡ä»¶ï¼Œå¹¶å°†å…¶é…ç½®ä¸ºå­˜å‚¨æ¯ä¸ªæ•°æ®å—çš„ä¸¤ä¸ªå‰¯æœ¬ã€‚Ù)Use `df` to see the data and space usage:Ù6ä½¿ç”¨ `df` å‘½ä»¤æŸ¥çœ‹æ•°æ®å’Œç©ºé—´ä½¿ç”¨æƒ…å†µï¼šÚ,Notice that all file systems in the pool have the same available space.  Using `df` in these examples shows that the file systems use the space they need and all draw from the same pool.  ZFS gets rid of concepts such as volumes and partitions, and allows several file systems to share the same pool.Úè¯·æ³¨æ„ï¼Œæ± ä¸­çš„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½å…·æœ‰ç›¸åŒçš„å¯ç”¨ç©ºé—´ã€‚åœ¨è¿™äº›ç¤ºä¾‹ä¸­ä½¿ç”¨ `df` å‘½ä»¤æ˜¾ç¤ºï¼Œæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨å®ƒä»¬æ‰€éœ€çš„ç©ºé—´ï¼Œå¹¶ä¸”éƒ½ä»åŒä¸€ä¸ªæ± ä¸­è·å–ã€‚ ZFS æ‘’å¼ƒäº†å·å’Œåˆ†åŒºç­‰æ¦‚å¿µï¼Œå…è®¸å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿå…±äº«åŒä¸€ä¸ªæ± ã€‚ÙGTo destroy the file systems and then the pool that is no longer needed:Ù*é”€æ¯ä¸å†éœ€è¦çš„æ–‡ä»¶ç³»ç»Ÿå’Œæ± ï¼šÙÕDisks fail.  One way to avoid data loss from disk failure is to use RAID.  ZFS supports this feature in its pool design.  RAID-Z pools require three or more disks but provide more usable space than mirrored pools.Ùòç£ç›˜ä¼šå‡ºç°æ•…éšœã€‚é¿å…å› ç£ç›˜æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ RAIDã€‚ZFS åœ¨å…¶å­˜å‚¨æ± è®¾è®¡ä¸­æ”¯æŒæ­¤åŠŸèƒ½ã€‚ RAID-Z å­˜å‚¨æ± éœ€è¦ä¸‰ä¸ªæˆ–æ›´å¤šçš„ç£ç›˜ï¼Œä½†æä¾›æ¯”é•œåƒå­˜å‚¨æ± æ›´å¤šçš„å¯ç”¨ç©ºé—´ã€‚ÙLThis example creates a RAID-Z pool, specifying the disks to add to the pool:ÙMè¿™ä¸ªç¤ºä¾‹åˆ›å»ºäº†ä¸€ä¸ª RAID-Z æ± ï¼ŒæŒ‡å®šè¦æ·»åŠ åˆ°æ± ä¸­çš„ç£ç›˜ï¼šÚZSun(TM) recommends that the number of devices used in a RAID-Z configuration be between three and nine.  For environments requiring a single pool consisting of 10 disks or more, consider breaking it up into smaller RAID-Z groups.  If two disks are available, ZFS mirroring provides redundancy if required.  Refer to man:zpool[8] for more details.ÚHSun(TM) å»ºè®®åœ¨ RAID-Z é…ç½®ä¸­ä½¿ç”¨çš„è®¾å¤‡æ•°é‡åº”åœ¨ä¸‰åˆ°ä¹ä¹‹é—´ã€‚å¯¹äºéœ€è¦ç”± 10 ä¸ªæˆ–æ›´å¤šç£ç›˜ç»„æˆçš„å•ä¸ªæ± çš„ç¯å¢ƒï¼Œè€ƒè™‘å°†å…¶åˆ†æˆè¾ƒå°çš„ RAID-Z ç»„ã€‚å¦‚æœæœ‰ä¸¤ä¸ªç£ç›˜å¯ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ ZFS é•œåƒæä¾›å†—ä½™æ€§ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… man:zpool[8]ã€‚ÙsThe previous example created the `storage` zpool.  This example makes a new file system called `home` in that pool:Ù‚å‰é¢çš„ç¤ºä¾‹åˆ›å»ºäº†åä¸º `storage` çš„ `zpool` ã€‚è¿™ä¸ªç¤ºä¾‹åœ¨è¯¥æ± ä¸­åˆ›å»ºäº†ä¸€ä¸ªåä¸º `home` çš„æ–°æ–‡ä»¶ç³»ç»Ÿï¼šÙDEnable compression and store an extra copy of directories and files:Ù6å¯ç”¨å‹ç¼©å¹¶å­˜å‚¨ç›®å½•å’Œæ–‡ä»¶çš„é¢å¤–å‰¯æœ¬ï¼šÙ~To make this the new home directory for users, copy the user data to this directory and create the appropriate symbolic links:Ùuè¦å°†æ­¤ç›®å½•è®¾ç½®ä¸ºç”¨æˆ·çš„æ–°å®¶ç›®å½•ï¼Œè¯·å°†ç”¨æˆ·æ•°æ®å¤åˆ¶åˆ°æ­¤ç›®å½•å¹¶åˆ›å»ºç›¸åº”çš„ç¬¦å·é“¾æ¥ï¼šÙƒUsers data is now stored on the freshly-created [.filename]#/storage/home#.  Test by adding a new user and logging in as that user.Ù‘ç”¨æˆ·æ•°æ®ç°åœ¨å­˜å‚¨åœ¨æ–°åˆ›å»ºçš„ [.filename]#/storage/home# ä¸Šã€‚é€šè¿‡æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·å¹¶ä»¥è¯¥ç”¨æˆ·èº«ä»½ç™»å½•æ¥è¿›è¡Œæµ‹è¯•ã€‚Ù4Create a file system snapshot to roll back to later:Ù<åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå¿«ç…§ï¼Œä»¥ä¾¿ä»¥åå¯ä»¥å›æ»šï¼šÙCZFS creates snapshots of a dataset, not a single directory or file.Ù@ZFS åˆ›å»ºæ•°æ®é›†çš„å¿«ç…§ï¼Œè€Œä¸æ˜¯å•ä¸ªç›®å½•æˆ–æ–‡ä»¶ã€‚ÙŞThe `@` character is a delimiter between the file system name or the volume name.  Before deleting an important directory, back up the file system, then roll back to an earlier snapshot in which the directory still exists:Ù¸`@` å­—ç¬¦æ˜¯æ–‡ä»¶ç³»ç»Ÿåç§°æˆ–å·åç§°ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚åœ¨åˆ é™¤é‡è¦ç›®å½•ä¹‹å‰ï¼Œå…ˆå¤‡ä»½æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå›æ»šåˆ°ä¸€ä¸ªæ—©æœŸçš„å¿«ç…§ï¼Œå…¶ä¸­ç›®å½•ä»ç„¶å­˜åœ¨ï¼šÙTo list all available snapshots, run `ls` in the file system's [.filename]#.zfs/snapshot# directory.  For example, to see the snapshot taken:ÙŒè¦åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å¿«ç…§ï¼Œè¯·åœ¨æ–‡ä»¶ç³»ç»Ÿçš„ `.zfs/snapshot` ç›®å½•ä¸­è¿è¡Œ `ls` å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹å·²æ‹æ‘„çš„å¿«ç…§ï¼šÙWrite a script to take regular snapshots of user data.  Over time, snapshots can use up a lot of disk space.  Remove the previous snapshot using the command:Ù¨ç¼–å†™ä¸€ä¸ªè„šæœ¬æ¥å®šæœŸå¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œå¿«ç…§ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¿«ç…§å¯èƒ½ä¼šå ç”¨å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤å…ˆå‰çš„å¿«ç…§ï¼šÙ]After testing, make [.filename]#/storage/home# the real [.filename]#/home# with this command:Ùhç»è¿‡æµ‹è¯•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† [.filename]#/storage/home# è®¾ç½®ä¸ºçœŸå®çš„ [.filename]#/home#ï¼šÙjRun `df` and `mount` to confirm that the system now treats the file system as the real [.filename]#/home#:Ùhè¿è¡Œ `df` å’Œ `mount` å‘½ä»¤æ¥ç¡®è®¤ç³»ç»Ÿç°åœ¨å°†æ–‡ä»¶ç³»ç»Ÿè§†ä¸ºçœŸå®çš„ [.filename]#/home# ï¼šÙ½This completes the RAID-Z configuration.  Add daily status updates about the created file systems to the nightly man:periodic[8] runs by adding this line to [.filename]#/etc/periodic.conf#:ÙÍè¿™æ ·å°±å®Œæˆäº† RAID-Z çš„é…ç½®ã€‚é€šè¿‡å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ° [.filename]#/etc/periodic.conf# ï¼Œå¯ä»¥å°†å…³äºåˆ›å»ºçš„æ–‡ä»¶ç³»ç»Ÿçš„æ¯æ—¥çŠ¶æ€æ›´æ–°æ·»åŠ åˆ°å¤œé—´çš„ man:periodic[8] è¿è¡Œä¸­ï¼š±Recovering RAID-Z­æ¢å¤ RAID-ZÙeEvery software RAID has a method of monitoring its `state`.  View the status of RAID-Z devices using:Ùnæ¯ä¸ªè½¯ä»¶ RAID éƒ½æœ‰ä¸€ç§ç›‘æ§å…¶ `state` çš„æ–¹æ³•ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ RAID-Z è®¾å¤‡çš„çŠ¶æ€ï¼šÙXIf all pools are <<zfs-term-online,Online>> and everything is normal, the message shows:ÙNå¦‚æœæ‰€æœ‰æ± éƒ½å¤„äºåœ¨çº¿çŠ¶æ€ï¼Œå¹¶ä¸”ä¸€åˆ‡æ­£å¸¸ï¼Œæ¶ˆæ¯å°†æ˜¾ç¤ºï¼šÙzIf there is a problem, perhaps a disk being in the <<zfs-term-offline,Offline>> state, the pool state will look like this:Ùkå¦‚æœå‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚ç£ç›˜å¤„äº <<zfs-term-offline,ç¦»çº¿>> çŠ¶æ€ï¼Œæ± çš„çŠ¶æ€å°†å¦‚ä¸‹æ‰€ç¤ºï¼šÙF"OFFLINE" shows the administrator took [.filename]#da1# offline using:ÙH"OFFLINE"æ˜¾ç¤ºç®¡ç†å‘˜ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å°† [.filename]#da1# ä¸‹çº¿ï¼šÙyPower down the computer now and replace [.filename]#da1#.  Power up the computer and return [.filename]#da1# to the pool:Ùqç«‹å³å…³é—­è®¡ç®—æœºå¹¶æ›´æ¢ [.filename]#da1#ã€‚é‡æ–°å¯åŠ¨è®¡ç®—æœºå¹¶å°† [.filename]#da1# è¿”å›åˆ°æ± ä¸­ï¼šÙJNext, check the status again, this time without `-x` to display all pools:ÙTæ¥ä¸‹æ¥ï¼Œå†æ¬¡æ£€æŸ¥çŠ¶æ€ï¼Œè¿™æ¬¡ä¸ä½¿ç”¨ `-x` é€‰é¡¹ä»¥æ˜¾ç¤ºæ‰€æœ‰çš„æ± ï¼šÙ&In this example, everything is normal.Ù'åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸€åˆ‡éƒ½æ­£å¸¸ã€‚±Data Verification¬æ•°æ®éªŒè¯ÙmZFS uses checksums to verify the integrity of stored data.  Creating file systems automatically enables them.ÙmZFS ä½¿ç”¨æ ¡éªŒå’Œæ¥éªŒè¯å­˜å‚¨æ•°æ®çš„å®Œæ•´æ€§ã€‚åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿæ—¶ä¼šè‡ªåŠ¨å¯ç”¨æ ¡éªŒå’ŒåŠŸèƒ½ã€‚ÙşDisabling Checksums is possible but _not_ recommended! Checksums take little storage space and provide data integrity.  Most ZFS features will not work properly with checksums disabled.  Disabling these checksums will not increase performance noticeably.Ùïç¦ç”¨æ ¡éªŒå’Œæ˜¯å¯ä»¥çš„ï¼Œä½† **ä¸æ¨è** ï¼æ ¡éªŒå’Œå ç”¨å¾ˆå°‘çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶æä¾›æ•°æ®å®Œæ•´æ€§ã€‚å¤§å¤šæ•° ZFS åŠŸèƒ½åœ¨ç¦ç”¨æ ¡éªŒå’Œçš„æƒ…å†µä¸‹å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚ç¦ç”¨è¿™äº›æ ¡éªŒå’Œä¸ä¼šæ˜æ˜¾æé«˜æ€§èƒ½ã€‚Ù_Verifying the data checksums (called _scrubbing_) ensures integrity of the `storage` pool with:ÙléªŒè¯æ•°æ®æ ¡éªŒå’Œï¼ˆç§°ä¸º _scrubbing_ ï¼‰å¯ä»¥ç¡®ä¿ `storage` æ± çš„å®Œæ•´æ€§ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼šÚThe duration of a scrub depends on the amount of data stored.  Larger amounts of data will take proportionally longer to verify.  Since scrubbing is I/O intensive, ZFS allows a single scrub to run at a time.  After scrubbing completes, view the status with `zpool status`:Úä¸€ä¸ª scrub çš„æŒç»­æ—¶é—´å–å†³äºå­˜å‚¨çš„æ•°æ®é‡ã€‚æ•°æ®é‡è¶Šå¤§ï¼ŒéªŒè¯æ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ã€‚ç”±äº scrub æ˜¯ I/O å¯†é›†å‹æ“ä½œï¼Œ ZFS åªå…è®¸åŒæ—¶è¿è¡Œä¸€ä¸ª scrubã€‚åœ¨ scrub å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ `zpool status` å‘½ä»¤æŸ¥çœ‹çŠ¶æ€ã€‚Ù·Displaying the completion date of the last scrubbing helps decide when to start another.  Routine scrubs help protect data from silent corruption and ensure the integrity of the pool.Ùªæ˜¾ç¤ºæœ€åä¸€æ¬¡æ¸… scrub çš„å®Œæˆæ—¥æœŸæœ‰åŠ©äºå†³å®šä½•æ—¶å¼€å§‹ä¸‹ä¸€æ¬¡ scrubã€‚ä¾‹è¡Œ scrub æœ‰åŠ©äºä¿æŠ¤æ•°æ®å…å—é™é»˜æŸåï¼Œå¹¶ç¡®ä¿æ± çš„å®Œæ•´æ€§ã€‚Ù;Refer to man:zfs[8] and man:zpool[8] for other ZFS options.Ù@è¯·å‚è€ƒ man:zfs[8] å’Œ man:zpool[8] äº†è§£å…¶ä»– ZFS é€‰é¡¹ã€‚¶`zpool` Administration®`zpool` ç®¡ç†Ú=ZFS administration uses two main utilities.  The `zpool` utility controls the operation of the pool and allows adding, removing, replacing, and managing disks.  The <<zfs-zfs,`zfs`>> utility allows creating, destroying, and managing datasets, both <<zfs-term-filesystem,file systems>> and <<zfs-term-volume,volumes>>.ÙÊZFS ç®¡ç†ä½¿ç”¨ä¸¤ä¸ªä¸»è¦å·¥å…·ã€‚ `zpool` å·¥å…·æ§åˆ¶æ± çš„æ“ä½œï¼Œå…è®¸æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢å’Œç®¡ç†ç£ç›˜ã€‚`zfs` å·¥å…·å…è®¸åˆ›å»ºã€é”€æ¯å’Œç®¡ç†æ•°æ®é›†ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿå’Œå·ã€‚Ù%Creating and Destroying Storage Pools¸åˆ›å»ºå’Œé”€æ¯å­˜å‚¨æ± ÚšCreating a ZFS storage pool requires permanent decisions, as the pool structure cannot change after creation.  The most important decision is which types of vdevs to group the physical disks into.  See the list of <<zfs-term-vdev,vdev types>> for details about the possible options.  After creating the pool, most vdev types do not allow adding disks to the vdev.  The exceptions are mirrors, which allow adding new disks to the vdev, and stripes, which upgrade to mirrors by attaching a new disk to the vdev.  Although adding new vdevs expands a pool, the pool layout cannot change after pool creation.  Instead, back up the data, destroy the pool, and recreate it.Úeåˆ›å»ºä¸€ä¸ª ZFS å­˜å‚¨æ± éœ€è¦åšå‡ºæ°¸ä¹…æ€§çš„å†³ç­–ï¼Œå› ä¸ºåœ¨åˆ›å»ºåæ— æ³•æ›´æ”¹æ± çš„ç»“æ„ã€‚æœ€é‡è¦çš„å†³ç­–æ˜¯å°†ç‰©ç†ç£ç›˜åˆ†ç»„æˆå“ªç§ç±»å‹çš„ vdev ã€‚æœ‰å…³å¯èƒ½é€‰é¡¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <<zfs-term-vdev,vdev ç±»å‹ >> åˆ—è¡¨ã€‚åˆ›å»ºæ± åï¼Œå¤§å¤šæ•° vdev ç±»å‹ä¸å…è®¸å‘ vdev æ·»åŠ ç£ç›˜ã€‚ä¾‹å¤–æƒ…å†µæ˜¯é•œåƒï¼Œå®ƒå…è®¸å‘ vdev æ·»åŠ æ–°ç£ç›˜ï¼Œå¹¶ä¸”æ¡å¸¦å¯ä»¥é€šè¿‡å°†æ–°ç£ç›˜é™„åŠ åˆ° vdev æ¥å‡çº§ä¸ºé•œåƒã€‚è™½ç„¶æ·»åŠ æ–°çš„ vdev å¯ä»¥æ‰©å±•æ± ï¼Œä½†æ± çš„å¸ƒå±€åœ¨åˆ›å»ºåæ— æ³•æ›´æ”¹ã€‚å–è€Œä»£ä¹‹çš„æ˜¯å¤‡ä»½æ•°æ®ï¼Œé”€æ¯æ± ï¼Œç„¶åé‡æ–°åˆ›å»ºæ± ã€‚¼Create a simple mirror pool:Ù!åˆ›å»ºä¸€ä¸ªç®€å•çš„é•œåƒæ± ï¼šÙ‰To create more than one vdev with a single command, specify groups of disks separated by the vdev type keyword, `mirror` in this example:Ùjè¦ä½¿ç”¨å•ä¸ªå‘½ä»¤åˆ›å»ºå¤šä¸ª vdev ï¼Œè¯·ä½¿ç”¨ä»¥ vdev ç±»å‹å…³é”®å­— `mirror` åˆ†éš”çš„ç£ç›˜ç»„ã€‚ÚÀPools can also use partitions rather than whole disks.  Putting ZFS in a separate partition allows the same disk to have other partitions for other purposes.  In particular, it allows adding partitions with bootcode and file systems needed for booting.  This allows booting from disks that are also members of a pool.  ZFS adds no performance penalty on FreeBSD when using a partition rather than a whole disk.  Using partitions also allows the administrator to _under-provision_ the disks, using less than the full capacity.  If a future replacement disk of the same nominal size as the original actually has a slightly smaller capacity, the smaller partition will still fit, using the replacement disk.ÚJæ± è¿˜å¯ä»¥ä½¿ç”¨åˆ†åŒºè€Œä¸æ˜¯æ•´ä¸ªç£ç›˜ã€‚å°† ZFS æ”¾åœ¨å•ç‹¬çš„åˆ†åŒºä¸­å¯ä»¥ä½¿åŒä¸€ç£ç›˜å…·æœ‰å…¶ä»–ç”¨é€”çš„åˆ†åŒºã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒå…è®¸æ·»åŠ å¸¦æœ‰å¼•å¯¼ä»£ç å’Œç”¨äºå¼•å¯¼çš„æ–‡ä»¶ç³»ç»Ÿçš„åˆ†åŒºã€‚è¿™æ ·å°±å¯ä»¥ä»åŒæ—¶ä¹Ÿæ˜¯æ± æˆå‘˜çš„ç£ç›˜å¯åŠ¨ã€‚åœ¨ FreeBSD ä¸Šï¼Œä½¿ç”¨åˆ†åŒºè€Œä¸æ˜¯æ•´ä¸ªç£ç›˜æ—¶ï¼Œ ZFS ä¸ä¼šå¸¦æ¥æ€§èƒ½æŸå¤±ã€‚ä½¿ç”¨åˆ†åŒºè¿˜å…è®¸ç®¡ç†å‘˜å¯¹ç£ç›˜è¿›è¡Œâ€œæ¬ é…ç½®â€ï¼Œä½¿ç”¨ä¸åˆ°å…¨éƒ¨å®¹é‡ã€‚å¦‚æœå°†æ¥æ›¿æ¢çš„ç£ç›˜ä¸åŸå§‹ç£ç›˜çš„åä¹‰å¤§å°ç›¸åŒï¼Œä½†å®é™…å®¹é‡ç•¥å°ï¼Œè¾ƒå°çš„åˆ†åŒºä»å°†é€‚åº”æ›¿æ¢ç£ç›˜ã€‚Ù?Create a <<zfs-term-vdev-raidz,RAID-Z2>> pool using partitions:Ù?ä½¿ç”¨åˆ†åŒºåˆ›å»ºä¸€ä¸ª <<zfs-term-vdev-raidz,RAID-Z2>> æ± ï¼šÚ]Destroy a pool that is no longer needed to reuse the disks.  Destroying a pool requires unmounting the file systems in that pool first.  If any dataset is in use, the unmount operation fails without destroying the pool.  Force the pool destruction with `-f`.  This can cause undefined behavior in applications which had open files on those datasets.Ú2é”€æ¯ä¸€ä¸ªä¸å†éœ€è¦çš„æ± ä»¥é‡ç”¨ç£ç›˜ã€‚é”€æ¯æ± éœ€è¦å…ˆå¸è½½è¯¥æ± ä¸­çš„æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœæœ‰ä»»ä½•æ•°æ®é›†æ­£åœ¨ä½¿ç”¨ä¸­ï¼Œå¸è½½æ“ä½œå°†å¤±è´¥ï¼Œä¸ä¼šé”€æ¯æ± ã€‚å¯ä»¥ä½¿ç”¨ `-f` å¼ºåˆ¶é”€æ¯æ± ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºä¸­å¯¹è¿™äº›æ•°æ®é›†æœ‰æ‰“å¼€æ–‡ä»¶çš„æœªå®šä¹‰è¡Œä¸ºã€‚»Adding and Removing Devicesµæ·»åŠ å’Œç§»é™¤è®¾å¤‡ÙäTwo ways exist for adding disks to a pool: attaching a disk to an existing vdev with `zpool attach`, or adding vdevs to the pool with `zpool add`.  Some <<zfs-term-vdev,vdev types>> allow adding disks to the vdev after creation.Ùñæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å°†ç£ç›˜æ·»åŠ åˆ°æ± ä¸­ï¼šä½¿ç”¨ `zpool attach` å°†ç£ç›˜é™„åŠ åˆ°ç°æœ‰çš„ vdev ä¸Šï¼Œæˆ–è€…ä½¿ç”¨ `zpool add` å°† vdev æ·»åŠ åˆ°æ± ä¸­ã€‚ä¸€äº› <<zfs-term-vdev,vdev ç±»å‹ >> å…è®¸åœ¨åˆ›å»ºåå‘ vdev æ·»åŠ ç£ç›˜ã€‚ÚÙA pool created with a single disk lacks redundancy.  It can detect corruption but can not repair it, because there is no other copy of the data.  The <<zfs-term-copies,copies>> property may be able to recover from a small failure such as a bad sector, but does not provide the same level of protection as mirroring or RAID-Z.  Starting with a pool consisting of a single disk vdev, use `zpool attach` to add a new disk to the vdev, creating a mirror.  Also use `zpool attach` to add new disks to a mirror group, increasing redundancy and read performance.  When partitioning the disks used for the pool, replicate the layout of the first disk on to the second.  Use `gpart backup` and `gpart restore` to make this process easier.Úä½¿ç”¨å•ä¸ªç£ç›˜åˆ›å»ºçš„æ± ç¼ºä¹å†—ä½™æ€§ã€‚å®ƒå¯ä»¥æ£€æµ‹åˆ°æŸåï¼Œä½†æ— æ³•ä¿®å¤ï¼Œå› ä¸ºæ²¡æœ‰å…¶ä»–æ•°æ®çš„å‰¯æœ¬ã€‚ <<zfs-term-copies,copies>> å±æ€§å¯ä»¥ä»å°æ•…éšœï¼ˆå¦‚åæ‰‡åŒºï¼‰ä¸­æ¢å¤ï¼Œä½†ä¸æä¾›ä¸é•œåƒæˆ– RAID-Z ç›¸åŒçº§åˆ«çš„ä¿æŠ¤ã€‚ä»ç”±å•ä¸ªç£ç›˜ vdev ç»„æˆçš„æ± å¼€å§‹ï¼Œä½¿ç”¨ `zpool attach` å°†æ–°ç£ç›˜æ·»åŠ åˆ° vdev ä¸­ï¼Œåˆ›å»ºé•œåƒã€‚è¿˜å¯ä»¥ä½¿ç”¨ `zpool attach` å°†æ–°ç£ç›˜æ·»åŠ åˆ°é•œåƒç»„ï¼Œå¢åŠ å†—ä½™æ€§å’Œè¯»å–æ€§èƒ½ã€‚åœ¨ä¸ºæ± åˆ†åŒºçš„ç£ç›˜ä¸Šï¼Œå°†ç¬¬ä¸€ä¸ªç£ç›˜çš„å¸ƒå±€å¤åˆ¶åˆ°ç¬¬äºŒä¸ªç£ç›˜ä¸Šã€‚ä½¿ç”¨ `gpart backup` å’Œ `gpart restore` å¯ä»¥ä½¿è¿™ä¸ªè¿‡ç¨‹æ›´å®¹æ˜“ã€‚ÙgUpgrade the single disk (stripe) vdev [.filename]#ada0p3# to a mirror by attaching [.filename]#ada1p3#:Ùié€šè¿‡è¿æ¥ [.filename]#ada0p3#ï¼Œå°†å•ä¸ªç£ç›˜ï¼ˆæ¡å¸¦ï¼‰vdev [.filename]#ada1p3# å‡çº§ä¸ºé•œåƒï¼šÚ<When adding disks to the existing vdev is not an option, as for RAID-Z, an alternative method is to add another vdev to the pool.  Adding vdevs provides higher performance by distributing writes across the vdevs.  Each vdev provides its own redundancy.  Mixing vdev types like `mirror` and `RAID-Z` is possible but discouraged.  Adding a non-redundant vdev to a pool containing mirror or RAID-Z vdevs risks the data on the entire pool.  Distributing writes means a failure of the non-redundant disk will result in the loss of a fraction of every block written to the pool.Ú*å½“æ— æ³•å°†ç£ç›˜æ·»åŠ åˆ°ç°æœ‰çš„ vdev æ—¶ï¼Œä¾‹å¦‚å¯¹äº RAID-Z ï¼Œä¸€ç§æ›¿ä»£æ–¹æ³•æ˜¯å‘æ± ä¸­æ·»åŠ å¦ä¸€ä¸ª vdev ã€‚æ·»åŠ  vdev å¯ä»¥é€šè¿‡åœ¨ vdev ä¹‹é—´åˆ†å¸ƒå†™æ“ä½œæ¥æä¾›æ›´é«˜çš„æ€§èƒ½ã€‚æ¯ä¸ª vdev éƒ½æä¾›è‡ªå·±çš„å†—ä½™æ€§ã€‚å¯ä»¥æ··åˆä½¿ç”¨ `mirror` å’Œ `RAID-Z` ç­‰ä¸åŒç±»å‹çš„ vdev ï¼Œä½†ä¸å»ºè®®è¿™æ ·åšã€‚å‘åŒ…å«é•œåƒæˆ– RAID-Z vdev çš„æ± ä¸­æ·»åŠ ä¸€ä¸ªéå†—ä½™çš„ vdev ä¼šå¯¹æ•´ä¸ªæ± ä¸­çš„æ•°æ®é€ æˆé£é™©ã€‚åˆ†å¸ƒå†™æ“ä½œæ„å‘³ç€éå†—ä½™ç£ç›˜çš„æ•…éšœå°†å¯¼è‡´ä¸¢å¤±å¯¹æ± ä¸­æ¯ä¸ªå—çš„ä¸€éƒ¨åˆ†æ•°æ®ã€‚ÚaZFS stripes data across each of the vdevs.  For example, with two mirror vdevs, this is effectively a RAID 10 that stripes writes across two sets of mirrors.  ZFS allocates space so that each vdev reaches 100% full at the same time.  Having vdevs with different amounts of free space will lower performance, as more data writes go to the less full vdev.ÚgZFS å°†æ•°æ®è·¨è¶Šæ¯ä¸ª vdev è¿›è¡Œæ¡å¸¦åŒ–ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä¸¤ä¸ªé•œåƒ vdev ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ª RAID 10ï¼Œå°†å†™æ“ä½œè·¨è¶Šä¸¤ç»„é•œåƒã€‚ZFS åˆ†é…ç©ºé—´ä»¥ä½¿æ¯ä¸ª vdev åœ¨åŒä¸€æ—¶é—´è¾¾åˆ° 100 ï¼…çš„ä½¿ç”¨ç‡ã€‚å¦‚æœ vdev å…·æœ‰ä¸åŒæ•°é‡çš„å¯ç”¨ç©ºé—´ï¼Œæ€§èƒ½å°†é™ä½ï¼Œå› ä¸ºæ›´å¤šçš„æ•°æ®å†™å…¥å°†å‘é€åˆ°ä½¿ç”¨ç‡è¾ƒä½çš„ vdevã€‚ÙKWhen attaching new devices to a boot pool, remember to update the bootcode.ÙEåœ¨å°†æ–°è®¾å¤‡è¿æ¥åˆ°å¼•å¯¼æ± æ—¶ï¼Œè¯·è®°å¾—æ›´æ–°å¼•å¯¼ä»£ç ã€‚ÙbAttach a second mirror group ([.filename]#ada2p3# and [.filename]#ada3p3#) to the existing mirror:Ùdå°†ç¬¬äºŒä¸ªé•œåƒç»„ï¼ˆ[.filename]#ada2p3# å’Œ [.filename]#ada3p3#ï¼‰é™„åŠ åˆ°ç°æœ‰çš„é•œåƒä¸­ï¼šÚRemoving vdevs from a pool is impossible and removal of disks from a mirror is exclusive if there is enough remaining redundancy.  If a single disk remains in a mirror group, that group ceases to be a mirror and becomes a stripe, risking the entire pool if that remaining disk fails.Ùùä»æ± ä¸­åˆ é™¤ vdev æ˜¯ä¸å¯èƒ½çš„ï¼Œå¦‚æœå‰©ä½™çš„å†—ä½™è¶³å¤Ÿï¼Œä»é•œåƒä¸­åˆ é™¤ç£ç›˜æ˜¯ç‹¬å çš„ã€‚å¦‚æœé•œåƒç»„ä¸­åªå‰©ä¸‹ä¸€ä¸ªç£ç›˜ï¼Œè¯¥ç»„å°†ä¸å†æ˜¯é•œåƒï¼Œè€Œå˜æˆæ¡å¸¦ï¼Œå¦‚æœè¯¥å‰©ä½™ç£ç›˜æ•…éšœï¼Œå°†ä¼šå±åŠæ•´ä¸ªæ± ã€‚Ù,Remove a disk from a three-way mirror group:Ù*ä»ä¸‰è·¯é•œåƒç»„ä¸­ç§»é™¤ä¸€ä¸ªç£ç›˜ï¼š½Checking the Status of a Pool²æ£€æŸ¥æ± çš„çŠ¶æ€ÚZPool status is important.  If a drive goes offline or ZFS detects a read, write, or checksum error, the corresponding error count increases.  The `status` output shows the configuration and status of each device in the pool and the status of the entire pool.  Actions to take and details about the last <<zfs-zpool-scrub,`scrub`>> are also shown.Ú"æ± çŠ¶æ€éå¸¸é‡è¦ã€‚å¦‚æœé©±åŠ¨å™¨ç¦»çº¿æˆ– ZFS æ£€æµ‹åˆ°è¯»å–ã€å†™å…¥æˆ–æ ¡éªŒé”™è¯¯ï¼Œç›¸åº”çš„é”™è¯¯è®¡æ•°ä¼šå¢åŠ ã€‚`status` è¾“å‡ºæ˜¾ç¤ºäº†æ± ä¸­æ¯ä¸ªè®¾å¤‡çš„é…ç½®å’ŒçŠ¶æ€ï¼Œä»¥åŠæ•´ä¸ªæ± çš„çŠ¶æ€ã€‚è¿˜æ˜¾ç¤ºäº†è¦é‡‡å–çš„æ“ä½œå’Œæœ‰å…³ä¸Šæ¬¡ `scrub` çš„è¯¦ç»†ä¿¡æ¯ã€‚¯Clearing Errors¬æ¸…é™¤é”™è¯¯ÚjWhen detecting an error, ZFS increases the read, write, or checksum error counts.  Clear the error message and reset the counts with `zpool clear _mypool_`.  Clearing the error state can be important for automated scripts that alert the administrator when the pool encounters an error.  Without clearing old errors, the scripts may fail to report further errors.ÚNå½“æ£€æµ‹åˆ°é”™è¯¯æ—¶ï¼ŒZFS ä¼šå¢åŠ è¯»å–ã€å†™å…¥æˆ–æ ¡éªŒå’Œé”™è¯¯è®¡æ•°ã€‚ä½¿ç”¨ `zpool clear _mypool_` å‘½ä»¤æ¸…é™¤é”™è¯¯æ¶ˆæ¯å¹¶é‡ç½®è®¡æ•°ã€‚æ¸…é™¤é”™è¯¯çŠ¶æ€å¯¹äºè‡ªåŠ¨åŒ–è„šæœ¬éå¸¸é‡è¦ï¼Œè¿™äº›è„šæœ¬åœ¨æ± é‡åˆ°é”™è¯¯æ—¶ä¼šé€šçŸ¥ç®¡ç†å‘˜ã€‚å¦‚æœä¸æ¸…é™¤æ—§é”™è¯¯ï¼Œè¿™äº›è„šæœ¬å¯èƒ½æ— æ³•æŠ¥å‘Šåç»­çš„é”™è¯¯ã€‚¾Replacing a Functioning DeviceÙ!æ›¿æ¢ä¸€ä¸ªæ­£å¸¸å·¥ä½œçš„è®¾å¤‡Ú%It may be desirable to replace one disk with a different disk.  When replacing a working disk, the process keeps the old disk online during the replacement.  The pool never enters a <<zfs-term-degraded,degraded>> state, reducing the risk of data loss.  Running `zpool replace` copies the data from the old disk to the new one.  After the operation completes, ZFS disconnects the old disk from the vdev.  If the new disk is larger than the old disk, it may be possible to grow the zpool, using the new space.  See <<zfs-zpool-online,Growing a Pool>>.Úîå¯èƒ½éœ€è¦ç”¨ä¸åŒçš„ç£ç›˜æ›¿æ¢ä¸€ä¸ªç£ç›˜ã€‚å½“æ›¿æ¢ä¸€ä¸ªå·¥ä½œä¸­çš„ç£ç›˜æ—¶ï¼Œè¯¥è¿‡ç¨‹ä¼šåœ¨æ›¿æ¢æœŸé—´ä¿æŒæ—§ç£ç›˜åœ¨çº¿ã€‚æ± æ°¸è¿œä¸ä¼šè¿›å…¥ <<zfs-term-degraded,é™çº§>> çŠ¶æ€ï¼Œä»è€Œé™ä½æ•°æ®ä¸¢å¤±çš„é£é™©ã€‚è¿è¡Œ `zpool replace` å‘½ä»¤å°†æ•°æ®ä»æ—§ç£ç›˜å¤åˆ¶åˆ°æ–°ç£ç›˜ã€‚æ“ä½œå®Œæˆåï¼Œ ZFS ä¼šå°†æ—§ç£ç›˜ä¸ vdev æ–­å¼€è¿æ¥ã€‚å¦‚æœæ–°ç£ç›˜æ¯”æ—§ç£ç›˜å¤§ï¼Œå¯èƒ½å¯ä»¥ä½¿ç”¨æ–°ç©ºé—´æ¥æ‰©å±• zpool ã€‚è¯·å‚è§ <<zfs-zpool-online ,æ‰©å±•æ± >> ã€‚Ù)Replace a functioning device in the pool:Ù*æ›¿æ¢æ± ä¸­çš„ä¸€ä¸ªæ­£å¸¸å·¥ä½œè®¾å¤‡ï¼š»Dealing with Failed Devices²å¤„ç†æ•…éšœè®¾å¤‡ÚHWhen a disk in a pool fails, the vdev to which the disk belongs enters the <<zfs-term-degraded,degraded>> state.  The data is still available, but with reduced performance because ZFS computes missing data from the available redundancy.  To restore the vdev to a fully functional state, replace the failed physical device.  ZFS is then instructed to begin the <<zfs-term-resilver,resilver>> operation.  ZFS recomputes data on the failed device from available redundancy and writes it to the replacement device.  After completion, the vdev returns to <<zfs-term-online,online>> status.Úüå½“æ± ä¸­çš„ç£ç›˜å‘ç”Ÿæ•…éšœæ—¶ï¼Œè¯¥ç£ç›˜æ‰€å±çš„ vdev å°†è¿›å…¥ <<zfs-term-degraded,é™çº§>> çŠ¶æ€ã€‚æ•°æ®ä»ç„¶å¯ç”¨ï¼Œä½†æ€§èƒ½é™ä½ï¼Œå› ä¸º ZFS ä¼šé€šè¿‡å¯ç”¨çš„å†—ä½™è®¡ç®—ç¼ºå¤±çš„æ•°æ®ã€‚ä¸ºäº†å°† vdev æ¢å¤åˆ°å®Œå…¨åŠŸèƒ½çŠ¶æ€ï¼Œéœ€è¦æ›¿æ¢æ•…éšœçš„ç‰©ç†è®¾å¤‡ã€‚ç„¶åï¼ŒZFS ä¼šå¼€å§‹ <<zfs-term-resilver,åŒæ­¥>> æ“ä½œã€‚ZFS ä¼šé€šè¿‡å¯ç”¨çš„å†—ä½™é‡æ–°è®¡ç®—æ•…éšœè®¾å¤‡ä¸Šçš„æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥æ›¿ä»£è®¾å¤‡ã€‚å®Œæˆåï¼Œvdev å°†è¿”å› <<zfs-term-online,åœ¨çº¿>> çŠ¶æ€ã€‚ÚIf the vdev does not have any redundancy, or if devices have failed and there is not enough redundancy to compensate, the pool enters the <<zfs-term-faulted,faulted>> state.  Unless enough devices can reconnect the pool becomes inoperative requiring a data restore from backups.Úå¦‚æœ vdev æ²¡æœ‰ä»»ä½•å†—ä½™ï¼Œæˆ–è€…è®¾å¤‡å·²ç»æŸåä¸”æ²¡æœ‰è¶³å¤Ÿçš„å†—ä½™æ¥å¼¥è¡¥ï¼Œé‚£ä¹ˆå­˜å‚¨æ± å°†è¿›å…¥ <<zfs-term-faulted,æ•…éšœ>> çŠ¶æ€ã€‚é™¤éæœ‰è¶³å¤Ÿçš„è®¾å¤‡é‡æ–°è¿æ¥å­˜å‚¨æ± ï¼Œå¦åˆ™å­˜å‚¨æ± å°†æ— æ³•è¿è¡Œï¼Œéœ€è¦ä»å¤‡ä»½ä¸­æ¢å¤æ•°æ®ã€‚ÙÓWhen replacing a failed disk, the name of the failed disk changes to the GUID of the new disk.  A new device name parameter for `zpool replace` is not required if the replacement device has the same device name.ÙÄå½“æ›¿æ¢ä¸€ä¸ªæ•…éšœç£ç›˜æ—¶ï¼Œæ•…éšœç£ç›˜çš„åç§°ä¼šå˜ä¸ºæ–°ç£ç›˜çš„ GUIDã€‚å¦‚æœæ›¿æ¢è®¾å¤‡å…·æœ‰ç›¸åŒçš„è®¾å¤‡åç§°ï¼Œåˆ™ä¸éœ€è¦ä¸º `zpool replace` æŒ‡å®šæ–°çš„è®¾å¤‡åç§°å‚æ•°ã€‚Ù,Replace a failed disk using `zpool replace`:Ù5ä½¿ç”¨ `zpool replace` å‘½ä»¤æ›¿æ¢æ•…éšœçš„ç£ç›˜ï¼š°Scrubbing a Pool­Scrubbing æ± ÚqRoutinely <<zfs-term-scrub,scrub>> pools, ideally at least once every month.  The `scrub` operation is disk-intensive and will reduce performance while running.  Avoid high-demand periods when scheduling `scrub` or use <<zfs-advanced-tuning-scrub_delay,`vfs.zfs.scrub_delay`>> to adjust the relative priority of the `scrub` to keep it from slowing down other workloads.Únå®šæœŸå¯¹æ± è¿›è¡Œ <<zfs-term-scrub,scrub>> æ“ä½œï¼Œæœ€å¥½æ¯ä¸ªæœˆè‡³å°‘ä¸€æ¬¡ã€‚`scrub` æ“ä½œå¯¹ç£ç›˜çš„ä½¿ç”¨è¾ƒé«˜ï¼Œè¿è¡Œæ—¶ä¼šé™ä½æ€§èƒ½ã€‚åœ¨å®‰æ’ `scrub` æ“ä½œæ—¶é¿å…é«˜è´Ÿè½½æ—¶æ®µï¼Œæˆ–è€…ä½¿ç”¨ <<zfs-advanced-tuning-scrub_delay,`vfs.zfs.scrub_delay`>> æ¥è°ƒæ•´ `scrub` æ“ä½œçš„ç›¸å¯¹ä¼˜å…ˆçº§ï¼Œä»¥é˜²æ­¢å…¶å½±å“å…¶ä»–å·¥ä½œè´Ÿè½½çš„é€Ÿåº¦ã€‚ÙETo cancel a scrub operation if needed, run `zpool scrub -s _mypool_`.ÙOå¦‚æœéœ€è¦å–æ¶ˆä¸€ä¸ª scrub æ“ä½œï¼Œè¯·è¿è¡Œ `zpool scrub -s _mypool_` ã€‚¬Self-Healing¬è‡ªæˆ‘ä¿®å¤ÚóThe checksums stored with data blocks enable the file system to _self-heal_.  This feature will automatically repair data whose checksum does not match the one recorded on another device that is part of the storage pool.  For example, a mirror configuration with two disks where one drive is starting to malfunction and cannot properly store the data any more.  This is worse when the data was not accessed for a long time, as with long term archive storage.  Traditional file systems need to run commands that check and repair the data like man:fsck[8].  These commands take time, and in severe cases, an administrator has to decide which repair operation to perform.  When ZFS detects a data block with a mismatched checksum, it tries to read the data from the mirror disk.  If that disk can provide the correct data, ZFS will give that to the application and correct the data on the disk with the wrong checksum.  This happens without any interaction from a system administrator during normal pool operation.Úˆå­˜å‚¨åœ¨æ•°æ®å—ä¸­çš„æ ¡éªŒå’Œä½¿æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿè‡ªæˆ‘ä¿®å¤ã€‚è¿™ä¸ªåŠŸèƒ½ä¼šè‡ªåŠ¨ä¿®å¤æ•°æ®ï¼Œå¦‚æœå…¶æ ¡éªŒå’Œä¸å­˜å‚¨æ± ä¸­å¦ä¸€ä¸ªè®¾å¤‡ä¸Šè®°å½•çš„æ ¡éªŒå’Œä¸åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªç£ç›˜çš„é•œåƒé…ç½®ï¼Œå…¶ä¸­ä¸€ä¸ªé©±åŠ¨å™¨å¼€å§‹å‡ºç°æ•…éšœï¼Œæ— æ³•æ­£ç¡®å­˜å‚¨æ•°æ®ã€‚å½“æ•°æ®é•¿æ—¶é—´æœªè¢«è®¿é—®æ—¶ï¼Œå¦‚é•¿æœŸå­˜æ¡£å­˜å‚¨ï¼Œæƒ…å†µä¼šæ›´ç³Ÿã€‚ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿéœ€è¦è¿è¡Œæ£€æŸ¥å’Œä¿®å¤æ•°æ®çš„å‘½ä»¤ï¼Œå¦‚ man:fsck[8]ã€‚è¿™äº›å‘½ä»¤éœ€è¦æ—¶é—´ï¼Œåœ¨ä¸¥é‡æƒ…å†µä¸‹ï¼Œç®¡ç†å‘˜å¿…é¡»å†³å®šæ‰§è¡Œå“ªä¸ªä¿®å¤æ“ä½œã€‚å½“ ZFS æ£€æµ‹åˆ°ä¸€ä¸ªæ•°æ®å—çš„æ ¡éªŒå’Œä¸åŒ¹é…æ—¶ï¼Œå®ƒä¼šå°è¯•ä»é•œåƒç£ç›˜ä¸­è¯»å–æ•°æ®ã€‚å¦‚æœè¯¥ç£ç›˜èƒ½æä¾›æ­£ç¡®çš„æ•°æ®ï¼Œ ZFS å°†å°†å…¶æä¾›ç»™åº”ç”¨ç¨‹åºï¼Œå¹¶çº æ­£å…·æœ‰é”™è¯¯æ ¡éªŒå’Œçš„ç£ç›˜ä¸Šçš„æ•°æ®ã€‚åœ¨æ­£å¸¸å­˜å‚¨æ± æ“ä½œæœŸé—´ï¼Œè¿™ä¸€åˆ‡éƒ½åœ¨æ²¡æœ‰ä»»ä½•ç³»ç»Ÿç®¡ç†å‘˜å¹²é¢„çš„æƒ…å†µä¸‹å‘ç”Ÿã€‚Ù‰The next example shows this self-healing behavior by creating a mirrored pool of disks [.filename]#/dev/ada0# and [.filename]#/dev/ada1#.Ù•ä¸‹ä¸€ä¸ªç¤ºä¾‹é€šè¿‡åˆ›å»ºä¸€ä¸ªé•œåƒç£ç›˜æ± æ¥å±•ç¤ºè¿™ç§è‡ªæˆ‘ä¿®å¤è¡Œä¸ºï¼Œå…¶ä¸­åŒ…æ‹¬ [.filename]#/dev/ada0# å’Œ [.filename]#/dev/ada1#ã€‚Ù—Copy some important data to the pool to protect from data errors using the self-healing feature and create a checksum of the pool for later comparison.ÙŠå°†ä¸€äº›é‡è¦æ•°æ®å¤åˆ¶åˆ°æ± ä¸­ï¼Œä»¥ä½¿ç”¨è‡ªæˆ‘ä¿®å¤åŠŸèƒ½ä¿æŠ¤å…å—æ•°æ®é”™è¯¯ï¼Œå¹¶ä¸ºæ± åˆ›å»ºæ ¡éªŒå’Œä»¥å¤‡åç»­æ¯”è¾ƒã€‚ÙÛSimulate data corruption by writing random data to the beginning of one of the disks in the mirror.  To keep ZFS from healing the data when detected, export the pool before the corruption and import it again afterwards.ÙËé€šè¿‡å‘é•œåƒä¸­çš„ä¸€ä¸ªç£ç›˜çš„å¼€å¤´å†™å…¥éšæœºæ•°æ®æ¥æ¨¡æ‹Ÿæ•°æ®æŸåã€‚ä¸ºäº†é˜²æ­¢ ZFS åœ¨æ£€æµ‹åˆ°æ•°æ®æŸåæ—¶ä¿®å¤æ•°æ®ï¼Œå¯ä»¥åœ¨æŸåä¹‹å‰å¯¼å‡ºæ± ï¼Œå¹¶åœ¨ä¹‹åé‡æ–°å¯¼å…¥ã€‚ÚÁThis is a dangerous operation that can destroy vital data, shown here for demonstration alone.  *Do not try* it during normal operation of a storage pool.  Nor should this intentional corruption example run on any disk with a file system not using ZFS on another partition in it.  Do not use any other disk device names other than the ones that are part of the pool.  Ensure proper backups of the pool exist and test them before running the command!ÚÜè¿™æ˜¯ä¸€ä¸ªå±é™©çš„æ“ä½œï¼Œå¯èƒ½ä¼šç ´åé‡è¦æ•°æ®ï¼Œä»…ç”¨äºæ¼”ç¤ºç›®çš„ã€‚åœ¨å­˜å‚¨æ± çš„æ­£å¸¸è¿è¡ŒæœŸé—´ï¼Œè¯· *ä¸è¦å°è¯•* æ‰§è¡Œæ­¤æ“ä½œã€‚æ­¤æ„å¤–æŸåç¤ºä¾‹ä¹Ÿä¸åº”åœ¨ä»»ä½•ä½¿ç”¨ ZFS ä»¥å¤–çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä¸Šè¿è¡Œï¼Œè¯¥ç£ç›˜ä¸Šçš„å¦ä¸€ä¸ªåˆ†åŒºä¸­ä¹Ÿä¸åº”è¯¥æœ‰ ZFS ã€‚è¯·ä¸è¦ä½¿ç”¨é™¤äº†å­˜å‚¨æ± ä¸­çš„è®¾å¤‡åç§°ä¹‹å¤–çš„ä»»ä½•å…¶ä»–ç£ç›˜è®¾å¤‡åç§°ã€‚ç¡®ä¿å­˜å‚¨æ± æœ‰é€‚å½“çš„å¤‡ä»½ï¼Œå¹¶åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼ÚPThe pool status shows that one device has experienced an error.  Note that applications reading data from the pool did not receive any incorrect data.  ZFS provided data from the [.filename]#ada0# device with the correct checksums.  To find the device with the wrong checksum, look for one whose `CKSUM` column contains a nonzero value.Úæ± çŠ¶æ€æ˜¾ç¤ºä¸€ä¸ªè®¾å¤‡å‘ç”Ÿäº†é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œä»æ± ä¸­è¯»å–æ•°æ®çš„åº”ç”¨ç¨‹åºæ²¡æœ‰æ¥æ”¶åˆ°ä»»ä½•é”™è¯¯æ•°æ®ã€‚ZFS ä» [.filename]#ada0# è®¾å¤‡æä¾›äº†æ­£ç¡®æ ¡éªŒå’Œçš„æ•°æ®ã€‚è¦æ‰¾åˆ°æ ¡éªŒå’Œé”™è¯¯çš„è®¾å¤‡ï¼Œè¯·æŸ¥æ‰¾ `CKSUM` åˆ—ä¸­åŒ…å«éé›¶å€¼çš„è®¾å¤‡ã€‚ÙÕZFS detected the error and handled it by using the redundancy present in the unaffected [.filename]#ada0# mirror disk.  A checksum comparison with the original one will reveal whether the pool is consistent again.ÙÂZFS æ£€æµ‹åˆ°é”™è¯¯ï¼Œå¹¶é€šè¿‡ä½¿ç”¨æœªå—å½±å“çš„ [.filename]#ada0# é•œåƒç£ç›˜ä¸­çš„å†—ä½™æ¥å¤„ç†è¯¥é”™è¯¯ã€‚é€šè¿‡ä¸åŸå§‹æ•°æ®è¿›è¡Œæ ¡éªŒæ¯”è¾ƒï¼Œå¯ä»¥ç¡®å®šæ± æ˜¯å¦æ¢å¤ä¸€è‡´ã€‚Ú¸Generate checksums before and after the intentional tampering while the pool data still matches.  This shows how ZFS is capable of detecting and correcting any errors automatically when the checksums differ.  Note this is possible with enough redundancy present in the pool.  A pool consisting of a single device has no self-healing capabilities.  That is also the reason why checksums are so important in ZFS; do not disable them for any reason.  ZFS requires no man:fsck[8] or similar file system consistency check program to detect and correct this, and keeps the pool available while there is a problem.  A scrub operation is now required to overwrite the corrupted data on [.filename]#ada1#.Ú[åœ¨æ•…æ„ç¯¡æ”¹ä¹‹å‰å’Œä¹‹åç”Ÿæˆæ ¡éªŒå’Œï¼ŒåŒæ—¶æ± æ•°æ®ä»ç„¶åŒ¹é…ã€‚è¿™æ˜¾ç¤ºäº†å½“æ ¡éªŒå’Œä¸åŒæ—¶ï¼Œ ZFS èƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹å’Œçº æ­£ä»»ä½•é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œè¿™éœ€è¦æ± ä¸­å…·æœ‰è¶³å¤Ÿçš„å†—ä½™ã€‚ç”±å•ä¸ªè®¾å¤‡ç»„æˆçš„æ± æ²¡æœ‰è‡ªæˆ‘ä¿®å¤èƒ½åŠ›ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ ZFS ä¸­æ ¡éªŒå’Œå¦‚æ­¤é‡è¦çš„åŸå› ï¼›ä¸è¦å‡ºäºä»»ä½•åŸå› ç¦ç”¨å®ƒä»¬ã€‚ ZFS ä¸éœ€è¦ man:fsck[8] æˆ–ç±»ä¼¼çš„æ–‡ä»¶ç³»ç»Ÿä¸€è‡´æ€§æ£€æŸ¥ç¨‹åºæ¥æ£€æµ‹å’Œçº æ­£è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”åœ¨å‡ºç°é—®é¢˜æ—¶ä¿æŒæ± å¯ç”¨ã€‚ç°åœ¨éœ€è¦è¿›è¡Œä¸€æ¬¡ scrub æ“ä½œæ¥è¦†ç›–åœ¨ [.filename]#ada1# ä¸Šçš„æŸåæ•°æ®ã€‚ÙìThe scrub operation reads data from [.filename]#ada0# and rewrites any data with a wrong checksum on [.filename]#ada1#, shown by the `(repairing)` output from `zpool status`.  After the operation is complete, the pool status changes to:ÙóScrub æ“ä½œä» [.filename]#ada0# è¯»å–æ•°æ®ï¼Œå¹¶å°†ä»»ä½•å…·æœ‰é”™è¯¯æ ¡éªŒå’Œçš„æ•°æ®é‡å†™åˆ° [.filename]#ada1# ä¸Šï¼Œè¿™å¯ä»¥é€šè¿‡ `zpool status` ä¸­çš„ `(repairing)` è¾“å‡ºæ¥æ˜¾ç¤ºã€‚æ“ä½œå®Œæˆåï¼Œæ± çš„çŠ¶æ€å°†å‘ç”Ÿå˜åŒ–ï¼šÙÏAfter the scrubbing operation completes with all the data synchronized from [.filename]#ada0# to [.filename]#ada1#, <<zfs-zpool-clear,clear>> the error messages from the pool status by running `zpool clear`.Ù½åœ¨ä» [.filename]#ada0# åŒæ­¥æ‰€æœ‰æ•°æ®åˆ° [.filename]#ada1# åï¼Œå®Œæˆäº† <<zfs-zpool-clear,æ¸…æ´—>> æ“ä½œï¼Œè¯·é€šè¿‡è¿è¡Œ `zpool clear` å‘½ä»¤æ¸…é™¤æ± çŠ¶æ€ä¸­çš„é”™è¯¯æ¶ˆæ¯ã€‚ÙNThe pool is now back to a fully working state, with all error counts now zero.ÙQç°åœ¨ï¼Œæ± å·²ç»æ¢å¤åˆ°å®Œå…¨æ­£å¸¸çš„çŠ¶æ€ï¼Œæ‰€æœ‰é”™è¯¯è®¡æ•°éƒ½ä¸ºé›¶ã€‚®Growing a Pool©æ‰©å±•æ± ÚMThe smallest device in each vdev limits the usable size of a redundant pool.  Replace the smallest device with a larger device.  After completing a <<zfs-zpool-replace,replace>> or <<zfs-term-resilver,resilver>> operation, the pool can grow to use the capacity of the new device.  For example, consider a mirror of a 1 TB drive and a 2 TB drive.  The usable space is 1 TB.  When replacing the 1 TB drive with another 2 TB drive, the resilvering process copies the existing data onto the new drive.  As both of the devices now have 2 TB capacity, the mirror's available space grows to 2 TB.Ú+æ¯ä¸ª vdev ä¸­æœ€å°çš„è®¾å¤‡é™åˆ¶äº†å†—ä½™æ± çš„å¯ç”¨å¤§å°ã€‚ç”¨ä¸€ä¸ªæ›´å¤§çš„è®¾å¤‡æ›¿æ¢æœ€å°çš„è®¾å¤‡ã€‚åœ¨å®Œæˆ <<zfs-zpool-replace , replace>> æˆ– <<zfs-term-resilver , resilver>> æ“ä½œåï¼Œæ± å¯ä»¥æ‰©å±•åˆ°ä½¿ç”¨æ–°è®¾å¤‡çš„å®¹é‡ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸€ä¸ªç”± 1 TB é©±åŠ¨å™¨å’Œ 2 TB é©±åŠ¨å™¨ç»„æˆçš„é•œåƒã€‚å¯ç”¨ç©ºé—´ä¸º 1 TB ã€‚å½“ç”¨å¦ä¸€ä¸ª 2 TB é©±åŠ¨å™¨æ›¿æ¢ 1 TB é©±åŠ¨å™¨æ—¶ï¼Œé‡æ–°åŒæ­¥è¿‡ç¨‹å°†ç°æœ‰æ•°æ®å¤åˆ¶åˆ°æ–°é©±åŠ¨å™¨ä¸Šã€‚ç”±äºä¸¤ä¸ªè®¾å¤‡ç°åœ¨éƒ½å…·æœ‰ 2 TB çš„å®¹é‡ï¼Œé•œåƒçš„å¯ç”¨ç©ºé—´å¢é•¿åˆ° 2 TBã€‚Ù‡Start expansion by using `zpool online -e` on each device.  After expanding all devices, the extra space becomes available to the pool.Ù‚é€šè¿‡åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šä½¿ç”¨ `zpool online -e` æ¥å¼€å§‹æ‰©å±•ã€‚åœ¨æ‰©å±•æ‰€æœ‰è®¾å¤‡ä¹‹åï¼Œé¢å¤–çš„ç©ºé—´å°†å¯ç”¨äºæ± ã€‚½Importing and Exporting Pools¸å¯¼å…¥å’Œå¯¼å‡ºå­˜å‚¨æ± ÚL_Export_ pools before moving them to another system.  ZFS unmounts all datasets, marking each device as exported but still locked to prevent use by other disks.  This allows pools to be _imported_ on other machines, other operating systems that support ZFS, and even different hardware architectures (with some caveats, see man:zpool[8]).  When a dataset has open files, use `zpool export -f` to force exporting the pool.  Use this with caution.  The datasets are forcibly unmounted, potentially resulting in unexpected behavior by the applications which had open files on those datasets.ÚPåœ¨å°†å­˜å‚¨æ± ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç³»ç»Ÿä¹‹å‰ï¼Œè¯·å…ˆ _å¯¼å‡ºï¼ˆexportï¼‰_ å®ƒä»¬ã€‚ ZFS ä¼šå¸è½½æ‰€æœ‰æ•°æ®é›†ï¼Œå¹¶å°†æ¯ä¸ªè®¾å¤‡æ ‡è®°ä¸ºå·²å¯¼å‡ºï¼Œä½†ä»ç„¶é”å®šä»¥é˜²æ­¢å…¶ä»–ç£ç›˜ä½¿ç”¨ã€‚è¿™ä½¿å¾—å­˜å‚¨æ± å¯ä»¥åœ¨å…¶ä»–æ”¯æŒ ZFS çš„æœºå™¨ã€å…¶ä»–æ“ä½œç³»ç»Ÿç”šè‡³ä¸åŒçš„ç¡¬ä»¶æ¶æ„ä¸Šå¯¼å…¥ï¼ˆæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œè¯·å‚é˜… man:zpool[8]ï¼‰ã€‚å½“æ•°æ®é›†æœ‰æ‰“å¼€çš„æ–‡ä»¶æ—¶ï¼Œè¯·ä½¿ç”¨ `zpool export -f` å¼ºåˆ¶å¯¼å‡ºå­˜å‚¨æ± ã€‚è¯·è°¨æ…ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚æ•°æ®é›†å°†è¢«å¼ºåˆ¶å¸è½½ï¼Œå¯èƒ½å¯¼è‡´é‚£äº›æ•°æ®é›†ä¸Šæœ‰æ‰“å¼€æ–‡ä»¶çš„åº”ç”¨ç¨‹åºå‡ºç°æ„å¤–è¡Œä¸ºã€‚Ù!Export a pool that is not in use:¾å¯¼å‡ºä¸€ä¸ªæœªä½¿ç”¨çš„æ± ï¼šÚImporting a pool automatically mounts the datasets.  If this is undesired behavior, use `zpool import -N` to prevent it.  `zpool import -o` sets temporary properties for this specific import.  `zpool import altroot=` allows importing a pool with a base mount point instead of the root of the file system.  If the pool was last used on a different system and was not properly exported, force the import using `zpool import -f`.  `zpool import -a` imports all pools that do not appear to be in use by another system.Úİå¯¼å…¥ä¸€ä¸ªå­˜å‚¨æ± ä¼šè‡ªåŠ¨æŒ‚è½½æ•°æ®é›†ã€‚å¦‚æœä¸å¸Œæœ›å‡ºç°è¿™ç§è¡Œä¸ºï¼Œè¯·ä½¿ç”¨ `zpool import -N` æ¥é˜»æ­¢å®ƒã€‚ `zpool import -o` ä¸ºæ­¤ç‰¹å®šå¯¼å…¥è®¾ç½®ä¸´æ—¶å±æ€§ã€‚`zpool import altroot=` å…è®¸ä½¿ç”¨åŸºæœ¬æŒ‚è½½ç‚¹è€Œä¸æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„æ ¹æ¥å¯¼å…¥å­˜å‚¨æ± ã€‚å¦‚æœè¯¥å­˜å‚¨æ± æœ€ååœ¨å¦ä¸€ä¸ªç³»ç»Ÿä¸Šä½¿ç”¨å¹¶ä¸”æ²¡æœ‰æ­£ç¡®å¯¼å‡ºï¼Œè¯·ä½¿ç”¨ `zpool import -f` æ¥å¼ºåˆ¶å¯¼å…¥ã€‚`zpool import -a` å¯¼å…¥æ‰€æœ‰æœªè¢«å…¶ä»–ç³»ç»Ÿä½¿ç”¨çš„å­˜å‚¨æ± ã€‚Ù$List all available pools for import:¾åˆ—å‡ºæ‰€æœ‰å¯å¯¼å…¥çš„æ± ï¼šÙ3Import the pool with an alternative root directory:Ù$å¯¼å…¥å…·æœ‰æ›¿ä»£æ ¹ç›®å½•çš„æ± ï¼š¸Upgrading a Storage Pool¯å‡çº§å­˜å‚¨æ± ÚqAfter upgrading FreeBSD, or if importing a pool from a system using an older version, manually upgrade the pool to the latest ZFS version to support newer features.  Consider whether the pool may ever need importing on an older system before upgrading.  Upgrading is a one-way process.  Upgrade older pools is possible, but downgrading pools with newer features is not.ÚLåœ¨å‡çº§ FreeBSD ä¹‹åï¼Œæˆ–è€…ä»ä½¿ç”¨è¾ƒæ—§ç‰ˆæœ¬çš„ç³»ç»Ÿå¯¼å…¥æ± æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†æ± å‡çº§åˆ°æœ€æ–°çš„ ZFS ç‰ˆæœ¬ä»¥æ”¯æŒæ–°åŠŸèƒ½ã€‚åœ¨å‡çº§ä¹‹å‰ï¼Œè¯·è€ƒè™‘æ± æ˜¯å¦å¯èƒ½éœ€è¦åœ¨è¾ƒæ—§çš„ç³»ç»Ÿä¸Šå¯¼å…¥ã€‚å‡çº§æ˜¯ä¸€ä¸ªå•å‘è¿‡ç¨‹ã€‚å‡çº§è¾ƒæ—§çš„æ± æ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯æ— æ³•é™çº§å…·æœ‰è¾ƒæ–°åŠŸèƒ½çš„æ± ã€‚Ù.Upgrade a v28 pool to support `Feature Flags`:Ù-å°† v28 æ± å‡çº§ä»¥æ”¯æŒ `Feature Flags`ã€‚ÙÌThe newer features of ZFS will not be available until `zpool upgrade` has completed.  Use `zpool upgrade -v` to see what new features the upgrade provides, as well as which features are already supported.Ù§åªæœ‰åœ¨å®Œæˆ `zpool upgrade` ä¹‹åï¼ŒZFS çš„æ–°åŠŸèƒ½æ‰ä¼šå¯ç”¨ã€‚ä½¿ç”¨ `zpool upgrade -v` å‘½ä»¤æŸ¥çœ‹å‡çº§æä¾›çš„æ–°åŠŸèƒ½ï¼Œä»¥åŠå·²ç»æ”¯æŒçš„åŠŸèƒ½ã€‚Ù,Upgrade a pool to support new feature flags:Ù0å‡çº§ä¸€ä¸ªæ± å­ä»¥æ”¯æŒæ–°çš„åŠŸèƒ½æ ‡å¿—ï¼šÚ#Update the boot code on systems that boot from a pool to support the new pool version.  Use `gpart bootcode` on the partition that contains the boot code.  Two types of bootcode are available, depending on way the system boots: GPT (the most common option) and EFI (for more modern systems).Úæ›´æ–°ä»æ± ä¸­å¼•å¯¼çš„ç³»ç»Ÿçš„å¼•å¯¼ä»£ç ï¼Œä»¥æ”¯æŒæ–°çš„æ± ç‰ˆæœ¬ã€‚åœ¨åŒ…å«å¼•å¯¼ä»£ç çš„åˆ†åŒºä¸Šä½¿ç”¨ `gpart bootcode` å‘½ä»¤ã€‚æ ¹æ®ç³»ç»Ÿçš„å¼•å¯¼æ–¹å¼ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å¼•å¯¼ä»£ç å¯ç”¨ï¼šGPTï¼ˆæœ€å¸¸è§çš„é€‰é¡¹ï¼‰å’Œ EFIï¼ˆé€‚ç”¨äºæ›´ç°ä»£çš„ç³»ç»Ÿï¼‰ã€‚Ù5For legacy boot using GPT, use the following command:Ù;å¯¹äºä½¿ç”¨ GPT çš„ä¼ ç»Ÿå¼•å¯¼ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼šÙ=For systems using EFI to boot, execute the following command:Ù;å¯¹äºä½¿ç”¨ EFI å¼•å¯¼çš„ç³»ç»Ÿï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ]Apply the bootcode to all bootable disks in the pool.  See man:gpart[8] for more information.Ùgå°†å¼•å¯¼ä»£ç åº”ç”¨äºæ± ä¸­çš„æ‰€æœ‰å¯å¼•å¯¼ç£ç›˜ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… man:gpart[8]ã€‚Ù Displaying Recorded Pool History¸æ˜¾ç¤ºæ± çš„å†å²è®°å½•ÚoZFS records commands that change the pool, including creating datasets, changing properties, or replacing a disk.  Reviewing history about a pool's creation is useful, as is checking which user performed a specific action and when.  History is not kept in a log file, but is part of the pool itself.  The command to review this history is aptly named `zpool history`:ÚpZFS è®°å½•æ›´æ”¹æ± çš„å‘½ä»¤ï¼ŒåŒ…æ‹¬åˆ›å»ºæ•°æ®é›†ã€æ›´æ”¹å±æ€§æˆ–æ›¿æ¢ç£ç›˜ã€‚æŸ¥çœ‹å…³äºæ± åˆ›å»ºçš„å†å²è®°å½•å¾ˆæœ‰ç”¨ï¼Œè¿˜å¯ä»¥æ£€æŸ¥å“ªä¸ªç”¨æˆ·æ‰§è¡Œäº†ç‰¹å®šçš„æ“ä½œä»¥åŠä½•æ—¶æ‰§è¡Œçš„ã€‚å†å²è®°å½•ä¸ä¼šä¿å­˜åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯ä½œä¸ºæ± æœ¬èº«çš„ä¸€éƒ¨åˆ†ã€‚ç”¨äºæŸ¥çœ‹è¿™ä¸ªå†å²è®°å½•çš„å‘½ä»¤è¢«æ°å½“åœ°å‘½åä¸º `zpool history`ã€‚ÙÏThe output shows `zpool` and `zfs` commands altering the pool in some way along with a timestamp.  Commands like `zfs list` are not included.  When specifying no pool name, ZFS displays history of all pools.ÙÌè¾“å‡ºæ˜¾ç¤ºäº† `zpool` å’Œ `zfs` å‘½ä»¤ä»¥æŸç§æ–¹å¼ä¿®æ”¹äº†æ± ï¼Œå¹¶é™„å¸¦äº†æ—¶é—´æˆ³ã€‚ä¸åŒ…æ‹¬åƒ `zfs list` è¿™æ ·çš„å‘½ä»¤ã€‚å½“æœªæŒ‡å®šæ± åç§°æ—¶ï¼Œ ZFS ä¼šæ˜¾ç¤ºæ‰€æœ‰æ± çš„å†å²è®°å½•ã€‚Ù¥`zpool history` can show even more information when providing the options `-i` or `-l`.  `-i` displays user-initiated events as well as internally logged ZFS events.Ù¥å½“ä½¿ç”¨é€‰é¡¹ `-i` æˆ– `-l` æ—¶ï¼Œ`zpool history` å‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯ã€‚ `-i` é€‰é¡¹ä¼šæ˜¾ç¤ºç”¨æˆ·å‘èµ·çš„äº‹ä»¶ä»¥åŠå†…éƒ¨è®°å½•çš„ ZFS äº‹ä»¶ã€‚ÙÂShow more details by adding `-l`.  Showing history records in a long format, including information like the name of the user who issued the command and the hostname on which the change happened.Ù“é€šè¿‡æ·»åŠ  `-l` æ¥æ˜¾ç¤ºæ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ä»¥é•¿æ ¼å¼æ˜¾ç¤ºå†å²è®°å½•ï¼ŒåŒ…æ‹¬å‘å‡ºå‘½ä»¤çš„ç”¨æˆ·çš„åç§°å’Œå‘ç”Ÿæ›´æ”¹çš„ä¸»æœºåã€‚ÚªThe output shows that the `root` user created the mirrored pool with disks [.filename]#/dev/ada0# and [.filename]#/dev/ada1#.  The hostname `myzfsbox` is also shown in the commands after the pool's creation.  The hostname display becomes important when exporting the pool from one system and importing on another.  It's possible to distinguish the commands issued on the other system by the hostname recorded for each command.Úgè¾“å‡ºæ˜¾ç¤º `root` ç”¨æˆ·ä½¿ç”¨ç£ç›˜ [.filename]#/dev/ada0# å’Œ [.filename]#/dev/ada1# åˆ›å»ºäº†é•œåƒæ± ã€‚åœ¨æ± åˆ›å»ºåçš„å‘½ä»¤ä¸­è¿˜æ˜¾ç¤ºäº†ä¸»æœºå `myzfsbox` ã€‚ä¸»æœºåçš„æ˜¾ç¤ºåœ¨å°†æ± ä»ä¸€ä¸ªç³»ç»Ÿå¯¼å‡ºå¹¶åœ¨å¦ä¸€ä¸ªç³»ç»Ÿå¯¼å…¥æ—¶å˜å¾—é‡è¦ã€‚å¯ä»¥é€šè¿‡ä¸ºæ¯ä¸ªå‘½ä»¤è®°å½•çš„ä¸»æœºåæ¥åŒºåˆ†åœ¨å¦ä¸€ä¸ªç³»ç»Ÿä¸Šå‘å‡ºçš„å‘½ä»¤ã€‚ÙóCombine both options to `zpool history` to give the most detailed information possible for any given pool.  Pool history provides valuable information when tracking down the actions performed or when needing more detailed output for debugging.Ù×å°†ä¸¤ä¸ªé€‰é¡¹ `zpool history` ç»“åˆèµ·æ¥ï¼Œä»¥ä¾¿ä¸ºä»»ä½•ç»™å®šçš„æ± æä¾›å°½å¯èƒ½è¯¦ç»†çš„ä¿¡æ¯ã€‚æ± å†å²è®°å½•åœ¨è¿½è¸ªæ‰§è¡Œçš„æ“ä½œæˆ–éœ€è¦æ›´è¯¦ç»†çš„è¾“å‡ºè¿›è¡Œè°ƒè¯•æ—¶æä¾›æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚¶Performance Monitoring¬æ€§èƒ½ç›‘æ§ÚTA built-in monitoring system can display pool I/O statistics in real time.  It shows the amount of free and used space on the pool, read and write operations performed per second, and I/O bandwidth used.  By default, ZFS monitors and displays all pools in the system.  Provide a pool name to limit monitoring to that pool.  A basic example:Ú8å†…ç½®çš„ç›‘æ§ç³»ç»Ÿå¯ä»¥å®æ—¶æ˜¾ç¤ºæ± çš„ I/O ç»Ÿè®¡ä¿¡æ¯ã€‚å®ƒæ˜¾ç¤ºæ± ä¸­çš„å¯ç”¨ç©ºé—´å’Œå·²ä½¿ç”¨ç©ºé—´çš„æ•°é‡ï¼Œæ¯ç§’æ‰§è¡Œçš„è¯»å†™æ“ä½œæ¬¡æ•°ä»¥åŠä½¿ç”¨çš„ I/O å¸¦å®½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ ZFS ç›‘è§†å¹¶æ˜¾ç¤ºç³»ç»Ÿä¸­çš„æ‰€æœ‰æ± ã€‚æä¾›æ± åç§°ä»¥é™åˆ¶ç›‘æ§åˆ°è¯¥æ± ã€‚ä¸€ä¸ªåŸºæœ¬ç¤ºä¾‹ï¼šÚdTo continuously see I/O activity, specify a number as the last parameter, indicating an interval in seconds to wait between updates.  The next statistic line prints after each interval.  Press kbd:[Ctrl+C] to stop this continuous monitoring.  Give a second number on the command line after the interval to specify the total number of statistics to display.Ú/è¦æŒç»­æŸ¥çœ‹ I/O æ´»åŠ¨ï¼Œè¯·åœ¨æœ€åä¸€ä¸ªå‚æ•°ä¸­æŒ‡å®šä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºæ›´æ–°ä¹‹é—´ç­‰å¾…çš„ç§’æ•°é—´éš”ã€‚æ¯ä¸ªé—´éš”åéƒ½ä¼šæ‰“å°ä¸‹ä¸€ä¸ªç»Ÿè®¡è¡Œã€‚æŒ‰ä¸‹ kbd:[Ctrl + C] åœæ­¢æ­¤è¿ç»­ç›‘è§†ã€‚åœ¨é—´éš”ä¹‹åçš„å‘½ä»¤è¡Œä¸Šç»™å‡ºç¬¬äºŒä¸ªæ•°å­—ï¼Œä»¥æŒ‡å®šè¦æ˜¾ç¤ºçš„ç»Ÿè®¡æ€»æ•°ã€‚Ú<Display even more detailed I/O statistics with `-v`.  Each device in the pool appears with a statistics line.  This is useful for seeing read and write operations performed on each device, and can help determine if any individual device is slowing down the pool.  This example shows a mirrored pool with two devices:Ú:ä½¿ç”¨ `-v` å‚æ•°å¯ä»¥æ˜¾ç¤ºæ›´è¯¦ç»†çš„ I/O ç»Ÿè®¡ä¿¡æ¯ã€‚æ± ä¸­çš„æ¯ä¸ªè®¾å¤‡éƒ½ä¼šæ˜¾ç¤ºä¸€è¡Œç»Ÿè®¡ä¿¡æ¯ã€‚è¿™å¯¹äºæŸ¥çœ‹åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šæ‰§è¡Œçš„è¯»å†™æ“ä½œéå¸¸æœ‰ç”¨ï¼Œå¹¶ä¸”å¯ä»¥å¸®åŠ©ç¡®å®šæ˜¯å¦æœ‰ä»»ä½•å•ä¸ªè®¾å¤‡å¯¼è‡´æ± å˜æ…¢ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªè®¾å¤‡çš„é•œåƒæ± ã€‚¸Splitting a Storage Pool¯åˆ†å‰²å­˜å‚¨æ± ÚZFS can split a pool consisting of one or more mirror vdevs into two pools.  Unless otherwise specified, ZFS detaches the last member of each mirror and creates a new pool containing the same data.  Be sure to make a dry run of the operation with `-n` first.  This displays the details of the requested operation without actually performing it.  This helps confirm that the operation will do what the user intends.ÚjZFS å¯ä»¥å°†ç”±ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ vdev ç»„æˆçš„æ± åˆ†å‰²æˆä¸¤ä¸ªæ± ã€‚é™¤éå¦æœ‰æŒ‡å®šï¼ŒZFS ä¼šåˆ†ç¦»æ¯ä¸ªé•œåƒçš„æœ€åä¸€ä¸ªæˆå‘˜ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«ç›¸åŒæ•°æ®çš„æ–°æ± ã€‚è¯·åŠ¡å¿…å…ˆä½¿ç”¨ `-n` è¿›è¡Œè¯•è¿è¡Œã€‚è¿™å°†æ˜¾ç¤ºæ‰€è¯·æ±‚æ“ä½œçš„è¯¦ç»†ä¿¡æ¯ï¼Œä½†ä¸ä¼šå®é™…æ‰§è¡Œæ“ä½œã€‚è¿™æœ‰åŠ©äºç¡®è®¤æ“ä½œæ˜¯å¦ç¬¦åˆç”¨æˆ·çš„æ„å›¾ã€‚´`zfs` Administration¬`zfs` ç®¡ç†Ù‘The `zfs` utility can create, destroy, and manage all existing ZFS datasets within a pool.  To manage the pool itself, use <<zfs-zpool,`zpool`>>.Ù‚`zfs` å®ç”¨ç¨‹åºå¯ä»¥åœ¨æ± ä¸­åˆ›å»ºã€é”€æ¯å’Œç®¡ç†æ‰€æœ‰ç°æœ‰çš„ ZFS æ•°æ®é›†ã€‚è¦ç®¡ç†æ± æœ¬èº«ï¼Œè¯·ä½¿ç”¨ `zpool`ã€‚Ù Creating and Destroying Datasets¸åˆ›å»ºå’Œé”€æ¯æ•°æ®é›†ÚDUnlike traditional disks and volume managers, space in ZFS is _not_ preallocated.  With traditional file systems, after partitioning and assigning the space, there is no way to add a new file system without adding a new disk.  With ZFS, creating new file systems is possible at any time.  Each <<zfs-term-dataset,_dataset_>> has properties including features like compression, deduplication, caching, and quotas, as well as other useful properties like readonly, case sensitivity, network file sharing, and a mount point.  Nesting datasets within each other is possible and child datasets will inherit properties from their ancestors.  <<zfs-zfs-allow,Delegate>>, <<zfs-zfs-send,replicate>>, <<zfs-zfs-snapshot,snapshot>>, <<zfs-zfs-jail,jail>> allows administering and destroying each dataset as a unit.  Creating a separate dataset for each different type or set of files has advantages.  The drawbacks to having a large number of datasets are that some commands like `zfs list` will be slower, and that mounting of hundreds or even thousands of datasets will slow the FreeBSD boot process.ÚÇä¸ä¼ ç»Ÿçš„ç£ç›˜å’Œå·ç®¡ç†å™¨ä¸åŒï¼ŒZFS ä¸­çš„ç©ºé—´æ˜¯ _ä¸é¢„åˆ†é…_ çš„ã€‚åœ¨ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåˆ†åŒºå’Œåˆ†é…ç©ºé—´åï¼Œæ— æ³•åœ¨ä¸æ·»åŠ æ–°ç£ç›˜çš„æƒ…å†µä¸‹æ·»åŠ æ–°çš„æ–‡ä»¶ç³»ç»Ÿã€‚è€Œåœ¨ ZFS ä¸­ï¼Œå¯ä»¥éšæ—¶åˆ›å»ºæ–°çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ª <<zfs-term-dataset,æ•°æ®é›† >> éƒ½æœ‰å±æ€§ï¼ŒåŒ…æ‹¬å‹ç¼©ã€å»é‡ã€ç¼“å­˜å’Œé…é¢ç­‰åŠŸèƒ½ï¼Œä»¥åŠå…¶ä»–æœ‰ç”¨çš„å±æ€§ï¼Œå¦‚åªè¯»ã€å¤§å°å†™æ•æ„Ÿã€ç½‘ç»œæ–‡ä»¶å…±äº«å’ŒæŒ‚è½½ç‚¹ã€‚å¯ä»¥å°†æ•°æ®é›†åµŒå¥—åœ¨å½¼æ­¤ä¹‹é—´ï¼Œå¹¶ä¸”å­æ•°æ®é›†å°†ç»§æ‰¿å…¶ç¥–å…ˆçš„å±æ€§ã€‚ <<zfs-zfs-allow ,å§”æ´¾ >>ã€<<zfs-zfs-send ,å¤åˆ¶ >>ã€<<zfs-zfs-snapshot ,å¿«ç…§ >>ã€<<zfs-zfs-jail ,ç›‘ç‹±>> å…è®¸å°†æ¯ä¸ªæ•°æ®é›†ä½œä¸ºä¸€ä¸ªå•å…ƒè¿›è¡Œç®¡ç†å’Œé”€æ¯ã€‚ä¸ºæ¯ç§ä¸åŒç±»å‹æˆ–æ–‡ä»¶é›†åˆ›å»ºå•ç‹¬çš„æ•°æ®é›†å…·æœ‰ä¼˜åŠ¿ã€‚æ‹¥æœ‰å¤§é‡æ•°æ®é›†çš„ç¼ºç‚¹æ˜¯ï¼ŒæŸäº›å‘½ä»¤ï¼ˆå¦‚ `zfs list`ï¼‰çš„é€Ÿåº¦ä¼šå˜æ…¢ï¼Œå¹¶ä¸”æŒ‚è½½æ•°ç™¾ç”šè‡³æ•°åƒä¸ªæ•°æ®é›†ä¼šå‡æ…¢ FreeBSD çš„å¯åŠ¨è¿‡ç¨‹ã€‚ÙSCreate a new dataset and enable <<zfs-term-compression-lz4,LZ4 compression>> on it:Ù>åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®é›†ï¼Œå¹¶åœ¨å…¶ä¸Šå¯ç”¨ LZ4 å‹ç¼©ã€‚ÙŸDestroying a dataset is much quicker than deleting the files on the dataset, as it does not involve scanning the files and updating the corresponding metadata.Ùxé”€æ¯æ•°æ®é›†æ¯”åˆ é™¤æ•°æ®é›†ä¸Šçš„æ–‡ä»¶è¦å¿«å¾—å¤šï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠæ‰«ææ–‡ä»¶å’Œæ›´æ–°ç›¸åº”çš„å…ƒæ•°æ®ã€‚¼Destroy the created dataset:¾é”€æ¯å·²åˆ›å»ºçš„æ•°æ®é›†ï¼šÚ‰In modern versions of ZFS, `zfs destroy` is asynchronous, and the free space might take minutes to appear in the pool.  Use `zpool get freeing _poolname_` to see the `freeing` property, that shows which datasets are having their blocks freed in the background.  If there are child datasets, like <<zfs-term-snapshot,snapshots>> or other datasets, destroying the parent is impossible.  To destroy a dataset and its children, use `-r` to recursively destroy the dataset and its children.  Use `-n -v` to list datasets and snapshots destroyed by this operation, without actually destroy anything.  Space reclaimed by destroying snapshots is also shown.Údåœ¨ç°ä»£ç‰ˆæœ¬çš„ ZFS ä¸­ï¼Œ `zfs destroy` æ˜¯å¼‚æ­¥çš„ï¼Œé‡Šæ”¾çš„ç©ºé—´å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ‰ä¼šåœ¨æ± ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚ä½¿ç”¨ `zpool get freeing _poolname_` å‘½ä»¤æ¥æŸ¥çœ‹ `freeing` å±æ€§ï¼Œè¯¥å±æ€§æ˜¾ç¤ºäº†å“ªäº›æ•°æ®é›†æ­£åœ¨åå°é‡Šæ”¾å…¶å—ã€‚å¦‚æœå­˜åœ¨å­æ•°æ®é›†ï¼Œä¾‹å¦‚å¿«ç…§æˆ–å…¶ä»–æ•°æ®é›†ï¼Œé‚£ä¹ˆæ— æ³•é”€æ¯çˆ¶æ•°æ®é›†ã€‚è¦é”€æ¯ä¸€ä¸ªæ•°æ®é›†åŠå…¶å­æ•°æ®é›†ï¼Œå¯ä»¥ä½¿ç”¨ `-r` é€‰é¡¹é€’å½’åœ°é”€æ¯æ•°æ®é›†åŠå…¶å­æ•°æ®é›†ã€‚ä½¿ç”¨ `-n -v` é€‰é¡¹åˆ—å‡ºæ­¤æ“ä½œé”€æ¯çš„æ•°æ®é›†å’Œå¿«ç…§ï¼Œè€Œä¸å®é™…é”€æ¯ä»»ä½•å†…å®¹ã€‚é”€æ¯å¿«ç…§é‡Šæ”¾çš„ç©ºé—´ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚¿Creating and Destroying Volumes²åˆ›å»ºå’Œé”€æ¯å·ÚGA volume is a special dataset type.  Rather than mounting as a file system, expose it as a block device under [.filename]#/dev/zvol/poolname/dataset#.  This allows using the volume for other file systems, to back the disks of a virtual machine, or to make it available to other network hosts using protocols like iSCSI or HAST.Ú-å·æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®é›†ç±»å‹ã€‚å®ƒä¸åƒæ–‡ä»¶ç³»ç»Ÿé‚£æ ·æŒ‚è½½ï¼Œè€Œæ˜¯åœ¨ `/dev/zvol/poolname/dataset` ä¸‹ä»¥å—è®¾å¤‡çš„å½¢å¼å…¬å¼€ã€‚è¿™ä½¿å¾—å¯ä»¥å°†å·ç”¨äºå…¶ä»–æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºè™šæ‹Ÿæœºçš„ç£ç›˜å¤‡ä»½ï¼Œæˆ–è€…é€šè¿‡ iSCSI æˆ– HAST ç­‰åè®®ä½¿å…¶å¯¹å…¶ä»–ç½‘ç»œä¸»æœºå¯ç”¨ã€‚ÚiFormat a volume with any file system or without a file system to store raw data.  To the user, a volume appears to be a regular disk.  Putting ordinary file systems on these _zvols_ provides features that ordinary disks or file systems do not have.  For example, using the compression property on a 250 MB volume allows creation of a compressed FAT file system.Úsä½¿ç”¨ä»»ä½•æ–‡ä»¶ç³»ç»Ÿæˆ–è€…ä¸ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥æ ¼å¼åŒ–ä¸€ä¸ªå·ï¼Œä»¥å­˜å‚¨åŸå§‹æ•°æ®ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œä¸€ä¸ªå·çœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ™®é€šçš„ç£ç›˜ã€‚åœ¨è¿™äº› _zvol_ ä¸Šæ”¾ç½®æ™®é€šçš„æ–‡ä»¶ç³»ç»Ÿæä¾›äº†æ™®é€šç£ç›˜æˆ–æ–‡ä»¶ç³»ç»Ÿæ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å‹ç¼©å±æ€§åœ¨ä¸€ä¸ª 250MB çš„å·ä¸Šå¯ä»¥åˆ›å»ºä¸€ä¸ªå‹ç¼©çš„ FAT æ–‡ä»¶ç³»ç»Ÿã€‚Ù¾Destroying a volume is much the same as destroying a regular file system dataset.  The operation is nearly instantaneous, but it may take minutes to reclaim the free space in the background.Ù±é”€æ¯ä¸€ä¸ªå·ä¸é”€æ¯ä¸€ä¸ªå¸¸è§„æ–‡ä»¶ç³»ç»Ÿæ•°æ®é›†åŸºæœ¬ç›¸åŒã€‚è¯¥æ“ä½œå‡ ä¹æ˜¯ç¬æ—¶å®Œæˆçš„ï¼Œä½†åœ¨åå°é‡æ–°è·å–ç©ºé—²ç©ºé—´å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿçš„æ—¶é—´ã€‚²Renaming a Dataset²é‡å‘½åæ•°æ®é›†Ú„To change the name of a dataset, use `zfs rename`.  To change the parent of a dataset, use this command as well.  Renaming a dataset to have a different parent dataset will change the value of those properties inherited from the parent dataset.  Renaming a dataset unmounts then remounts it in the new location (inherited from the new parent dataset).  To prevent this behavior, use `-u`.Úpè¦æ›´æ”¹æ•°æ®é›†çš„åç§°ï¼Œè¯·ä½¿ç”¨ `zfs rename` å‘½ä»¤ã€‚è¦æ›´æ”¹æ•°æ®é›†çš„çˆ¶çº§ï¼Œè¯·åŒæ ·ä½¿ç”¨æ­¤å‘½ä»¤ã€‚å°†æ•°æ®é›†é‡å‘½åä¸ºå…·æœ‰ä¸åŒçˆ¶çº§çš„æ•°æ®é›†å°†æ›´æ”¹ä»çˆ¶çº§æ•°æ®é›†ç»§æ‰¿çš„å±æ€§çš„å€¼ã€‚å°†æ•°æ®é›†é‡å‘½åä¸ºæ–°ä½ç½®ï¼ˆä»æ–°çˆ¶çº§æ•°æ®é›†ç»§æ‰¿ï¼‰å°†å¸è½½ç„¶åé‡æ–°æŒ‚è½½å®ƒã€‚è¦é˜²æ­¢æ­¤è¡Œä¸ºï¼Œè¯·ä½¿ç”¨ `-u` é€‰é¡¹ã€‚ÙDRename a dataset and move it to be under a different parent dataset:Ù?é‡å‘½åæ•°æ®é›†å¹¶å°†å…¶ç§»åŠ¨åˆ°ä¸åŒçš„çˆ¶æ•°æ®é›†ä¸‹ï¼šÙîRenaming snapshots uses the same command.  Due to the nature of snapshots, rename cannot change their parent dataset.  To rename a recursive snapshot, specify `-r`; this will also rename all snapshots with the same name in child datasets.ÙŞé‡å‘½åå¿«ç…§ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤ã€‚ç”±äºå¿«ç…§çš„ç‰¹æ€§ï¼Œé‡å‘½åä¸èƒ½æ”¹å˜å®ƒä»¬çš„çˆ¶æ•°æ®é›†ã€‚è¦é‡å‘½åé€’å½’å¿«ç…§ï¼Œè¯·æŒ‡å®š `-r` ï¼›è¿™ä¹Ÿä¼šé‡å‘½åæ‰€æœ‰å­æ•°æ®é›†ä¸­å…·æœ‰ç›¸åŒåç§°çš„å¿«ç…§ã€‚ºSetting Dataset Propertiesµè®¾ç½®æ•°æ®é›†å±æ€§ÚĞEach ZFS dataset has properties that control its behavior.  Most properties are automatically inherited from the parent dataset, but can be overridden locally.  Set a property on a dataset with `zfs set _property=value dataset_`.  Most properties have a limited set of valid values, `zfs get` will display each possible property and valid values.  Using `zfs inherit` reverts most properties to their inherited values.  User-defined properties are also possible.  They become part of the dataset configuration and provide further information about the dataset or its contents.  To distinguish these custom properties from the ones supplied as part of ZFS, use a colon (`:`) to create a custom namespace for the property.Úæ¯ä¸ª ZFS æ•°æ®é›†éƒ½æœ‰æ§åˆ¶å…¶è¡Œä¸ºçš„å±æ€§ã€‚å¤§å¤šæ•°å±æ€§ä¼šè‡ªåŠ¨ä»çˆ¶æ•°æ®é›†ç»§æ‰¿ï¼Œä½†å¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œè¦†ç›–ã€‚ä½¿ç”¨ `zfs set _property=value dataset_` åœ¨æ•°æ®é›†ä¸Šè®¾ç½®å±æ€§ã€‚å¤§å¤šæ•°å±æ€§æœ‰ä¸€ç»„æœ‰é™çš„æœ‰æ•ˆå€¼ï¼Œ`zfs get` å°†æ˜¾ç¤ºæ¯ä¸ªå¯èƒ½çš„å±æ€§å’Œæœ‰æ•ˆå€¼ã€‚ä½¿ç”¨ `zfs inherit` å°†å¤§å¤šæ•°å±æ€§æ¢å¤ä¸ºå…¶ç»§æ‰¿çš„å€¼ã€‚è¿˜å¯ä»¥å®šä¹‰ç”¨æˆ·è‡ªå®šä¹‰å±æ€§ã€‚å®ƒä»¬æˆä¸ºæ•°æ®é›†é…ç½®çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶æä¾›æœ‰å…³æ•°æ®é›†æˆ–å…¶å†…å®¹çš„è¿›ä¸€æ­¥ä¿¡æ¯ã€‚ä¸ºäº†åŒºåˆ†è¿™äº›è‡ªå®šä¹‰å±æ€§å’Œä½œä¸º ZFS çš„ä¸€éƒ¨åˆ†æä¾›çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å†’å·ï¼ˆ`:`ï¼‰ä¸ºå±æ€§åˆ›å»ºè‡ªå®šä¹‰å‘½åç©ºé—´ã€‚ÙÉTo remove a custom property, use `zfs inherit` with `-r`.  If the custom property is not defined in any of the parent datasets, this option removes it (but the pool's history still records the change).Ùáè¦åˆ é™¤è‡ªå®šä¹‰å±æ€§ï¼Œè¯·ä½¿ç”¨ `zfs inherit` å‘½ä»¤å¹¶åŠ ä¸Š `-r` é€‰é¡¹ã€‚å¦‚æœè‡ªå®šä¹‰å±æ€§åœ¨ä»»ä½•çˆ¶æ•°æ®é›†ä¸­éƒ½æ²¡æœ‰å®šä¹‰ï¼Œè¿™ä¸ªé€‰é¡¹å°†åˆ é™¤å®ƒï¼ˆä½†æ± çš„å†å²è®°å½•ä»ç„¶ä¼šè®°å½•è¿™ä¸ªæ›´æ”¹ï¼‰ã€‚Ù$Getting and Setting Share Properties»è·å–å’Œè®¾ç½®å…±äº«å±æ€§ÙÿTwo commonly used and useful dataset properties are the NFS and SMB share options.  Setting these defines if and how ZFS shares datasets on the network.  At present, FreeBSD supports setting NFS sharing alone.  To get the current status of a share, enter:Ùôä¸¤ä¸ªå¸¸ç”¨ä¸”æœ‰ç”¨çš„æ•°æ®é›†å±æ€§æ˜¯ NFS å’Œ SMB å…±äº«é€‰é¡¹ã€‚è®¾ç½®è¿™äº›é€‰é¡¹å¯ä»¥å®šä¹‰ ZFS åœ¨ç½‘ç»œä¸Šå…±äº«æ•°æ®é›†çš„æ–¹å¼å’Œæ–¹å¼ã€‚ç›®å‰ï¼ŒFreeBSD ä»…æ”¯æŒè®¾ç½® NFS å…±äº«ã€‚è¦è·å–å…±äº«çš„å½“å‰çŠ¶æ€ï¼Œè¯·è¾“å…¥ï¼šÙ&To enable sharing of a dataset, enter:Ù*è¦å¯ç”¨æ•°æ®é›†çš„å…±äº«ï¼Œè¯·è¾“å…¥ï¼šÙšSet other options for sharing datasets through NFS, such as `-alldirs`, `-maproot` and `-network`.  To set options on a dataset shared through NFS, enter:Ù£è®¾ç½®é€šè¿‡ NFS å…±äº«æ•°æ®é›†çš„å…¶ä»–é€‰é¡¹ï¼Œä¾‹å¦‚ `-alldirs`ã€`-maproot` å’Œ `-network`ã€‚è¦åœ¨é€šè¿‡ NFS å…±äº«çš„æ•°æ®é›†ä¸Šè®¾ç½®é€‰é¡¹ï¼Œè¯·è¾“å…¥ï¼š²Managing Snapshots¬ç®¡ç†å¿«ç…§Ú<<zfs-term-snapshot,Snapshots>> are one of the most powerful features of ZFS.  A snapshot provides a read-only, point-in-time copy of the dataset.  With Copy-On-Write (COW), ZFS creates snapshots fast by preserving older versions of the data on disk.  If no snapshots exist, ZFS reclaims space for future use when data is rewritten or deleted.  Snapshots preserve disk space by recording just the differences between the current dataset and a previous version.  Allowing snapshots on whole datasets, not on individual files or directories.  A snapshot from a dataset duplicates everything contained in it.  This includes the file system properties, files, directories, permissions, and so on.  Snapshots use no extra space when first created, but consume space as the blocks they reference change.  Recursive snapshots taken with `-r` create snapshots with the same name on the dataset and its children, providing a consistent moment-in-time snapshot of the file systems.  This can be important when an application has files on related datasets or that depend upon each other.  Without snapshots, a backup would have copies of the files from different points in time.Úü<<zfs-term-snapshot,å¿«ç…§>> æ˜¯ ZFS æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å¿«ç…§æä¾›äº†æ•°æ®é›†çš„åªè¯»ã€æ—¶é—´ç‚¹çš„å‰¯æœ¬ã€‚é€šè¿‡å†™æ—¶å¤åˆ¶ï¼ˆCOWï¼‰ï¼ŒZFS é€šè¿‡åœ¨ç£ç›˜ä¸Šä¿ç•™æ—§ç‰ˆæœ¬çš„æ•°æ®æ¥å¿«é€Ÿåˆ›å»ºå¿«ç…§ã€‚å¦‚æœæ²¡æœ‰å¿«ç…§å­˜åœ¨ï¼Œå½“æ•°æ®è¢«é‡å†™æˆ–åˆ é™¤æ—¶ï¼ŒZFS ä¼šå›æ”¶ç©ºé—´ä»¥ä¾›å°†æ¥ä½¿ç”¨ã€‚å¿«ç…§é€šè¿‡è®°å½•å½“å‰æ•°æ®é›†ä¸å…ˆå‰ç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚æ¥ä¿ç•™ç£ç›˜ç©ºé—´ã€‚å…è®¸åœ¨æ•´ä¸ªæ•°æ®é›†ä¸Šè¿›è¡Œå¿«ç…§ï¼Œè€Œä¸æ˜¯åœ¨å•ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸Šè¿›è¡Œå¿«ç…§ã€‚æ•°æ®é›†çš„å¿«ç…§å¤åˆ¶å…¶ä¸­åŒ…å«çš„æ‰€æœ‰å†…å®¹ã€‚è¿™åŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿå±æ€§ã€æ–‡ä»¶ã€ç›®å½•ã€æƒé™ç­‰ã€‚å¿«ç…§åœ¨åˆ›å»ºæ—¶ä¸å ç”¨é¢å¤–çš„ç©ºé—´ï¼Œä½†éšç€å®ƒä»¬å¼•ç”¨çš„å—çš„å˜åŒ–è€Œæ¶ˆè€—ç©ºé—´ã€‚ä½¿ç”¨ `-r` è¿›è¡Œé€’å½’å¿«ç…§ä¼šåœ¨æ•°æ®é›†åŠå…¶å­æ•°æ®é›†ä¸Šåˆ›å»ºå…·æœ‰ç›¸åŒåç§°çš„å¿«ç…§ï¼Œæä¾›æ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ—¶åˆ»å¿«ç…§ã€‚å½“åº”ç”¨ç¨‹åºåœ¨ç›¸å…³æ•°æ®é›†ä¸Šæœ‰æ–‡ä»¶æˆ–ç›¸äº’ä¾èµ–æ—¶ï¼Œè¿™å¯èƒ½å¾ˆé‡è¦ã€‚å¦‚æœæ²¡æœ‰å¿«ç…§ï¼Œå¤‡ä»½å°†å…·æœ‰æ¥è‡ªä¸åŒæ—¶é—´ç‚¹çš„æ–‡ä»¶å‰¯æœ¬ã€‚Ú	Snapshots in ZFS provide a variety of features that even other file systems with snapshot functionality lack.  A typical example of snapshot use is as a quick way of backing up the current state of the file system when performing a risky action like a software installation or a system upgrade.  If the action fails, rolling back to the snapshot returns the system to the same state when creating the snapshot.  If the upgrade was successful, delete the snapshot to free up space.  Without snapshots, a failed upgrade often requires restoring backups, which is tedious, time consuming, and may require downtime during which the system is unusable.  Rolling back to snapshots is fast, even while the system is running in normal operation, with little or no downtime.  The time savings are enormous with multi-terabyte storage systems considering the time required to copy the data from backup.  Snapshots are not a replacement for a complete backup of a pool, but offer a quick and easy way to store a dataset copy at a specific time.ÚPZFS ä¸­çš„å¿«ç…§æä¾›äº†è®¸å¤šå…¶ä»–å…·æœ‰å¿«ç…§åŠŸèƒ½çš„æ–‡ä»¶ç³»ç»Ÿæ‰€ç¼ºä¹çš„åŠŸèƒ½ã€‚å¿«ç…§çš„å…¸å‹ç”¨æ³•æ˜¯åœ¨æ‰§è¡Œé£é™©æ“ä½œï¼ˆå¦‚è½¯ä»¶å®‰è£…æˆ–ç³»ç»Ÿå‡çº§ï¼‰æ—¶ï¼Œå¿«é€Ÿå¤‡ä»½æ–‡ä»¶ç³»ç»Ÿçš„å½“å‰çŠ¶æ€ã€‚å¦‚æœæ“ä½œå¤±è´¥ï¼Œå›æ»šåˆ°å¿«ç…§å¯ä»¥å°†ç³»ç»Ÿæ¢å¤åˆ°åˆ›å»ºå¿«ç…§æ—¶çš„ç›¸åŒçŠ¶æ€ã€‚å¦‚æœå‡çº§æˆåŠŸï¼Œå¯ä»¥åˆ é™¤å¿«ç…§ä»¥é‡Šæ”¾ç©ºé—´ã€‚å¦‚æœæ²¡æœ‰å¿«ç…§ï¼Œå‡çº§å¤±è´¥é€šå¸¸éœ€è¦æ¢å¤å¤‡ä»½ï¼Œè¿™æ˜¯ç¹çã€è€—æ—¶çš„ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦åœæœºæ—¶é—´ï¼ŒæœŸé—´ç³»ç»Ÿæ— æ³•ä½¿ç”¨ã€‚å›æ»šåˆ°å¿«ç…§æ˜¯å¿«é€Ÿçš„ï¼Œå³ä½¿ç³»ç»Ÿåœ¨æ­£å¸¸è¿è¡Œä¸­ï¼Œå‡ ä¹æ²¡æœ‰åœæœºæ—¶é—´ã€‚è€ƒè™‘åˆ°ä»å¤‡ä»½ä¸­å¤åˆ¶æ•°æ®æ‰€éœ€çš„æ—¶é—´ï¼Œå¯¹äºå¤š TB å­˜å‚¨ç³»ç»Ÿæ¥è¯´ï¼ŒèŠ‚çœçš„æ—¶é—´æ˜¯å·¨å¤§çš„ã€‚å¿«ç…§ä¸èƒ½æ›¿ä»£å¯¹æ± çš„å®Œæ•´å¤‡ä»½ï¼Œä½†æä¾›äº†ä¸€ç§å¿«é€Ÿç®€ä¾¿çš„æ–¹å¼æ¥å­˜å‚¨ç‰¹å®šæ—¶é—´ç‚¹çš„æ•°æ®é›†å‰¯æœ¬ã€‚²Creating Snapshots¬åˆ›å»ºå¿«ç…§Ù˜To create snapshots, use `zfs snapshot _dataset_@_snapshotname_`.  Adding `-r` creates a snapshot recursively, with the same name on all child datasets.Ù°è¦åˆ›å»ºå¿«ç…§ï¼Œè¯·ä½¿ç”¨ `zfs snapshot _dataset_@_snapshotname_` å‘½ä»¤ã€‚æ·»åŠ  `-r` é€‰é¡¹å¯ä»¥é€’å½’åœ°åˆ›å»ºå¿«ç…§ï¼Œå¹¶åœ¨æ‰€æœ‰å­æ•°æ®é›†ä¸Šä½¿ç”¨ç›¸åŒçš„åç§°ã€‚Ù/Create a recursive snapshot of the entire pool:Ù!åˆ›å»ºæ•´ä¸ªæ± çš„é€’å½’å¿«ç…§ï¼šÙ¥Snapshots are not shown by a normal `zfs list` operation.  To list snapshots, append `-t snapshot` to `zfs list`.  `-t all` displays both file systems and snapshots.Ù¥æ™®é€šçš„ `zfs list` æ“ä½œä¸ä¼šæ˜¾ç¤ºå¿«ç…§ã€‚è¦åˆ—å‡ºå¿«ç…§ï¼Œè¯·åœ¨ `zfs list` åé¢æ·»åŠ  `-t snapshot`ã€‚ `-t all` å¯ä»¥åŒæ—¶æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿå’Œå¿«ç…§ã€‚ÙñSnapshots are not mounted directly, showing no path in the `MOUNTPOINT` column.  ZFS does not mention available disk space in the `AVAIL` column, as snapshots are read-only after their creation.  Compare the snapshot to the original dataset:ÙÏå¿«ç…§ä¸ä¼šç›´æ¥æŒ‚è½½ï¼Œå› æ­¤åœ¨ `MOUNTPOINT` åˆ—ä¸­ä¸æ˜¾ç¤ºè·¯å¾„ã€‚ZFS åœ¨ `AVAIL` åˆ—ä¸­ä¸æåŠå¯ç”¨ç£ç›˜ç©ºé—´ï¼Œå› ä¸ºå¿«ç…§åœ¨åˆ›å»ºåæ˜¯åªè¯»çš„ã€‚å°†å¿«ç…§ä¸åŸå§‹æ•°æ®é›†è¿›è¡Œæ¯”è¾ƒï¼šÚuDisplaying both the dataset and the snapshot together reveals how snapshots work in <<zfs-term-cow,COW>> fashion.  They save the changes (_delta_) made and not the complete file system contents all over again.  This means that snapshots take little space when making changes.  Observe space usage even more by copying a file to the dataset, then creating a second snapshot:ÚvåŒæ—¶æ˜¾ç¤ºæ•°æ®é›†å’Œå¿«ç…§å¯ä»¥å±•ç¤ºå¿«ç…§ä»¥ <<zfs-term-cow,å†™æ—¶å¤åˆ¶>> æ–¹å¼å·¥ä½œçš„åŸç†ã€‚å®ƒä»¬ä¿å­˜æ‰€åšçš„æ›´æ”¹ï¼ˆ_delta_ï¼‰ï¼Œè€Œä¸æ˜¯å†æ¬¡ä¿å­˜å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿå†…å®¹ã€‚è¿™æ„å‘³ç€åœ¨è¿›è¡Œæ›´æ”¹æ—¶ï¼Œå¿«ç…§æ‰€å ç”¨çš„ç©ºé—´å¾ˆå°ã€‚é€šè¿‡å°†æ–‡ä»¶å¤åˆ¶åˆ°æ•°æ®é›†ä¸­ï¼Œç„¶ååˆ›å»ºç¬¬äºŒä¸ªå¿«ç…§ï¼Œå¯ä»¥æ›´åŠ è§‚å¯Ÿç©ºé—´ä½¿ç”¨æƒ…å†µï¼šÚ-The second snapshot contains the changes to the dataset after the copy operation.  This yields enormous space savings.  Notice that the size of the snapshot `_mypool/var/tmp@my_recursive_snapshot_` also changed in the `USED` column to show the changes between itself and the snapshot taken afterwards.Úç¬¬äºŒä¸ªå¿«ç…§åŒ…å«äº†å¤åˆ¶æ“ä½œåæ•°æ®é›†çš„å˜åŒ–ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå¤§é‡çš„ç©ºé—´ã€‚è¯·æ³¨æ„ï¼Œå¿«ç…§ `_mypool/var/tmp@my_recursive_snapshot_` çš„å¤§å°åœ¨ `USED` åˆ—ä¸­ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œä»¥æ˜¾ç¤ºå®ƒä¸ä¹‹åæ‹æ‘„çš„å¿«ç…§ä¹‹é—´çš„å˜åŒ–ã€‚³Comparing Snapshots¬æ¯”è¾ƒå¿«ç…§ÚŸZFS provides a built-in command to compare the differences in content between two snapshots.  This is helpful with a lot of snapshots taken over time when the user wants to see how the file system has changed over time.  For example, `zfs diff` lets a user find the latest snapshot that still contains a file deleted by accident.  Doing this for the two snapshots created in the previous section yields this output:ÚZFS æä¾›äº†ä¸€ä¸ªå†…ç½®å‘½ä»¤ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¿«ç…§ä¹‹é—´å†…å®¹çš„å·®å¼‚ã€‚å½“ç”¨æˆ·æƒ³è¦æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿéšæ—¶é—´å˜åŒ–çš„æ–¹å¼æ—¶ï¼Œè¿™éå¸¸æœ‰å¸®åŠ©ï¼Œå°¤å…¶æ˜¯åœ¨æœ‰å¾ˆå¤šå¿«ç…§çš„æƒ…å†µä¸‹ã€‚ä¾‹å¦‚ï¼Œ `zfs diff` å‘½ä»¤å¯ä»¥å¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€æ–°çš„å¿«ç…§ï¼Œå…¶ä¸­ä»ç„¶åŒ…å«äº†æ„å¤–åˆ é™¤çš„æ–‡ä»¶ã€‚å¯¹äºå‰ä¸€èŠ‚åˆ›å»ºçš„ä¸¤ä¸ªå¿«ç…§ï¼Œæ‰§è¡Œæ­¤å‘½ä»¤å°†è¾“å‡ºå¦‚ä¸‹ç»“æœï¼šÙ·The command lists the changes between the specified snapshot (in this case `_mypool/var/tmp@my_recursive_snapshot_`) and the live file system.  The first column shows the change type:Ù¢è¯¥å‘½ä»¤åˆ—å‡ºäº†æŒ‡å®šå¿«ç…§ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º `_mypool/var/tmp@my_recursive_snapshot_` ï¼‰ä¸æ´»åŠ¨æ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„å˜åŒ–ã€‚ç¬¬ä¸€åˆ—æ˜¾ç¤ºå˜åŒ–ç±»å‹ï¼š¸Adding the path or file.¸æ·»åŠ è·¯å¾„æˆ–æ–‡ä»¶ã€‚ºDeleting the path or file.¸åˆ é™¤è·¯å¾„æˆ–æ–‡ä»¶ã€‚»Modifying the path or file.¸ä¿®æ”¹è·¯å¾„æˆ–æ–‡ä»¶ã€‚ºRenaming the path or file.»é‡å‘½åè·¯å¾„æˆ–æ–‡ä»¶ã€‚ÙõComparing the output with the table, it becomes clear that ZFS added [.filename]#passwd# after creating the snapshot `_mypool/var/tmp@my_recursive_snapshot_`.  This also resulted in a modification to the parent directory mounted at `_/var/tmp_`.ÙÜå°†è¾“å‡ºä¸è¡¨æ ¼è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ° ZFS åœ¨åˆ›å»ºå¿«ç…§ `_mypool/var/tmp@my_recursive_snapshot_` ä¹‹åæ·»åŠ äº† [.filename]#passwd# ã€‚è¿™ä¹Ÿå¯¼è‡´äº†æŒ‚è½½åœ¨ `_/var/tmp_` ä¸Šçš„çˆ¶ç›®å½•çš„ä¿®æ”¹ã€‚ÙˆComparing two snapshots is helpful when using the ZFS replication feature to transfer a dataset to a different host for backup purposes.Ùzå½“ä½¿ç”¨ ZFS å¤åˆ¶åŠŸèƒ½å°†æ•°æ®é›†ä¼ è¾“åˆ°ä¸åŒçš„ä¸»æœºè¿›è¡Œå¤‡ä»½æ—¶ï¼Œæ¯”è¾ƒä¸¤ä¸ªå¿«ç…§æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚Ù\Compare two snapshots by providing the full dataset name and snapshot name of both datasets:ÙZé€šè¿‡æä¾›ä¸¤ä¸ªæ•°æ®é›†çš„å®Œæ•´æ•°æ®é›†åç§°å’Œå¿«ç…§åç§°æ¥æ¯”è¾ƒä¸¤ä¸ªå¿«ç…§ï¼šÙÄA backup administrator can compare two snapshots received from the sending host and determine the actual changes in the dataset.  See the <<zfs-zfs-send,Replication>> section for more information.Ù­å¤‡ä»½ç®¡ç†å‘˜å¯ä»¥æ¯”è¾ƒä»å‘é€ä¸»æœºæ¥æ”¶åˆ°çš„ä¸¤ä¸ªå¿«ç…§ï¼Œå¹¶ç¡®å®šæ•°æ®é›†ä¸­çš„å®é™…æ›´æ”¹ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <<zfs-zfs-send,å¤åˆ¶ >> éƒ¨åˆ†ã€‚±Snapshot Rollback¬å¿«ç…§å›æ»šÚ·When at least one snapshot is available, roll back to it at any time.  Most often this is the case when the current state of the dataset is no longer and if preferring an older version.  Scenarios such as local development tests gone wrong, botched system updates hampering the system functionality, or the need to restore deleted files or directories are all too common occurrences.  To roll back a snapshot, use `zfs rollback _snapshotname_`.  If a lot of changes are present, the operation will take a long time.  During that time, the dataset always remains in a consistent state, much like a database that conforms to ACID principles is performing a rollback.  This is happening while the dataset is live and accessible without requiring a downtime.  Once the snapshot rolled back, the dataset has the same state as it had when the snapshot was originally taken.  Rolling back to a snapshot discards all other data in that dataset not part of the snapshot.  Taking a snapshot of the current state of the dataset before rolling back to a previous one is a good idea when requiring some data later.  This way, the user can roll back and forth between snapshots without losing data that is still valuable.Úå½“è‡³å°‘æœ‰ä¸€ä¸ªå¿«ç…§å¯ç”¨æ—¶ï¼Œéšæ—¶å¯ä»¥å›æ»šåˆ°è¯¥å¿«ç…§ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“æ•°æ®é›†çš„å½“å‰çŠ¶æ€ä¸å†å­˜åœ¨æˆ–è€…æ›´å–œæ¬¢æ—§ç‰ˆæœ¬æ—¶ï¼Œä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚è¯¸å¦‚æœ¬åœ°å¼€å‘æµ‹è¯•å¤±è´¥ã€ç³»ç»Ÿæ›´æ–°å¤±è´¥å¯¼è‡´ç³»ç»ŸåŠŸèƒ½å—é˜»ï¼Œæˆ–è€…éœ€è¦æ¢å¤å·²åˆ é™¤çš„æ–‡ä»¶æˆ–ç›®å½•ç­‰æƒ…å†µéƒ½å¾ˆå¸¸è§ã€‚è¦å›æ»šå¿«ç…§ï¼Œè¯·ä½¿ç”¨ `zfs rollback _snapshotname_` å‘½ä»¤ã€‚å¦‚æœå­˜åœ¨å¤§é‡æ›´æ”¹ï¼Œæ“ä½œå°†éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚åœ¨æ­¤æœŸé—´ï¼Œæ•°æ®é›†å§‹ç»ˆä¿æŒä¸€è‡´çš„çŠ¶æ€ï¼Œå°±åƒç¬¦åˆ ACID åŸåˆ™çš„æ•°æ®åº“æ‰§è¡Œå›æ»šæ“ä½œä¸€æ ·ã€‚è¿™ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨æ•°æ®é›†å¤„äºæ´»åŠ¨çŠ¶æ€ä¸”å¯è®¿é—®çš„æƒ…å†µä¸‹ï¼Œæ— éœ€åœæœºã€‚ä¸€æ—¦å¿«ç…§å›æ»šå®Œæˆï¼Œæ•°æ®é›†çš„çŠ¶æ€ä¸å¿«ç…§åˆ›å»ºæ—¶çš„çŠ¶æ€ç›¸åŒã€‚å›æ»šåˆ°å¿«ç…§ä¼šä¸¢å¼ƒæ•°æ®é›†ä¸­ä¸å±äºè¯¥å¿«ç…§çš„æ‰€æœ‰å…¶ä»–æ•°æ®ã€‚åœ¨å›æ»šåˆ°ä»¥å‰çš„å¿«ç…§ä¹‹å‰ï¼Œå°†å½“å‰æ•°æ®é›†çš„çŠ¶æ€è¿›è¡Œå¿«ç…§æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œä»¥ä¾¿ç¨åéœ€è¦æŸäº›æ•°æ®ã€‚è¿™æ ·ï¼Œç”¨æˆ·å¯ä»¥åœ¨å¿«ç…§ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œè€Œä¸ä¼šä¸¢å¤±ä»ç„¶æœ‰ä»·å€¼çš„æ•°æ®ã€‚ÙyIn the first example, roll back a snapshot because of a careless `rm` operation that removes too much data than intended.Ù~åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œç”±äºä¸€ä¸ªç²—å¿ƒçš„ `rm` æ“ä½œåˆ é™¤äº†æ¯”é¢„æœŸæ›´å¤šçš„æ•°æ®ï¼Œå› æ­¤éœ€è¦å›æ»šä¸€ä¸ªå¿«ç…§ã€‚ÚAt this point, the user notices the removal of extra files and wants them back.  ZFS provides an easy way to get them back using rollbacks, when performing snapshots of important data on a regular basis.  To get the files back and start over from the last snapshot, issue the command:Úåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œç”¨æˆ·æ³¨æ„åˆ°é¢å¤–æ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œå¹¶å¸Œæœ›å°†å®ƒä»¬æ¢å¤ã€‚ ZFS æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ä½¿ç”¨å›æ»šå°†å®ƒä»¬æ¢å¤ï¼Œå½“å®šæœŸå¯¹é‡è¦æ•°æ®è¿›è¡Œå¿«ç…§æ—¶ã€‚è¦å°†æ–‡ä»¶æ¢å¤å¹¶ä»æœ€åä¸€ä¸ªå¿«ç…§é‡æ–°å¼€å§‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙëThe rollback operation restored the dataset to the state of the last snapshot.  Rolling back to a snapshot taken much earlier with other snapshots taken afterwards is also possible.  When trying to do this, ZFS will issue this warning:ÙÁå›æ»šæ“ä½œå°†æ•°æ®é›†æ¢å¤åˆ°æœ€åä¸€ä¸ªå¿«ç…§çš„çŠ¶æ€ã€‚ä¹Ÿå¯ä»¥å›æ»šåˆ°ä¹‹å‰æ‹æ‘„çš„å¿«ç…§ä¹‹åæ‹æ‘„çš„å…¶ä»–å¿«ç…§çš„çŠ¶æ€ã€‚åœ¨å°è¯•è¿™æ ·åšæ—¶ï¼ŒZFS ä¼šå‘å‡ºä»¥ä¸‹è­¦å‘Šï¼šÚThis warning means that snapshots exist between the current state of the dataset and the snapshot to which the user wants to roll back.  To complete the rollback delete these snapshots.  ZFS cannot track all the changes between different states of the dataset, because snapshots are read-only.  ZFS will not delete the affected snapshots unless the user specifies `-r` to confirm that this is the desired action.  If that is the intention, and understanding the consequences of losing all intermediate snapshots, issue the command:Ú¶è¿™ä¸ªè­¦å‘Šæ„å‘³ç€åœ¨å½“å‰æ•°æ®é›†çŠ¶æ€å’Œç”¨æˆ·æƒ³è¦å›æ»šçš„å¿«ç…§ä¹‹é—´å­˜åœ¨å¿«ç…§ã€‚è¦å®Œæˆå›æ»šæ“ä½œï¼Œè¯·åˆ é™¤è¿™äº›å¿«ç…§ã€‚ç”±äºå¿«ç…§æ˜¯åªè¯»çš„ï¼ŒZFS æ— æ³•è·Ÿè¸ªæ•°æ®é›†ä¸åŒçŠ¶æ€ä¹‹é—´çš„æ‰€æœ‰æ›´æ”¹ã€‚é™¤éç”¨æˆ·ä½¿ç”¨ `-r` å‚æ•°ç¡®è®¤è¿™æ˜¯æ‰€éœ€çš„æ“ä½œï¼Œå¦åˆ™ ZFS ä¸ä¼šåˆ é™¤å—å½±å“çš„å¿«ç…§ã€‚å¦‚æœè¿™æ˜¯ç”¨æˆ·çš„æ„å›¾ï¼Œå¹¶ä¸”ç†è§£ä¸¢å¤±æ‰€æœ‰ä¸­é—´å¿«ç…§çš„åæœï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šÙ{The output from `zfs list -t snapshot` confirms the removal of the intermediate snapshots as a result of `zfs rollback -r`.Ùi`zfs list -t snapshot` çš„è¾“å‡ºç¡®è®¤äº†ç”±äº `zfs rollback -r` çš„ç»“æœï¼Œä¸­é—´å¿«ç…§å·²è¢«åˆ é™¤ã€‚Ù)Restoring Individual Files from Snapshots¾ä»å¿«ç…§ä¸­æ¢å¤å•ä¸ªæ–‡ä»¶ÚöSnapshots live in a hidden directory under the parent dataset: [.filename]#.zfs/snapshots/snapshotname#.  By default, these directories will not show even when executing a standard `ls -a` .  Although the directory doesn't show, access it like any normal directory.  The property named `snapdir` controls whether these hidden directories show up in a directory listing.  Setting the property to `visible` allows them to appear in the output of `ls` and other commands that deal with directory contents.ÚÆå¿«ç…§å­˜å‚¨åœ¨çˆ¶æ•°æ®é›†çš„éšè—ç›®å½•ä¸‹ï¼š [.filename]#.zfs/snapshots/snapshotname# ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå³ä½¿æ‰§è¡Œæ ‡å‡†çš„ `ls -a` å‘½ä»¤ï¼Œè¿™äº›ç›®å½•ä¹Ÿä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚å°½ç®¡ç›®å½•ä¸å¯è§ï¼Œä½†å¯ä»¥åƒè®¿é—®æ™®é€šç›®å½•ä¸€æ ·è®¿é—®å®ƒã€‚åä¸º `snapdir` çš„å±æ€§æ§åˆ¶è¿™äº›éšè—ç›®å½•æ˜¯å¦åœ¨ç›®å½•åˆ—è¡¨ä¸­æ˜¾ç¤ºã€‚å°†è¯¥å±æ€§è®¾ç½®ä¸º `visible` å¯ä»¥ä½¿å®ƒä»¬å‡ºç°åœ¨ `ls` å’Œå…¶ä»–å¤„ç†ç›®å½•å†…å®¹çš„å‘½ä»¤çš„è¾“å‡ºä¸­ã€‚Ú¤Restore individual files to a previous state by copying them from the snapshot back to the parent dataset.  The directory structure below [.filename]#.zfs/snapshot# has a directory named like the snapshots taken earlier to make it easier to identify them.  The next example shows how to restore a file from the hidden [.filename]#.zfs# directory by copying it from the snapshot containing the latest version of the file:Ú^é€šè¿‡å°†æ–‡ä»¶ä»å¿«ç…§å¤åˆ¶å›çˆ¶æ•°æ®é›†ï¼Œå°†å…¶æ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ã€‚ [.filename]#.zfs/snapshot# ä¸‹çš„ç›®å½•ç»“æ„ä¸­æœ‰ä¸€ä¸ªç±»ä¼¼äºå…ˆå‰æ‹æ‘„çš„å¿«ç…§çš„ç›®å½•ï¼Œä»¥ä¾¿æ›´å®¹æ˜“è¯†åˆ«å®ƒä»¬ã€‚ä¸‹ä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä»éšè—çš„ [.filename]#.zfs# ç›®å½•ä¸­å¤åˆ¶æ–‡ä»¶ï¼Œä»åŒ…å«æ–‡ä»¶æœ€æ–°ç‰ˆæœ¬çš„å¿«ç…§ä¸­æ¢å¤æ–‡ä»¶ï¼šÚoEven if the `snapdir` property is set to hidden, running `ls .zfs/snapshot` will still list the contents of that directory.  The administrator decides whether to display these directories.  This is a per-dataset setting.  Copying files or directories from this hidden [.filename]#.zfs/snapshot# is simple enough.  Trying it the other way around results in this error:Ú4å³ä½¿å°† `snapdir` å±æ€§è®¾ç½®ä¸ºéšè—ï¼Œè¿è¡Œ `ls .zfs/snapshot` ä»ç„¶ä¼šåˆ—å‡ºè¯¥ç›®å½•çš„å†…å®¹ã€‚ç®¡ç†å‘˜å†³å®šæ˜¯å¦æ˜¾ç¤ºè¿™äº›ç›®å½•ã€‚è¿™æ˜¯æ¯ä¸ªæ•°æ®é›†çš„è®¾ç½®ã€‚ä»è¿™ä¸ªéšè—çš„ [.filename]#.zfs/snapshot# å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•éå¸¸ç®€å•ã€‚å°è¯•åè¿‡æ¥æ“ä½œä¼šå¯¼è‡´ä»¥ä¸‹é”™è¯¯ï¼šÙğThe error reminds the user that snapshots are read-only and cannot change after creation.  Copying files into and removing them from snapshot directories are both disallowed because that would change the state of the dataset they represent.Ùºè¯¥é”™è¯¯æé†’ç”¨æˆ·å¿«ç…§æ˜¯åªè¯»çš„ï¼Œåˆ›å»ºåä¸èƒ½æ›´æ”¹ã€‚å°†æ–‡ä»¶å¤åˆ¶åˆ°å¿«ç…§ç›®å½•æˆ–ä»ä¸­åˆ é™¤æ–‡ä»¶éƒ½æ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºè¿™ä¼šæ”¹å˜æ‰€è¡¨ç¤ºæ•°æ®é›†çš„çŠ¶æ€ã€‚Ù¶Snapshots consume space based on how much the parent file system has changed since the time of the snapshot.  The `written` property of a snapshot tracks the space the snapshot uses.Ùƒå¿«ç…§å ç”¨çš„ç©ºé—´å–å†³äºçˆ¶æ–‡ä»¶ç³»ç»Ÿè‡ªå¿«ç…§ä»¥æ¥çš„æ›´æ”¹é‡ã€‚å¿«ç…§çš„ `written` å±æ€§è·Ÿè¸ªå¿«ç…§ä½¿ç”¨çš„ç©ºé—´ã€‚Ú\To destroy snapshots and reclaim the space, use `zfs destroy _dataset_@_snapshot_`.  Adding `-r` recursively removes all snapshots with the same name under the parent dataset.  Adding `-n -v` to the command displays a list of the snapshots to be deleted and an estimate of the space it would reclaim without performing the actual destroy operation.Ú5è¦é”€æ¯å¿«ç…§å¹¶å›æ”¶ç©ºé—´ï¼Œè¯·ä½¿ç”¨ `zfs destroy _dataset_@_snapshot_` å‘½ä»¤ã€‚æ·»åŠ  `-r` é€‰é¡¹å¯ä»¥é€’å½’åˆ é™¤çˆ¶æ•°æ®é›†ä¸‹å…·æœ‰ç›¸åŒåç§°çš„æ‰€æœ‰å¿«ç…§ã€‚åœ¨å‘½ä»¤ä¸­æ·»åŠ  `-n -v` é€‰é¡¹å¯ä»¥æ˜¾ç¤ºè¦åˆ é™¤çš„å¿«ç…§åˆ—è¡¨ä»¥åŠæ‰§è¡Œå®é™…é”€æ¯æ“ä½œå‰å°†å›æ”¶çš„ç©ºé—´çš„ä¼°è®¡å€¼ã€‚¯Managing Clones²ç®¡ç†å…‹éš†å®ä¾‹Ú²A clone is a copy of a snapshot treated more like a regular dataset.  Unlike a snapshot, a clone is writeable and mountable, and has its own properties.  After creating a clone using `zfs clone`, destroying the originating snapshot is impossible.  To reverse the child/parent relationship between the clone and the snapshot use `zfs promote`.  Promoting a clone makes the snapshot become a child of the clone, rather than of the original parent dataset.  This will change how ZFS accounts for the space, but not actually change the amount of space consumed.  Mounting the clone anywhere within the ZFS file system hierarchy is possible, not only below the original location of the snapshot.Ú=å…‹éš†æ˜¯å¿«ç…§çš„å‰¯æœ¬ï¼Œæ›´åƒä¸€ä¸ªå¸¸è§„æ•°æ®é›†ã€‚ä¸å¿«ç…§ä¸åŒï¼Œå…‹éš†æ˜¯å¯å†™çš„å’Œå¯æŒ‚è½½çš„ï¼Œå¹¶ä¸”å…·æœ‰è‡ªå·±çš„å±æ€§ã€‚ä½¿ç”¨ `zfs clone` åˆ›å»ºå…‹éš†åï¼Œæ— æ³•é”€æ¯åŸå§‹å¿«ç…§ã€‚è¦åè½¬å…‹éš†å’Œå¿«ç…§ä¹‹é—´çš„å­/çˆ¶å…³ç³»ï¼Œè¯·ä½¿ç”¨ `zfs promote` ã€‚å°†å…‹éš†æå‡ä¸ºå¿«ç…§æˆä¸ºå…‹éš†çš„å­é¡¹ï¼Œè€Œä¸æ˜¯åŸå§‹çˆ¶æ•°æ®é›†çš„å­é¡¹ã€‚è¿™å°†æ”¹å˜ ZFS å¯¹ç©ºé—´çš„è®¡ç®—æ–¹å¼ï¼Œä½†å®é™…ä¸Šä¸ä¼šæ”¹å˜æ‰€æ¶ˆè€—çš„ç©ºé—´é‡ã€‚å¯ä»¥åœ¨ ZFS æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­çš„ä»»ä½•ä½ç½®æŒ‚è½½å…‹éš†ï¼Œä¸ä»…é™äºå¿«ç…§çš„åŸå§‹ä½ç½®ä¸‹æ–¹ã€‚Ù3To show the clone feature use this example dataset:Ù9è¦å±•ç¤ºå…‹éš†åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ç¤ºä¾‹æ•°æ®é›†ï¼šÚºA typical use for clones is to experiment with a specific dataset while keeping the snapshot around to fall back to in case something goes wrong.  Since snapshots cannot change, create a read/write clone of a snapshot.  After achieving the desired result in the clone, promote the clone to a dataset and remove the old file system.  Removing the parent dataset is not strictly necessary, as the clone and dataset can coexist without problems.Úå…‹éš†çš„å…¸å‹ç”¨é€”æ˜¯åœ¨è¿›è¡Œç‰¹å®šæ•°æ®é›†çš„å®éªŒæ—¶ï¼Œä¿ç•™å¿«ç…§ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚ç”±äºå¿«ç…§æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œå› æ­¤éœ€è¦åˆ›å»ºä¸€ä¸ªå¯è¯»/å†™çš„å¿«ç…§å…‹éš†ã€‚åœ¨å…‹éš†ä¸­è·å¾—æ‰€éœ€çš„ç»“æœåï¼Œå°†å…‹éš†æå‡ä¸ºæ•°æ®é›†å¹¶åˆ é™¤æ—§çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸¥æ ¼æ¥è¯´ï¼Œåˆ é™¤çˆ¶æ•°æ®é›†å¹¶éå¿…éœ€ï¼Œå› ä¸ºå…‹éš†å’Œæ•°æ®é›†å¯ä»¥å…±å­˜è€Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚ÚóCreating a clone makes it an exact copy of the state the dataset was in when taking the snapshot.  Changing the clone independently from its originating dataset is possible now.  The connection between the two is the snapshot.  ZFS records this connection in the property `origin`.  Promoting the clone with `zfs promote` makes the clone an independent dataset.  This removes the value of the `origin` property and disconnects the newly independent dataset from the snapshot.  This example shows it:ÚŸåˆ›å»ºå…‹éš†ä¼šä½¿å…¶æˆä¸ºæ•°æ®é›†åœ¨æ‹æ‘„å¿«ç…§æ—¶çš„ç²¾ç¡®å‰¯æœ¬ã€‚ç°åœ¨å¯ä»¥ç‹¬ç«‹åœ°æ›´æ”¹å…‹éš†ä¸å…¶æºæ•°æ®é›†ä¹‹é—´çš„è¿æ¥ã€‚ä¸¤è€…ä¹‹é—´çš„è¿æ¥æ˜¯å¿«ç…§ã€‚ ZFS å°†æ­¤è¿æ¥è®°å½•åœ¨å±æ€§ `origin` ä¸­ã€‚ä½¿ç”¨ `zfs promote` æå‡å…‹éš†å°†ä½¿å…¶æˆä¸ºç‹¬ç«‹çš„æ•°æ®é›†ã€‚è¿™å°†åˆ é™¤ `origin` å±æ€§çš„å€¼ï¼Œå¹¶æ–­å¼€æ–°ç‹¬ç«‹æ•°æ®é›†ä¸å¿«ç…§ä¹‹é—´çš„è¿æ¥ã€‚ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜äº†è¿™ä¸€ç‚¹ï¼šÚNAfter making some changes like copying [.filename]#loader.conf# to the promoted clone, for example, the old directory becomes obsolete in this case.  Instead, the promoted clone can replace it.  To do this, `zfs destroy` the old dataset first and then `zfs rename` the clone to the old dataset name (or to an entirely different name).Úiåœ¨è¿›è¡Œä¸€äº›æ›´æ”¹åï¼Œä¾‹å¦‚å°† [.filename]#loader.conf# å¤åˆ¶åˆ°æ¨å¹¿çš„å…‹éš†ä¸­ï¼Œæ—§ç›®å½•åœ¨è¿™ç§æƒ…å†µä¸‹å˜å¾—è¿‡æ—¶ã€‚ç›¸åï¼Œæ¨å¹¿çš„å…‹éš†å¯ä»¥æ›¿ä»£å®ƒã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆä½¿ç”¨ `zfs destroy` å‘½ä»¤é”€æ¯æ—§æ•°æ®é›†ï¼Œç„¶åä½¿ç”¨ `zfs rename` å‘½ä»¤å°†å…‹éš†é‡å‘½åä¸ºæ—§æ•°æ®é›†çš„åç§°ï¼ˆæˆ–å®Œå…¨ä¸åŒçš„åç§°ï¼‰ã€‚ÚqThe cloned snapshot is now an ordinary dataset.  It contains all the data from the original snapshot plus the files added to it like [.filename]#loader.conf#.  Clones provide useful features to ZFS users in different scenarios.  For example, provide jails as snapshots containing different sets of installed applications.  Users can clone these snapshots and add their own applications as they see fit.  Once satisfied with the changes, promote the clones to full datasets and provide them to end users to work with like they would with a real dataset.  This saves time and administrative overhead when providing these jails.ÚQå…‹éš†çš„å¿«ç…§ç°åœ¨æ˜¯ä¸€ä¸ªæ™®é€šçš„æ•°æ®é›†ã€‚å®ƒåŒ…å«äº†åŸå§‹å¿«ç…§ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä»¥åŠåƒ [.filename]#loader.conf# è¿™æ ·æ·»åŠ åˆ°å…¶ä¸­çš„æ–‡ä»¶ã€‚åœ¨ä¸åŒçš„åœºæ™¯ä¸­ï¼Œå…‹éš†ä¸º ZFS ç”¨æˆ·æä¾›äº†æœ‰ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°† jails ä½œä¸ºåŒ…å«ä¸åŒå®‰è£…åº”ç”¨ç¨‹åºé›†çš„å¿«ç…§ã€‚ç”¨æˆ·å¯ä»¥å…‹éš†è¿™äº›å¿«ç…§ï¼Œå¹¶æ ¹æ®éœ€è¦æ·»åŠ è‡ªå·±çš„åº”ç”¨ç¨‹åºã€‚ä¸€æ—¦å¯¹æ›´æ”¹æ»¡æ„ï¼Œå¯ä»¥å°†å…‹éš†æå‡ä¸ºå®Œæ•´çš„æ•°æ®é›†ï¼Œå¹¶å°†å…¶æä¾›ç»™æœ€ç»ˆç”¨æˆ·ï¼Œå°±åƒä½¿ç”¨çœŸå®æ•°æ®é›†ä¸€æ ·ã€‚è¿™æ ·å¯ä»¥èŠ‚çœæä¾›è¿™äº›ç›‘ç‹±æ—¶çš„æ—¶é—´å’Œç®¡ç†å¼€é”€ã€‚